var Pg=Object.defineProperty;var Ag=(e,t,n)=>t in e?Pg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Lu=(e,t,n)=>Ag(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Rg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Eh={exports:{}},_o={},_h={exports:{}},ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Js=Symbol.for("react.element"),Dg=Symbol.for("react.portal"),Lg=Symbol.for("react.fragment"),Ig=Symbol.for("react.strict_mode"),Fg=Symbol.for("react.profiler"),Vg=Symbol.for("react.provider"),Og=Symbol.for("react.context"),Bg=Symbol.for("react.forward_ref"),Ug=Symbol.for("react.suspense"),zg=Symbol.for("react.memo"),Gg=Symbol.for("react.lazy"),Iu=Symbol.iterator;function $g(e){return e===null||typeof e!="object"?null:(e=Iu&&e[Iu]||e["@@iterator"],typeof e=="function"?e:null)}var Mh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ph=Object.assign,Ah={};function Ur(e,t,n){this.props=e,this.context=t,this.refs=Ah,this.updater=n||Mh}Ur.prototype.isReactComponent={};Ur.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ur.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Rh(){}Rh.prototype=Ur.prototype;function nc(e,t,n){this.props=e,this.context=t,this.refs=Ah,this.updater=n||Mh}var rc=nc.prototype=new Rh;rc.constructor=nc;Ph(rc,Ur.prototype);rc.isPureReactComponent=!0;var Fu=Array.isArray,Dh=Object.prototype.hasOwnProperty,sc={current:null},Lh={key:!0,ref:!0,__self:!0,__source:!0};function Ih(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Dh.call(t,r)&&!Lh.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Js,type:e,key:i,ref:o,props:s,_owner:sc.current}}function Wg(e,t){return{$$typeof:Js,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ic(e){return typeof e=="object"&&e!==null&&e.$$typeof===Js}function Hg(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Vu=/\/+/g;function ea(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Hg(""+e.key):t.toString(36)}function Di(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Js:case Dg:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+ea(o,0):r,Fu(s)?(n="",e!=null&&(n=e.replace(Vu,"$&/")+"/"),Di(s,t,n,"",function(u){return u})):s!=null&&(ic(s)&&(s=Wg(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Vu,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",Fu(e))for(var l=0;l<e.length;l++){i=e[l];var c=r+ea(i,l);o+=Di(i,t,n,c,s)}else if(c=$g(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=r+ea(i,l++),o+=Di(i,t,n,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ci(e,t,n){if(e==null)return e;var r=[],s=0;return Di(e,r,"","",function(i){return t.call(n,i,s++)}),r}function Yg(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var qe={current:null},Li={transition:null},qg={ReactCurrentDispatcher:qe,ReactCurrentBatchConfig:Li,ReactCurrentOwner:sc};function Fh(){throw Error("act(...) is not supported in production builds of React.")}ie.Children={map:ci,forEach:function(e,t,n){ci(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ci(e,function(){t++}),t},toArray:function(e){return ci(e,function(t){return t})||[]},only:function(e){if(!ic(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ie.Component=Ur;ie.Fragment=Lg;ie.Profiler=Fg;ie.PureComponent=nc;ie.StrictMode=Ig;ie.Suspense=Ug;ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qg;ie.act=Fh;ie.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Ph({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=sc.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Dh.call(t,c)&&!Lh.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Js,type:e.type,key:s,ref:i,props:r,_owner:o}};ie.createContext=function(e){return e={$$typeof:Og,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Vg,_context:e},e.Consumer=e};ie.createElement=Ih;ie.createFactory=function(e){var t=Ih.bind(null,e);return t.type=e,t};ie.createRef=function(){return{current:null}};ie.forwardRef=function(e){return{$$typeof:Bg,render:e}};ie.isValidElement=ic;ie.lazy=function(e){return{$$typeof:Gg,_payload:{_status:-1,_result:e},_init:Yg}};ie.memo=function(e,t){return{$$typeof:zg,type:e,compare:t===void 0?null:t}};ie.startTransition=function(e){var t=Li.transition;Li.transition={};try{e()}finally{Li.transition=t}};ie.unstable_act=Fh;ie.useCallback=function(e,t){return qe.current.useCallback(e,t)};ie.useContext=function(e){return qe.current.useContext(e)};ie.useDebugValue=function(){};ie.useDeferredValue=function(e){return qe.current.useDeferredValue(e)};ie.useEffect=function(e,t){return qe.current.useEffect(e,t)};ie.useId=function(){return qe.current.useId()};ie.useImperativeHandle=function(e,t,n){return qe.current.useImperativeHandle(e,t,n)};ie.useInsertionEffect=function(e,t){return qe.current.useInsertionEffect(e,t)};ie.useLayoutEffect=function(e,t){return qe.current.useLayoutEffect(e,t)};ie.useMemo=function(e,t){return qe.current.useMemo(e,t)};ie.useReducer=function(e,t,n){return qe.current.useReducer(e,t,n)};ie.useRef=function(e){return qe.current.useRef(e)};ie.useState=function(e){return qe.current.useState(e)};ie.useSyncExternalStore=function(e,t,n){return qe.current.useSyncExternalStore(e,t,n)};ie.useTransition=function(){return qe.current.useTransition()};ie.version="18.3.1";_h.exports=ie;var p=_h.exports;const Ou=Rg(p);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kg=p,Qg=Symbol.for("react.element"),Xg=Symbol.for("react.fragment"),Zg=Object.prototype.hasOwnProperty,Jg=Kg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ey={key:!0,ref:!0,__self:!0,__source:!0};function Vh(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Zg.call(t,r)&&!ey.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Qg,type:e,key:i,ref:o,props:s,_owner:Jg.current}}_o.Fragment=Xg;_o.jsx=Vh;_o.jsxs=Vh;Eh.exports=_o;var a=Eh.exports,Oh={exports:{}},ut={},Bh={exports:{}},Uh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,E){var j=I.length;I.push(E);e:for(;0<j;){var R=j-1>>>1,P=I[R];if(0<s(P,E))I[R]=E,I[j]=P,j=R;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var E=I[0],j=I.pop();if(j!==E){I[0]=j;e:for(var R=0,P=I.length,D=P>>>1;R<D;){var K=2*(R+1)-1,se=I[K],B=K+1,W=I[B];if(0>s(se,j))B<P&&0>s(W,se)?(I[R]=W,I[B]=j,R=B):(I[R]=se,I[K]=j,R=K);else if(B<P&&0>s(W,j))I[R]=W,I[B]=j,R=B;else break e}}return E}function s(I,E){var j=I.sortIndex-E.sortIndex;return j!==0?j:I.id-E.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],h=1,d=null,m=3,y=!1,b=!1,w=!1,k=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(I){for(var E=n(u);E!==null;){if(E.callback===null)r(u);else if(E.startTime<=I)r(u),E.sortIndex=E.expirationTime,t(c,E);else break;E=n(u)}}function v(I){if(w=!1,g(I),!b)if(n(c)!==null)b=!0,ne(S);else{var E=n(u);E!==null&&Z(v,E.startTime-I)}}function S(I,E){b=!1,w&&(w=!1,x(N),N=-1),y=!0;var j=m;try{for(g(E),d=n(c);d!==null&&(!(d.expirationTime>E)||I&&!O());){var R=d.callback;if(typeof R=="function"){d.callback=null,m=d.priorityLevel;var P=R(d.expirationTime<=E);E=e.unstable_now(),typeof P=="function"?d.callback=P:d===n(c)&&r(c),g(E)}else r(c);d=n(c)}if(d!==null)var D=!0;else{var K=n(u);K!==null&&Z(v,K.startTime-E),D=!1}return D}finally{d=null,m=j,y=!1}}var C=!1,T=null,N=-1,_=5,M=-1;function O(){return!(e.unstable_now()-M<_)}function A(){if(T!==null){var I=e.unstable_now();M=I;var E=!0;try{E=T(!0,I)}finally{E?F():(C=!1,T=null)}}else C=!1}var F;if(typeof f=="function")F=function(){f(A)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,$=z.port2;z.port1.onmessage=A,F=function(){$.postMessage(null)}}else F=function(){k(A,0)};function ne(I){T=I,C||(C=!0,F())}function Z(I,E){N=k(function(){I(e.unstable_now())},E)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){b||y||(b=!0,ne(S))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(I){switch(m){case 1:case 2:case 3:var E=3;break;default:E=m}var j=m;m=E;try{return I()}finally{m=j}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,E){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var j=m;m=I;try{return E()}finally{m=j}},e.unstable_scheduleCallback=function(I,E,j){var R=e.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?R+j:R):j=R,I){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=j+P,I={id:h++,callback:E,priorityLevel:I,startTime:j,expirationTime:P,sortIndex:-1},j>R?(I.sortIndex=j,t(u,I),n(c)===null&&I===n(u)&&(w?(x(N),N=-1):w=!0,Z(v,j-R))):(I.sortIndex=P,t(c,I),b||y||(b=!0,ne(S))),I},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(I){var E=m;return function(){var j=m;m=E;try{return I.apply(this,arguments)}finally{m=j}}}})(Uh);Bh.exports=Uh;var ty=Bh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ny=p,lt=ty;function U(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var zh=new Set,Ms={};function Zn(e,t){Er(e,t),Er(e+"Capture",t)}function Er(e,t){for(Ms[e]=t,e=0;e<t.length;e++)zh.add(t[e])}var Kt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ya=Object.prototype.hasOwnProperty,ry=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Bu={},Uu={};function sy(e){return Ya.call(Uu,e)?!0:Ya.call(Bu,e)?!1:ry.test(e)?Uu[e]=!0:(Bu[e]=!0,!1)}function iy(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function oy(e,t,n,r){if(t===null||typeof t>"u"||iy(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ke(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Fe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Fe[e]=new Ke(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Fe[t]=new Ke(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Fe[e]=new Ke(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Fe[e]=new Ke(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Fe[e]=new Ke(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Fe[e]=new Ke(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Fe[e]=new Ke(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Fe[e]=new Ke(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Fe[e]=new Ke(e,5,!1,e.toLowerCase(),null,!1,!1)});var oc=/[\-:]([a-z])/g;function ac(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(oc,ac);Fe[t]=new Ke(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(oc,ac);Fe[t]=new Ke(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(oc,ac);Fe[t]=new Ke(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Fe[e]=new Ke(e,1,!1,e.toLowerCase(),null,!1,!1)});Fe.xlinkHref=new Ke("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Fe[e]=new Ke(e,1,!1,e.toLowerCase(),null,!0,!0)});function lc(e,t,n,r){var s=Fe.hasOwnProperty(t)?Fe[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(oy(t,n,s,r)&&(n=null),r||s===null?sy(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var en=ny.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ui=Symbol.for("react.element"),ir=Symbol.for("react.portal"),or=Symbol.for("react.fragment"),cc=Symbol.for("react.strict_mode"),qa=Symbol.for("react.profiler"),Gh=Symbol.for("react.provider"),$h=Symbol.for("react.context"),uc=Symbol.for("react.forward_ref"),Ka=Symbol.for("react.suspense"),Qa=Symbol.for("react.suspense_list"),dc=Symbol.for("react.memo"),an=Symbol.for("react.lazy"),Wh=Symbol.for("react.offscreen"),zu=Symbol.iterator;function Kr(e){return e===null||typeof e!="object"?null:(e=zu&&e[zu]||e["@@iterator"],typeof e=="function"?e:null)}var be=Object.assign,ta;function cs(e){if(ta===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ta=t&&t[1]||""}return`
`+ta+e}var na=!1;function ra(e,t){if(!e||na)return"";na=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{na=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?cs(e):""}function ay(e){switch(e.tag){case 5:return cs(e.type);case 16:return cs("Lazy");case 13:return cs("Suspense");case 19:return cs("SuspenseList");case 0:case 2:case 15:return e=ra(e.type,!1),e;case 11:return e=ra(e.type.render,!1),e;case 1:return e=ra(e.type,!0),e;default:return""}}function Xa(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case or:return"Fragment";case ir:return"Portal";case qa:return"Profiler";case cc:return"StrictMode";case Ka:return"Suspense";case Qa:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case $h:return(e.displayName||"Context")+".Consumer";case Gh:return(e._context.displayName||"Context")+".Provider";case uc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case dc:return t=e.displayName||null,t!==null?t:Xa(e.type)||"Memo";case an:t=e._payload,e=e._init;try{return Xa(e(t))}catch{}}return null}function ly(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Xa(t);case 8:return t===cc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function bn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Hh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function cy(e){var t=Hh(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function di(e){e._valueTracker||(e._valueTracker=cy(e))}function Yh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Hh(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ki(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Za(e,t){var n=t.checked;return be({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Gu(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=bn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function qh(e,t){t=t.checked,t!=null&&lc(e,"checked",t,!1)}function Ja(e,t){qh(e,t);var n=bn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?el(e,t.type,n):t.hasOwnProperty("defaultValue")&&el(e,t.type,bn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function $u(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function el(e,t,n){(t!=="number"||Ki(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var us=Array.isArray;function kr(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+bn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function tl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(U(91));return be({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Wu(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(U(92));if(us(n)){if(1<n.length)throw Error(U(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:bn(n)}}function Kh(e,t){var n=bn(t.value),r=bn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Hu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Qh(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function nl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Qh(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var fi,Xh=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(fi=fi||document.createElement("div"),fi.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=fi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ps(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ys={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},uy=["Webkit","ms","Moz","O"];Object.keys(ys).forEach(function(e){uy.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ys[t]=ys[e]})});function Zh(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ys.hasOwnProperty(e)&&ys[e]?(""+t).trim():t+"px"}function Jh(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Zh(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var dy=be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rl(e,t){if(t){if(dy[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(U(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(U(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(U(61))}if(t.style!=null&&typeof t.style!="object")throw Error(U(62))}}function sl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var il=null;function fc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ol=null,Sr=null,Nr=null;function Yu(e){if(e=ni(e)){if(typeof ol!="function")throw Error(U(280));var t=e.stateNode;t&&(t=Do(t),ol(e.stateNode,e.type,t))}}function em(e){Sr?Nr?Nr.push(e):Nr=[e]:Sr=e}function tm(){if(Sr){var e=Sr,t=Nr;if(Nr=Sr=null,Yu(e),t)for(e=0;e<t.length;e++)Yu(t[e])}}function nm(e,t){return e(t)}function rm(){}var sa=!1;function sm(e,t,n){if(sa)return e(t,n);sa=!0;try{return nm(e,t,n)}finally{sa=!1,(Sr!==null||Nr!==null)&&(rm(),tm())}}function As(e,t){var n=e.stateNode;if(n===null)return null;var r=Do(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(U(231,t,typeof n));return n}var al=!1;if(Kt)try{var Qr={};Object.defineProperty(Qr,"passive",{get:function(){al=!0}}),window.addEventListener("test",Qr,Qr),window.removeEventListener("test",Qr,Qr)}catch{al=!1}function fy(e,t,n,r,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(h){this.onError(h)}}var xs=!1,Qi=null,Xi=!1,ll=null,hy={onError:function(e){xs=!0,Qi=e}};function my(e,t,n,r,s,i,o,l,c){xs=!1,Qi=null,fy.apply(hy,arguments)}function py(e,t,n,r,s,i,o,l,c){if(my.apply(this,arguments),xs){if(xs){var u=Qi;xs=!1,Qi=null}else throw Error(U(198));Xi||(Xi=!0,ll=u)}}function Jn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function im(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function qu(e){if(Jn(e)!==e)throw Error(U(188))}function gy(e){var t=e.alternate;if(!t){if(t=Jn(e),t===null)throw Error(U(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return qu(s),e;if(i===r)return qu(s),t;i=i.sibling}throw Error(U(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?e:t}function om(e){return e=gy(e),e!==null?am(e):null}function am(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=am(e);if(t!==null)return t;e=e.sibling}return null}var lm=lt.unstable_scheduleCallback,Ku=lt.unstable_cancelCallback,yy=lt.unstable_shouldYield,xy=lt.unstable_requestPaint,Te=lt.unstable_now,vy=lt.unstable_getCurrentPriorityLevel,hc=lt.unstable_ImmediatePriority,cm=lt.unstable_UserBlockingPriority,Zi=lt.unstable_NormalPriority,wy=lt.unstable_LowPriority,um=lt.unstable_IdlePriority,Mo=null,Vt=null;function by(e){if(Vt&&typeof Vt.onCommitFiberRoot=="function")try{Vt.onCommitFiberRoot(Mo,e,void 0,(e.current.flags&128)===128)}catch{}}var Ct=Math.clz32?Math.clz32:Ny,ky=Math.log,Sy=Math.LN2;function Ny(e){return e>>>=0,e===0?32:31-(ky(e)/Sy|0)|0}var hi=64,mi=4194304;function ds(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ji(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=ds(l):(i&=o,i!==0&&(r=ds(i)))}else o=n&~s,o!==0?r=ds(o):i!==0&&(r=ds(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ct(t),s=1<<n,r|=e[n],t&=~s;return r}function Ty(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cy(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Ct(i),l=1<<o,c=s[o];c===-1?(!(l&n)||l&r)&&(s[o]=Ty(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function cl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function dm(){var e=hi;return hi<<=1,!(hi&4194240)&&(hi=64),e}function ia(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ei(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ct(t),e[t]=n}function jy(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Ct(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function mc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ct(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var le=0;function fm(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var hm,pc,mm,pm,gm,ul=!1,pi=[],hn=null,mn=null,pn=null,Rs=new Map,Ds=new Map,cn=[],Ey="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qu(e,t){switch(e){case"focusin":case"focusout":hn=null;break;case"dragenter":case"dragleave":mn=null;break;case"mouseover":case"mouseout":pn=null;break;case"pointerover":case"pointerout":Rs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ds.delete(t.pointerId)}}function Xr(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=ni(t),t!==null&&pc(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function _y(e,t,n,r,s){switch(t){case"focusin":return hn=Xr(hn,e,t,n,r,s),!0;case"dragenter":return mn=Xr(mn,e,t,n,r,s),!0;case"mouseover":return pn=Xr(pn,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Rs.set(i,Xr(Rs.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Ds.set(i,Xr(Ds.get(i)||null,e,t,n,r,s)),!0}return!1}function ym(e){var t=Vn(e.target);if(t!==null){var n=Jn(t);if(n!==null){if(t=n.tag,t===13){if(t=im(n),t!==null){e.blockedOn=t,gm(e.priority,function(){mm(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ii(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=dl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);il=r,n.target.dispatchEvent(r),il=null}else return t=ni(n),t!==null&&pc(t),e.blockedOn=n,!1;t.shift()}return!0}function Xu(e,t,n){Ii(e)&&n.delete(t)}function My(){ul=!1,hn!==null&&Ii(hn)&&(hn=null),mn!==null&&Ii(mn)&&(mn=null),pn!==null&&Ii(pn)&&(pn=null),Rs.forEach(Xu),Ds.forEach(Xu)}function Zr(e,t){e.blockedOn===t&&(e.blockedOn=null,ul||(ul=!0,lt.unstable_scheduleCallback(lt.unstable_NormalPriority,My)))}function Ls(e){function t(s){return Zr(s,e)}if(0<pi.length){Zr(pi[0],e);for(var n=1;n<pi.length;n++){var r=pi[n];r.blockedOn===e&&(r.blockedOn=null)}}for(hn!==null&&Zr(hn,e),mn!==null&&Zr(mn,e),pn!==null&&Zr(pn,e),Rs.forEach(t),Ds.forEach(t),n=0;n<cn.length;n++)r=cn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<cn.length&&(n=cn[0],n.blockedOn===null);)ym(n),n.blockedOn===null&&cn.shift()}var Tr=en.ReactCurrentBatchConfig,eo=!0;function Py(e,t,n,r){var s=le,i=Tr.transition;Tr.transition=null;try{le=1,gc(e,t,n,r)}finally{le=s,Tr.transition=i}}function Ay(e,t,n,r){var s=le,i=Tr.transition;Tr.transition=null;try{le=4,gc(e,t,n,r)}finally{le=s,Tr.transition=i}}function gc(e,t,n,r){if(eo){var s=dl(e,t,n,r);if(s===null)pa(e,t,r,to,n),Qu(e,r);else if(_y(s,e,t,n,r))r.stopPropagation();else if(Qu(e,r),t&4&&-1<Ey.indexOf(e)){for(;s!==null;){var i=ni(s);if(i!==null&&hm(i),i=dl(e,t,n,r),i===null&&pa(e,t,r,to,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else pa(e,t,r,null,n)}}var to=null;function dl(e,t,n,r){if(to=null,e=fc(r),e=Vn(e),e!==null)if(t=Jn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=im(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return to=e,null}function xm(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vy()){case hc:return 1;case cm:return 4;case Zi:case wy:return 16;case um:return 536870912;default:return 16}default:return 16}}var dn=null,yc=null,Fi=null;function vm(){if(Fi)return Fi;var e,t=yc,n=t.length,r,s="value"in dn?dn.value:dn.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return Fi=s.slice(e,1<r?1-r:void 0)}function Vi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function gi(){return!0}function Zu(){return!1}function dt(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?gi:Zu,this.isPropagationStopped=Zu,this}return be(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=gi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=gi)},persist:function(){},isPersistent:gi}),t}var zr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xc=dt(zr),ti=be({},zr,{view:0,detail:0}),Ry=dt(ti),oa,aa,Jr,Po=be({},ti,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Jr&&(Jr&&e.type==="mousemove"?(oa=e.screenX-Jr.screenX,aa=e.screenY-Jr.screenY):aa=oa=0,Jr=e),oa)},movementY:function(e){return"movementY"in e?e.movementY:aa}}),Ju=dt(Po),Dy=be({},Po,{dataTransfer:0}),Ly=dt(Dy),Iy=be({},ti,{relatedTarget:0}),la=dt(Iy),Fy=be({},zr,{animationName:0,elapsedTime:0,pseudoElement:0}),Vy=dt(Fy),Oy=be({},zr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),By=dt(Oy),Uy=be({},zr,{data:0}),ed=dt(Uy),zy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$y={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wy(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=$y[e])?!!t[e]:!1}function vc(){return Wy}var Hy=be({},ti,{key:function(e){if(e.key){var t=zy[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Vi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Gy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vc,charCode:function(e){return e.type==="keypress"?Vi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Vi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Yy=dt(Hy),qy=be({},Po,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),td=dt(qy),Ky=be({},ti,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vc}),Qy=dt(Ky),Xy=be({},zr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zy=dt(Xy),Jy=be({},Po,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ex=dt(Jy),tx=[9,13,27,32],wc=Kt&&"CompositionEvent"in window,vs=null;Kt&&"documentMode"in document&&(vs=document.documentMode);var nx=Kt&&"TextEvent"in window&&!vs,wm=Kt&&(!wc||vs&&8<vs&&11>=vs),nd=" ",rd=!1;function bm(e,t){switch(e){case"keyup":return tx.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function km(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ar=!1;function rx(e,t){switch(e){case"compositionend":return km(t);case"keypress":return t.which!==32?null:(rd=!0,nd);case"textInput":return e=t.data,e===nd&&rd?null:e;default:return null}}function sx(e,t){if(ar)return e==="compositionend"||!wc&&bm(e,t)?(e=vm(),Fi=yc=dn=null,ar=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return wm&&t.locale!=="ko"?null:t.data;default:return null}}var ix={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ix[e.type]:t==="textarea"}function Sm(e,t,n,r){em(r),t=no(t,"onChange"),0<t.length&&(n=new xc("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ws=null,Is=null;function ox(e){Dm(e,0)}function Ao(e){var t=ur(e);if(Yh(t))return e}function ax(e,t){if(e==="change")return t}var Nm=!1;if(Kt){var ca;if(Kt){var ua="oninput"in document;if(!ua){var id=document.createElement("div");id.setAttribute("oninput","return;"),ua=typeof id.oninput=="function"}ca=ua}else ca=!1;Nm=ca&&(!document.documentMode||9<document.documentMode)}function od(){ws&&(ws.detachEvent("onpropertychange",Tm),Is=ws=null)}function Tm(e){if(e.propertyName==="value"&&Ao(Is)){var t=[];Sm(t,Is,e,fc(e)),sm(ox,t)}}function lx(e,t,n){e==="focusin"?(od(),ws=t,Is=n,ws.attachEvent("onpropertychange",Tm)):e==="focusout"&&od()}function cx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ao(Is)}function ux(e,t){if(e==="click")return Ao(t)}function dx(e,t){if(e==="input"||e==="change")return Ao(t)}function fx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Et=typeof Object.is=="function"?Object.is:fx;function Fs(e,t){if(Et(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Ya.call(t,s)||!Et(e[s],t[s]))return!1}return!0}function ad(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ld(e,t){var n=ad(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ad(n)}}function Cm(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Cm(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function jm(){for(var e=window,t=Ki();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ki(e.document)}return t}function bc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function hx(e){var t=jm(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Cm(n.ownerDocument.documentElement,n)){if(r!==null&&bc(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=ld(n,i);var o=ld(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mx=Kt&&"documentMode"in document&&11>=document.documentMode,lr=null,fl=null,bs=null,hl=!1;function cd(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;hl||lr==null||lr!==Ki(r)||(r=lr,"selectionStart"in r&&bc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),bs&&Fs(bs,r)||(bs=r,r=no(fl,"onSelect"),0<r.length&&(t=new xc("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=lr)))}function yi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cr={animationend:yi("Animation","AnimationEnd"),animationiteration:yi("Animation","AnimationIteration"),animationstart:yi("Animation","AnimationStart"),transitionend:yi("Transition","TransitionEnd")},da={},Em={};Kt&&(Em=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);function Ro(e){if(da[e])return da[e];if(!cr[e])return e;var t=cr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Em)return da[e]=t[n];return e}var _m=Ro("animationend"),Mm=Ro("animationiteration"),Pm=Ro("animationstart"),Am=Ro("transitionend"),Rm=new Map,ud="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cn(e,t){Rm.set(e,t),Zn(t,[e])}for(var fa=0;fa<ud.length;fa++){var ha=ud[fa],px=ha.toLowerCase(),gx=ha[0].toUpperCase()+ha.slice(1);Cn(px,"on"+gx)}Cn(_m,"onAnimationEnd");Cn(Mm,"onAnimationIteration");Cn(Pm,"onAnimationStart");Cn("dblclick","onDoubleClick");Cn("focusin","onFocus");Cn("focusout","onBlur");Cn(Am,"onTransitionEnd");Er("onMouseEnter",["mouseout","mouseover"]);Er("onMouseLeave",["mouseout","mouseover"]);Er("onPointerEnter",["pointerout","pointerover"]);Er("onPointerLeave",["pointerout","pointerover"]);Zn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Zn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Zn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Zn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Zn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Zn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yx=new Set("cancel close invalid load scroll toggle".split(" ").concat(fs));function dd(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,py(r,t,void 0,e),e.currentTarget=null}function Dm(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;dd(s,l,u),i=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;dd(s,l,u),i=c}}}if(Xi)throw e=ll,Xi=!1,ll=null,e}function fe(e,t){var n=t[xl];n===void 0&&(n=t[xl]=new Set);var r=e+"__bubble";n.has(r)||(Lm(t,e,2,!1),n.add(r))}function ma(e,t,n){var r=0;t&&(r|=4),Lm(n,e,r,t)}var xi="_reactListening"+Math.random().toString(36).slice(2);function Vs(e){if(!e[xi]){e[xi]=!0,zh.forEach(function(n){n!=="selectionchange"&&(yx.has(n)||ma(n,!1,e),ma(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[xi]||(t[xi]=!0,ma("selectionchange",!1,t))}}function Lm(e,t,n,r){switch(xm(t)){case 1:var s=Py;break;case 4:s=Ay;break;default:s=gc}n=s.bind(null,t,n,e),s=void 0,!al||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function pa(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Vn(l),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}l=l.parentNode}}r=r.return}sm(function(){var u=i,h=fc(n),d=[];e:{var m=Rm.get(e);if(m!==void 0){var y=xc,b=e;switch(e){case"keypress":if(Vi(n)===0)break e;case"keydown":case"keyup":y=Yy;break;case"focusin":b="focus",y=la;break;case"focusout":b="blur",y=la;break;case"beforeblur":case"afterblur":y=la;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Ju;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Ly;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Qy;break;case _m:case Mm:case Pm:y=Vy;break;case Am:y=Zy;break;case"scroll":y=Ry;break;case"wheel":y=ex;break;case"copy":case"cut":case"paste":y=By;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=td}var w=(t&4)!==0,k=!w&&e==="scroll",x=w?m!==null?m+"Capture":null:m;w=[];for(var f=u,g;f!==null;){g=f;var v=g.stateNode;if(g.tag===5&&v!==null&&(g=v,x!==null&&(v=As(f,x),v!=null&&w.push(Os(f,v,g)))),k)break;f=f.return}0<w.length&&(m=new y(m,b,null,n,h),d.push({event:m,listeners:w}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",m&&n!==il&&(b=n.relatedTarget||n.fromElement)&&(Vn(b)||b[Qt]))break e;if((y||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,y?(b=n.relatedTarget||n.toElement,y=u,b=b?Vn(b):null,b!==null&&(k=Jn(b),b!==k||b.tag!==5&&b.tag!==6)&&(b=null)):(y=null,b=u),y!==b)){if(w=Ju,v="onMouseLeave",x="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(w=td,v="onPointerLeave",x="onPointerEnter",f="pointer"),k=y==null?m:ur(y),g=b==null?m:ur(b),m=new w(v,f+"leave",y,n,h),m.target=k,m.relatedTarget=g,v=null,Vn(h)===u&&(w=new w(x,f+"enter",b,n,h),w.target=g,w.relatedTarget=k,v=w),k=v,y&&b)t:{for(w=y,x=b,f=0,g=w;g;g=tr(g))f++;for(g=0,v=x;v;v=tr(v))g++;for(;0<f-g;)w=tr(w),f--;for(;0<g-f;)x=tr(x),g--;for(;f--;){if(w===x||x!==null&&w===x.alternate)break t;w=tr(w),x=tr(x)}w=null}else w=null;y!==null&&fd(d,m,y,w,!1),b!==null&&k!==null&&fd(d,k,b,w,!0)}}e:{if(m=u?ur(u):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var S=ax;else if(sd(m))if(Nm)S=dx;else{S=cx;var C=lx}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(S=ux);if(S&&(S=S(e,u))){Sm(d,S,n,h);break e}C&&C(e,m,u),e==="focusout"&&(C=m._wrapperState)&&C.controlled&&m.type==="number"&&el(m,"number",m.value)}switch(C=u?ur(u):window,e){case"focusin":(sd(C)||C.contentEditable==="true")&&(lr=C,fl=u,bs=null);break;case"focusout":bs=fl=lr=null;break;case"mousedown":hl=!0;break;case"contextmenu":case"mouseup":case"dragend":hl=!1,cd(d,n,h);break;case"selectionchange":if(mx)break;case"keydown":case"keyup":cd(d,n,h)}var T;if(wc)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else ar?bm(e,n)&&(N="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(wm&&n.locale!=="ko"&&(ar||N!=="onCompositionStart"?N==="onCompositionEnd"&&ar&&(T=vm()):(dn=h,yc="value"in dn?dn.value:dn.textContent,ar=!0)),C=no(u,N),0<C.length&&(N=new ed(N,e,null,n,h),d.push({event:N,listeners:C}),T?N.data=T:(T=km(n),T!==null&&(N.data=T)))),(T=nx?rx(e,n):sx(e,n))&&(u=no(u,"onBeforeInput"),0<u.length&&(h=new ed("onBeforeInput","beforeinput",null,n,h),d.push({event:h,listeners:u}),h.data=T))}Dm(d,t)})}function Os(e,t,n){return{instance:e,listener:t,currentTarget:n}}function no(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=As(e,n),i!=null&&r.unshift(Os(e,i,s)),i=As(e,t),i!=null&&r.push(Os(e,i,s))),e=e.return}return r}function tr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function fd(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=As(n,i),c!=null&&o.unshift(Os(n,c,l))):s||(c=As(n,i),c!=null&&o.push(Os(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var xx=/\r\n?/g,vx=/\u0000|\uFFFD/g;function hd(e){return(typeof e=="string"?e:""+e).replace(xx,`
`).replace(vx,"")}function vi(e,t,n){if(t=hd(t),hd(e)!==t&&n)throw Error(U(425))}function ro(){}var ml=null,pl=null;function gl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var yl=typeof setTimeout=="function"?setTimeout:void 0,wx=typeof clearTimeout=="function"?clearTimeout:void 0,md=typeof Promise=="function"?Promise:void 0,bx=typeof queueMicrotask=="function"?queueMicrotask:typeof md<"u"?function(e){return md.resolve(null).then(e).catch(kx)}:yl;function kx(e){setTimeout(function(){throw e})}function ga(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Ls(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ls(t)}function gn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function pd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Gr=Math.random().toString(36).slice(2),Ft="__reactFiber$"+Gr,Bs="__reactProps$"+Gr,Qt="__reactContainer$"+Gr,xl="__reactEvents$"+Gr,Sx="__reactListeners$"+Gr,Nx="__reactHandles$"+Gr;function Vn(e){var t=e[Ft];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Qt]||n[Ft]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=pd(e);e!==null;){if(n=e[Ft])return n;e=pd(e)}return t}e=n,n=e.parentNode}return null}function ni(e){return e=e[Ft]||e[Qt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ur(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(U(33))}function Do(e){return e[Bs]||null}var vl=[],dr=-1;function jn(e){return{current:e}}function he(e){0>dr||(e.current=vl[dr],vl[dr]=null,dr--)}function de(e,t){dr++,vl[dr]=e.current,e.current=t}var kn={},Ge=jn(kn),Je=jn(!1),Hn=kn;function _r(e,t){var n=e.type.contextTypes;if(!n)return kn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function et(e){return e=e.childContextTypes,e!=null}function so(){he(Je),he(Ge)}function gd(e,t,n){if(Ge.current!==kn)throw Error(U(168));de(Ge,t),de(Je,n)}function Im(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(U(108,ly(e)||"Unknown",s));return be({},n,r)}function io(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||kn,Hn=Ge.current,de(Ge,e),de(Je,Je.current),!0}function yd(e,t,n){var r=e.stateNode;if(!r)throw Error(U(169));n?(e=Im(e,t,Hn),r.__reactInternalMemoizedMergedChildContext=e,he(Je),he(Ge),de(Ge,e)):he(Je),de(Je,n)}var Gt=null,Lo=!1,ya=!1;function Fm(e){Gt===null?Gt=[e]:Gt.push(e)}function Tx(e){Lo=!0,Fm(e)}function En(){if(!ya&&Gt!==null){ya=!0;var e=0,t=le;try{var n=Gt;for(le=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Gt=null,Lo=!1}catch(s){throw Gt!==null&&(Gt=Gt.slice(e+1)),lm(hc,En),s}finally{le=t,ya=!1}}return null}var fr=[],hr=0,oo=null,ao=0,mt=[],pt=0,Yn=null,$t=1,Wt="";function Rn(e,t){fr[hr++]=ao,fr[hr++]=oo,oo=e,ao=t}function Vm(e,t,n){mt[pt++]=$t,mt[pt++]=Wt,mt[pt++]=Yn,Yn=e;var r=$t;e=Wt;var s=32-Ct(r)-1;r&=~(1<<s),n+=1;var i=32-Ct(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,$t=1<<32-Ct(t)+s|n<<s|r,Wt=i+e}else $t=1<<i|n<<s|r,Wt=e}function kc(e){e.return!==null&&(Rn(e,1),Vm(e,1,0))}function Sc(e){for(;e===oo;)oo=fr[--hr],fr[hr]=null,ao=fr[--hr],fr[hr]=null;for(;e===Yn;)Yn=mt[--pt],mt[pt]=null,Wt=mt[--pt],mt[pt]=null,$t=mt[--pt],mt[pt]=null}var ot=null,it=null,ye=!1,Tt=null;function Om(e,t){var n=gt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function xd(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ot=e,it=gn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ot=e,it=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Yn!==null?{id:$t,overflow:Wt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=gt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ot=e,it=null,!0):!1;default:return!1}}function wl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function bl(e){if(ye){var t=it;if(t){var n=t;if(!xd(e,t)){if(wl(e))throw Error(U(418));t=gn(n.nextSibling);var r=ot;t&&xd(e,t)?Om(r,n):(e.flags=e.flags&-4097|2,ye=!1,ot=e)}}else{if(wl(e))throw Error(U(418));e.flags=e.flags&-4097|2,ye=!1,ot=e}}}function vd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ot=e}function wi(e){if(e!==ot)return!1;if(!ye)return vd(e),ye=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!gl(e.type,e.memoizedProps)),t&&(t=it)){if(wl(e))throw Bm(),Error(U(418));for(;t;)Om(e,t),t=gn(t.nextSibling)}if(vd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(U(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){it=gn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}it=null}}else it=ot?gn(e.stateNode.nextSibling):null;return!0}function Bm(){for(var e=it;e;)e=gn(e.nextSibling)}function Mr(){it=ot=null,ye=!1}function Nc(e){Tt===null?Tt=[e]:Tt.push(e)}var Cx=en.ReactCurrentBatchConfig;function es(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,e))}return e}function bi(e,t){throw e=Object.prototype.toString.call(t),Error(U(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function wd(e){var t=e._init;return t(e._payload)}function Um(e){function t(x,f){if(e){var g=x.deletions;g===null?(x.deletions=[f],x.flags|=16):g.push(f)}}function n(x,f){if(!e)return null;for(;f!==null;)t(x,f),f=f.sibling;return null}function r(x,f){for(x=new Map;f!==null;)f.key!==null?x.set(f.key,f):x.set(f.index,f),f=f.sibling;return x}function s(x,f){return x=wn(x,f),x.index=0,x.sibling=null,x}function i(x,f,g){return x.index=g,e?(g=x.alternate,g!==null?(g=g.index,g<f?(x.flags|=2,f):g):(x.flags|=2,f)):(x.flags|=1048576,f)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,f,g,v){return f===null||f.tag!==6?(f=Na(g,x.mode,v),f.return=x,f):(f=s(f,g),f.return=x,f)}function c(x,f,g,v){var S=g.type;return S===or?h(x,f,g.props.children,v,g.key):f!==null&&(f.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===an&&wd(S)===f.type)?(v=s(f,g.props),v.ref=es(x,f,g),v.return=x,v):(v=Wi(g.type,g.key,g.props,null,x.mode,v),v.ref=es(x,f,g),v.return=x,v)}function u(x,f,g,v){return f===null||f.tag!==4||f.stateNode.containerInfo!==g.containerInfo||f.stateNode.implementation!==g.implementation?(f=Ta(g,x.mode,v),f.return=x,f):(f=s(f,g.children||[]),f.return=x,f)}function h(x,f,g,v,S){return f===null||f.tag!==7?(f=Gn(g,x.mode,v,S),f.return=x,f):(f=s(f,g),f.return=x,f)}function d(x,f,g){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Na(""+f,x.mode,g),f.return=x,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case ui:return g=Wi(f.type,f.key,f.props,null,x.mode,g),g.ref=es(x,null,f),g.return=x,g;case ir:return f=Ta(f,x.mode,g),f.return=x,f;case an:var v=f._init;return d(x,v(f._payload),g)}if(us(f)||Kr(f))return f=Gn(f,x.mode,g,null),f.return=x,f;bi(x,f)}return null}function m(x,f,g,v){var S=f!==null?f.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return S!==null?null:l(x,f,""+g,v);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ui:return g.key===S?c(x,f,g,v):null;case ir:return g.key===S?u(x,f,g,v):null;case an:return S=g._init,m(x,f,S(g._payload),v)}if(us(g)||Kr(g))return S!==null?null:h(x,f,g,v,null);bi(x,g)}return null}function y(x,f,g,v,S){if(typeof v=="string"&&v!==""||typeof v=="number")return x=x.get(g)||null,l(f,x,""+v,S);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ui:return x=x.get(v.key===null?g:v.key)||null,c(f,x,v,S);case ir:return x=x.get(v.key===null?g:v.key)||null,u(f,x,v,S);case an:var C=v._init;return y(x,f,g,C(v._payload),S)}if(us(v)||Kr(v))return x=x.get(g)||null,h(f,x,v,S,null);bi(f,v)}return null}function b(x,f,g,v){for(var S=null,C=null,T=f,N=f=0,_=null;T!==null&&N<g.length;N++){T.index>N?(_=T,T=null):_=T.sibling;var M=m(x,T,g[N],v);if(M===null){T===null&&(T=_);break}e&&T&&M.alternate===null&&t(x,T),f=i(M,f,N),C===null?S=M:C.sibling=M,C=M,T=_}if(N===g.length)return n(x,T),ye&&Rn(x,N),S;if(T===null){for(;N<g.length;N++)T=d(x,g[N],v),T!==null&&(f=i(T,f,N),C===null?S=T:C.sibling=T,C=T);return ye&&Rn(x,N),S}for(T=r(x,T);N<g.length;N++)_=y(T,x,N,g[N],v),_!==null&&(e&&_.alternate!==null&&T.delete(_.key===null?N:_.key),f=i(_,f,N),C===null?S=_:C.sibling=_,C=_);return e&&T.forEach(function(O){return t(x,O)}),ye&&Rn(x,N),S}function w(x,f,g,v){var S=Kr(g);if(typeof S!="function")throw Error(U(150));if(g=S.call(g),g==null)throw Error(U(151));for(var C=S=null,T=f,N=f=0,_=null,M=g.next();T!==null&&!M.done;N++,M=g.next()){T.index>N?(_=T,T=null):_=T.sibling;var O=m(x,T,M.value,v);if(O===null){T===null&&(T=_);break}e&&T&&O.alternate===null&&t(x,T),f=i(O,f,N),C===null?S=O:C.sibling=O,C=O,T=_}if(M.done)return n(x,T),ye&&Rn(x,N),S;if(T===null){for(;!M.done;N++,M=g.next())M=d(x,M.value,v),M!==null&&(f=i(M,f,N),C===null?S=M:C.sibling=M,C=M);return ye&&Rn(x,N),S}for(T=r(x,T);!M.done;N++,M=g.next())M=y(T,x,N,M.value,v),M!==null&&(e&&M.alternate!==null&&T.delete(M.key===null?N:M.key),f=i(M,f,N),C===null?S=M:C.sibling=M,C=M);return e&&T.forEach(function(A){return t(x,A)}),ye&&Rn(x,N),S}function k(x,f,g,v){if(typeof g=="object"&&g!==null&&g.type===or&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case ui:e:{for(var S=g.key,C=f;C!==null;){if(C.key===S){if(S=g.type,S===or){if(C.tag===7){n(x,C.sibling),f=s(C,g.props.children),f.return=x,x=f;break e}}else if(C.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===an&&wd(S)===C.type){n(x,C.sibling),f=s(C,g.props),f.ref=es(x,C,g),f.return=x,x=f;break e}n(x,C);break}else t(x,C);C=C.sibling}g.type===or?(f=Gn(g.props.children,x.mode,v,g.key),f.return=x,x=f):(v=Wi(g.type,g.key,g.props,null,x.mode,v),v.ref=es(x,f,g),v.return=x,x=v)}return o(x);case ir:e:{for(C=g.key;f!==null;){if(f.key===C)if(f.tag===4&&f.stateNode.containerInfo===g.containerInfo&&f.stateNode.implementation===g.implementation){n(x,f.sibling),f=s(f,g.children||[]),f.return=x,x=f;break e}else{n(x,f);break}else t(x,f);f=f.sibling}f=Ta(g,x.mode,v),f.return=x,x=f}return o(x);case an:return C=g._init,k(x,f,C(g._payload),v)}if(us(g))return b(x,f,g,v);if(Kr(g))return w(x,f,g,v);bi(x,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,f!==null&&f.tag===6?(n(x,f.sibling),f=s(f,g),f.return=x,x=f):(n(x,f),f=Na(g,x.mode,v),f.return=x,x=f),o(x)):n(x,f)}return k}var Pr=Um(!0),zm=Um(!1),lo=jn(null),co=null,mr=null,Tc=null;function Cc(){Tc=mr=co=null}function jc(e){var t=lo.current;he(lo),e._currentValue=t}function kl(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Cr(e,t){co=e,Tc=mr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ze=!0),e.firstContext=null)}function xt(e){var t=e._currentValue;if(Tc!==e)if(e={context:e,memoizedValue:t,next:null},mr===null){if(co===null)throw Error(U(308));mr=e,co.dependencies={lanes:0,firstContext:e}}else mr=mr.next=e;return t}var On=null;function Ec(e){On===null?On=[e]:On.push(e)}function Gm(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Ec(t)):(n.next=s.next,s.next=n),t.interleaved=n,Xt(e,r)}function Xt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ln=!1;function _c(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $m(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ht(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function yn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ae&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Xt(e,n)}return s=r.interleaved,s===null?(t.next=t,Ec(r)):(t.next=s.next,s.next=t),r.interleaved=t,Xt(e,n)}function Oi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,mc(e,n)}}function bd(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function uo(e,t,n,r){var s=e.updateQueue;ln=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var h=e.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==o&&(l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=c))}if(i!==null){var d=s.baseState;o=0,h=u=c=null,l=i;do{var m=l.lane,y=l.eventTime;if((r&m)===m){h!==null&&(h=h.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var b=e,w=l;switch(m=t,y=n,w.tag){case 1:if(b=w.payload,typeof b=="function"){d=b.call(y,d,m);break e}d=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=w.payload,m=typeof b=="function"?b.call(y,d,m):b,m==null)break e;d=be({},d,m);break e;case 2:ln=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else y={eventTime:y,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(u=h=y,c=d):h=h.next=y,o|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(h===null&&(c=d),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=h,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Kn|=o,e.lanes=o,e.memoizedState=d}}function kd(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(U(191,s));s.call(r)}}}var ri={},Ot=jn(ri),Us=jn(ri),zs=jn(ri);function Bn(e){if(e===ri)throw Error(U(174));return e}function Mc(e,t){switch(de(zs,t),de(Us,e),de(Ot,ri),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:nl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=nl(t,e)}he(Ot),de(Ot,t)}function Ar(){he(Ot),he(Us),he(zs)}function Wm(e){Bn(zs.current);var t=Bn(Ot.current),n=nl(t,e.type);t!==n&&(de(Us,e),de(Ot,n))}function Pc(e){Us.current===e&&(he(Ot),he(Us))}var xe=jn(0);function fo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var xa=[];function Ac(){for(var e=0;e<xa.length;e++)xa[e]._workInProgressVersionPrimary=null;xa.length=0}var Bi=en.ReactCurrentDispatcher,va=en.ReactCurrentBatchConfig,qn=0,we=null,Ee=null,Me=null,ho=!1,ks=!1,Gs=0,jx=0;function Ve(){throw Error(U(321))}function Rc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Et(e[n],t[n]))return!1;return!0}function Dc(e,t,n,r,s,i){if(qn=i,we=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Bi.current=e===null||e.memoizedState===null?Px:Ax,e=n(r,s),ks){i=0;do{if(ks=!1,Gs=0,25<=i)throw Error(U(301));i+=1,Me=Ee=null,t.updateQueue=null,Bi.current=Rx,e=n(r,s)}while(ks)}if(Bi.current=mo,t=Ee!==null&&Ee.next!==null,qn=0,Me=Ee=we=null,ho=!1,t)throw Error(U(300));return e}function Lc(){var e=Gs!==0;return Gs=0,e}function It(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Me===null?we.memoizedState=Me=e:Me=Me.next=e,Me}function vt(){if(Ee===null){var e=we.alternate;e=e!==null?e.memoizedState:null}else e=Ee.next;var t=Me===null?we.memoizedState:Me.next;if(t!==null)Me=t,Ee=e;else{if(e===null)throw Error(U(310));Ee=e,e={memoizedState:Ee.memoizedState,baseState:Ee.baseState,baseQueue:Ee.baseQueue,queue:Ee.queue,next:null},Me===null?we.memoizedState=Me=e:Me=Me.next=e}return Me}function $s(e,t){return typeof t=="function"?t(e):t}function wa(e){var t=vt(),n=t.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=e;var r=Ee,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,c=null,u=i;do{var h=u.lane;if((qn&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=d,o=r):c=c.next=d,we.lanes|=h,Kn|=h}u=u.next}while(u!==null&&u!==i);c===null?o=r:c.next=l,Et(r,t.memoizedState)||(Ze=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,we.lanes|=i,Kn|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ba(e){var t=vt(),n=t.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Et(i,t.memoizedState)||(Ze=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Hm(){}function Ym(e,t){var n=we,r=vt(),s=t(),i=!Et(r.memoizedState,s);if(i&&(r.memoizedState=s,Ze=!0),r=r.queue,Ic(Qm.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Me!==null&&Me.memoizedState.tag&1){if(n.flags|=2048,Ws(9,Km.bind(null,n,r,s,t),void 0,null),Pe===null)throw Error(U(349));qn&30||qm(n,t,s)}return s}function qm(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=we.updateQueue,t===null?(t={lastEffect:null,stores:null},we.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Km(e,t,n,r){t.value=n,t.getSnapshot=r,Xm(t)&&Zm(e)}function Qm(e,t,n){return n(function(){Xm(t)&&Zm(e)})}function Xm(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Et(e,n)}catch{return!0}}function Zm(e){var t=Xt(e,1);t!==null&&jt(t,e,1,-1)}function Sd(e){var t=It();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$s,lastRenderedState:e},t.queue=e,e=e.dispatch=Mx.bind(null,we,e),[t.memoizedState,e]}function Ws(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=we.updateQueue,t===null?(t={lastEffect:null,stores:null},we.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Jm(){return vt().memoizedState}function Ui(e,t,n,r){var s=It();we.flags|=e,s.memoizedState=Ws(1|t,n,void 0,r===void 0?null:r)}function Io(e,t,n,r){var s=vt();r=r===void 0?null:r;var i=void 0;if(Ee!==null){var o=Ee.memoizedState;if(i=o.destroy,r!==null&&Rc(r,o.deps)){s.memoizedState=Ws(t,n,i,r);return}}we.flags|=e,s.memoizedState=Ws(1|t,n,i,r)}function Nd(e,t){return Ui(8390656,8,e,t)}function Ic(e,t){return Io(2048,8,e,t)}function ep(e,t){return Io(4,2,e,t)}function tp(e,t){return Io(4,4,e,t)}function np(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function rp(e,t,n){return n=n!=null?n.concat([e]):null,Io(4,4,np.bind(null,t,e),n)}function Fc(){}function sp(e,t){var n=vt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Rc(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ip(e,t){var n=vt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Rc(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function op(e,t,n){return qn&21?(Et(n,t)||(n=dm(),we.lanes|=n,Kn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ze=!0),e.memoizedState=n)}function Ex(e,t){var n=le;le=n!==0&&4>n?n:4,e(!0);var r=va.transition;va.transition={};try{e(!1),t()}finally{le=n,va.transition=r}}function ap(){return vt().memoizedState}function _x(e,t,n){var r=vn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},lp(e))cp(t,n);else if(n=Gm(e,t,n,r),n!==null){var s=Ye();jt(n,e,r,s),up(n,t,r)}}function Mx(e,t,n){var r=vn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(lp(e))cp(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,Et(l,o)){var c=t.interleaved;c===null?(s.next=s,Ec(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=Gm(e,t,s,r),n!==null&&(s=Ye(),jt(n,e,r,s),up(n,t,r))}}function lp(e){var t=e.alternate;return e===we||t!==null&&t===we}function cp(e,t){ks=ho=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function up(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,mc(e,n)}}var mo={readContext:xt,useCallback:Ve,useContext:Ve,useEffect:Ve,useImperativeHandle:Ve,useInsertionEffect:Ve,useLayoutEffect:Ve,useMemo:Ve,useReducer:Ve,useRef:Ve,useState:Ve,useDebugValue:Ve,useDeferredValue:Ve,useTransition:Ve,useMutableSource:Ve,useSyncExternalStore:Ve,useId:Ve,unstable_isNewReconciler:!1},Px={readContext:xt,useCallback:function(e,t){return It().memoizedState=[e,t===void 0?null:t],e},useContext:xt,useEffect:Nd,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ui(4194308,4,np.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ui(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ui(4,2,e,t)},useMemo:function(e,t){var n=It();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=It();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=_x.bind(null,we,e),[r.memoizedState,e]},useRef:function(e){var t=It();return e={current:e},t.memoizedState=e},useState:Sd,useDebugValue:Fc,useDeferredValue:function(e){return It().memoizedState=e},useTransition:function(){var e=Sd(!1),t=e[0];return e=Ex.bind(null,e[1]),It().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=we,s=It();if(ye){if(n===void 0)throw Error(U(407));n=n()}else{if(n=t(),Pe===null)throw Error(U(349));qn&30||qm(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Nd(Qm.bind(null,r,i,e),[e]),r.flags|=2048,Ws(9,Km.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=It(),t=Pe.identifierPrefix;if(ye){var n=Wt,r=$t;n=(r&~(1<<32-Ct(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Gs++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=jx++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ax={readContext:xt,useCallback:sp,useContext:xt,useEffect:Ic,useImperativeHandle:rp,useInsertionEffect:ep,useLayoutEffect:tp,useMemo:ip,useReducer:wa,useRef:Jm,useState:function(){return wa($s)},useDebugValue:Fc,useDeferredValue:function(e){var t=vt();return op(t,Ee.memoizedState,e)},useTransition:function(){var e=wa($s)[0],t=vt().memoizedState;return[e,t]},useMutableSource:Hm,useSyncExternalStore:Ym,useId:ap,unstable_isNewReconciler:!1},Rx={readContext:xt,useCallback:sp,useContext:xt,useEffect:Ic,useImperativeHandle:rp,useInsertionEffect:ep,useLayoutEffect:tp,useMemo:ip,useReducer:ba,useRef:Jm,useState:function(){return ba($s)},useDebugValue:Fc,useDeferredValue:function(e){var t=vt();return Ee===null?t.memoizedState=e:op(t,Ee.memoizedState,e)},useTransition:function(){var e=ba($s)[0],t=vt().memoizedState;return[e,t]},useMutableSource:Hm,useSyncExternalStore:Ym,useId:ap,unstable_isNewReconciler:!1};function St(e,t){if(e&&e.defaultProps){t=be({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Sl(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:be({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Fo={isMounted:function(e){return(e=e._reactInternals)?Jn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ye(),s=vn(e),i=Ht(r,s);i.payload=t,n!=null&&(i.callback=n),t=yn(e,i,s),t!==null&&(jt(t,e,s,r),Oi(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ye(),s=vn(e),i=Ht(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=yn(e,i,s),t!==null&&(jt(t,e,s,r),Oi(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ye(),r=vn(e),s=Ht(n,r);s.tag=2,t!=null&&(s.callback=t),t=yn(e,s,r),t!==null&&(jt(t,e,r,n),Oi(t,e,r))}};function Td(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Fs(n,r)||!Fs(s,i):!0}function dp(e,t,n){var r=!1,s=kn,i=t.contextType;return typeof i=="object"&&i!==null?i=xt(i):(s=et(t)?Hn:Ge.current,r=t.contextTypes,i=(r=r!=null)?_r(e,s):kn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Fo,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Cd(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Fo.enqueueReplaceState(t,t.state,null)}function Nl(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},_c(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=xt(i):(i=et(t)?Hn:Ge.current,s.context=_r(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Sl(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Fo.enqueueReplaceState(s,s.state,null),uo(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Rr(e,t){try{var n="",r=t;do n+=ay(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function ka(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Tl(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Dx=typeof WeakMap=="function"?WeakMap:Map;function fp(e,t,n){n=Ht(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){go||(go=!0,Ll=r),Tl(e,t)},n}function hp(e,t,n){n=Ht(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Tl(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Tl(e,t),typeof r!="function"&&(xn===null?xn=new Set([this]):xn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function jd(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Dx;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=qx.bind(null,e,t,n),t.then(e,e))}function Ed(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function _d(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ht(-1,1),t.tag=2,yn(n,t,1))),n.lanes|=1),e)}var Lx=en.ReactCurrentOwner,Ze=!1;function He(e,t,n,r){t.child=e===null?zm(t,null,n,r):Pr(t,e.child,n,r)}function Md(e,t,n,r,s){n=n.render;var i=t.ref;return Cr(t,s),r=Dc(e,t,n,r,i,s),n=Lc(),e!==null&&!Ze?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Zt(e,t,s)):(ye&&n&&kc(t),t.flags|=1,He(e,t,r,s),t.child)}function Pd(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Wc(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,mp(e,t,i,r,s)):(e=Wi(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Fs,n(o,r)&&e.ref===t.ref)return Zt(e,t,s)}return t.flags|=1,e=wn(i,r),e.ref=t.ref,e.return=t,t.child=e}function mp(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Fs(i,r)&&e.ref===t.ref)if(Ze=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(Ze=!0);else return t.lanes=e.lanes,Zt(e,t,s)}return Cl(e,t,n,r,s)}function pp(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},de(gr,st),st|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,de(gr,st),st|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,de(gr,st),st|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,de(gr,st),st|=r;return He(e,t,s,n),t.child}function gp(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cl(e,t,n,r,s){var i=et(n)?Hn:Ge.current;return i=_r(t,i),Cr(t,s),n=Dc(e,t,n,r,i,s),r=Lc(),e!==null&&!Ze?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Zt(e,t,s)):(ye&&r&&kc(t),t.flags|=1,He(e,t,n,s),t.child)}function Ad(e,t,n,r,s){if(et(n)){var i=!0;io(t)}else i=!1;if(Cr(t,s),t.stateNode===null)zi(e,t),dp(t,n,r),Nl(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=xt(u):(u=et(n)?Hn:Ge.current,u=_r(t,u));var h=n.getDerivedStateFromProps,d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&Cd(t,o,r,u),ln=!1;var m=t.memoizedState;o.state=m,uo(t,r,o,s),c=t.memoizedState,l!==r||m!==c||Je.current||ln?(typeof h=="function"&&(Sl(t,n,h,r),c=t.memoizedState),(l=ln||Td(t,n,l,r,m,c,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,$m(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:St(t.type,l),o.props=u,d=t.pendingProps,m=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=xt(c):(c=et(n)?Hn:Ge.current,c=_r(t,c));var y=n.getDerivedStateFromProps;(h=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==d||m!==c)&&Cd(t,o,r,c),ln=!1,m=t.memoizedState,o.state=m,uo(t,r,o,s);var b=t.memoizedState;l!==d||m!==b||Je.current||ln?(typeof y=="function"&&(Sl(t,n,y,r),b=t.memoizedState),(u=ln||Td(t,n,u,r,m,b,c)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,b,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,b,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=b),o.props=r,o.state=b,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return jl(e,t,n,r,i,s)}function jl(e,t,n,r,s,i){gp(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&yd(t,n,!1),Zt(e,t,i);r=t.stateNode,Lx.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Pr(t,e.child,null,i),t.child=Pr(t,null,l,i)):He(e,t,l,i),t.memoizedState=r.state,s&&yd(t,n,!0),t.child}function yp(e){var t=e.stateNode;t.pendingContext?gd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&gd(e,t.context,!1),Mc(e,t.containerInfo)}function Rd(e,t,n,r,s){return Mr(),Nc(s),t.flags|=256,He(e,t,n,r),t.child}var El={dehydrated:null,treeContext:null,retryLane:0};function _l(e){return{baseLanes:e,cachePool:null,transitions:null}}function xp(e,t,n){var r=t.pendingProps,s=xe.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),de(xe,s&1),e===null)return bl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Bo(o,r,0,null),e=Gn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=_l(n),t.memoizedState=El,e):Vc(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Ix(e,t,o,r,l,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=wn(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=wn(l,i):(i=Gn(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?_l(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=El,r}return i=e.child,e=i.sibling,r=wn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Vc(e,t){return t=Bo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ki(e,t,n,r){return r!==null&&Nc(r),Pr(t,e.child,null,n),e=Vc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ix(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=ka(Error(U(422))),ki(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Bo({mode:"visible",children:r.children},s,0,null),i=Gn(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Pr(t,e.child,null,o),t.child.memoizedState=_l(o),t.memoizedState=El,i);if(!(t.mode&1))return ki(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(U(419)),r=ka(i,r,void 0),ki(e,t,o,r)}if(l=(o&e.childLanes)!==0,Ze||l){if(r=Pe,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Xt(e,s),jt(r,e,s,-1))}return $c(),r=ka(Error(U(421))),ki(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Kx.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,it=gn(s.nextSibling),ot=t,ye=!0,Tt=null,e!==null&&(mt[pt++]=$t,mt[pt++]=Wt,mt[pt++]=Yn,$t=e.id,Wt=e.overflow,Yn=t),t=Vc(t,r.children),t.flags|=4096,t)}function Dd(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),kl(e.return,t,n)}function Sa(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function vp(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(He(e,t,r.children,n),r=xe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Dd(e,n,t);else if(e.tag===19)Dd(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(de(xe,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&fo(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Sa(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&fo(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Sa(t,!0,n,null,i);break;case"together":Sa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function zi(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Zt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Kn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(U(153));if(t.child!==null){for(e=t.child,n=wn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=wn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Fx(e,t,n){switch(t.tag){case 3:yp(t),Mr();break;case 5:Wm(t);break;case 1:et(t.type)&&io(t);break;case 4:Mc(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;de(lo,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(de(xe,xe.current&1),t.flags|=128,null):n&t.child.childLanes?xp(e,t,n):(de(xe,xe.current&1),e=Zt(e,t,n),e!==null?e.sibling:null);de(xe,xe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return vp(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),de(xe,xe.current),r)break;return null;case 22:case 23:return t.lanes=0,pp(e,t,n)}return Zt(e,t,n)}var wp,Ml,bp,kp;wp=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ml=function(){};bp=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Bn(Ot.current);var i=null;switch(n){case"input":s=Za(e,s),r=Za(e,r),i=[];break;case"select":s=be({},s,{value:void 0}),r=be({},r,{value:void 0}),i=[];break;case"textarea":s=tl(e,s),r=tl(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ro)}rl(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ms.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ms.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&fe("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};kp=function(e,t,n,r){n!==r&&(t.flags|=4)};function ts(e,t){if(!ye)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Oe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Vx(e,t,n){var r=t.pendingProps;switch(Sc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oe(t),null;case 1:return et(t.type)&&so(),Oe(t),null;case 3:return r=t.stateNode,Ar(),he(Je),he(Ge),Ac(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(wi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Tt!==null&&(Vl(Tt),Tt=null))),Ml(e,t),Oe(t),null;case 5:Pc(t);var s=Bn(zs.current);if(n=t.type,e!==null&&t.stateNode!=null)bp(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(U(166));return Oe(t),null}if(e=Bn(Ot.current),wi(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Ft]=t,r[Bs]=i,e=(t.mode&1)!==0,n){case"dialog":fe("cancel",r),fe("close",r);break;case"iframe":case"object":case"embed":fe("load",r);break;case"video":case"audio":for(s=0;s<fs.length;s++)fe(fs[s],r);break;case"source":fe("error",r);break;case"img":case"image":case"link":fe("error",r),fe("load",r);break;case"details":fe("toggle",r);break;case"input":Gu(r,i),fe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},fe("invalid",r);break;case"textarea":Wu(r,i),fe("invalid",r)}rl(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&vi(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&vi(r.textContent,l,e),s=["children",""+l]):Ms.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&fe("scroll",r)}switch(n){case"input":di(r),$u(r,i,!0);break;case"textarea":di(r),Hu(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=ro)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Qh(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Ft]=t,e[Bs]=r,wp(e,t,!1,!1),t.stateNode=e;e:{switch(o=sl(n,r),n){case"dialog":fe("cancel",e),fe("close",e),s=r;break;case"iframe":case"object":case"embed":fe("load",e),s=r;break;case"video":case"audio":for(s=0;s<fs.length;s++)fe(fs[s],e);s=r;break;case"source":fe("error",e),s=r;break;case"img":case"image":case"link":fe("error",e),fe("load",e),s=r;break;case"details":fe("toggle",e),s=r;break;case"input":Gu(e,r),s=Za(e,r),fe("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=be({},r,{value:void 0}),fe("invalid",e);break;case"textarea":Wu(e,r),s=tl(e,r),fe("invalid",e);break;default:s=r}rl(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?Jh(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Xh(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Ps(e,c):typeof c=="number"&&Ps(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ms.hasOwnProperty(i)?c!=null&&i==="onScroll"&&fe("scroll",e):c!=null&&lc(e,i,c,o))}switch(n){case"input":di(e),$u(e,r,!1);break;case"textarea":di(e),Hu(e);break;case"option":r.value!=null&&e.setAttribute("value",""+bn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?kr(e,!!r.multiple,i,!1):r.defaultValue!=null&&kr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=ro)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Oe(t),null;case 6:if(e&&t.stateNode!=null)kp(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(U(166));if(n=Bn(zs.current),Bn(Ot.current),wi(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ft]=t,(i=r.nodeValue!==n)&&(e=ot,e!==null))switch(e.tag){case 3:vi(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&vi(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ft]=t,t.stateNode=r}return Oe(t),null;case 13:if(he(xe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ye&&it!==null&&t.mode&1&&!(t.flags&128))Bm(),Mr(),t.flags|=98560,i=!1;else if(i=wi(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(U(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(U(317));i[Ft]=t}else Mr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Oe(t),i=!1}else Tt!==null&&(Vl(Tt),Tt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||xe.current&1?_e===0&&(_e=3):$c())),t.updateQueue!==null&&(t.flags|=4),Oe(t),null);case 4:return Ar(),Ml(e,t),e===null&&Vs(t.stateNode.containerInfo),Oe(t),null;case 10:return jc(t.type._context),Oe(t),null;case 17:return et(t.type)&&so(),Oe(t),null;case 19:if(he(xe),i=t.memoizedState,i===null)return Oe(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)ts(i,!1);else{if(_e!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=fo(e),o!==null){for(t.flags|=128,ts(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return de(xe,xe.current&1|2),t.child}e=e.sibling}i.tail!==null&&Te()>Dr&&(t.flags|=128,r=!0,ts(i,!1),t.lanes=4194304)}else{if(!r)if(e=fo(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ts(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ye)return Oe(t),null}else 2*Te()-i.renderingStartTime>Dr&&n!==1073741824&&(t.flags|=128,r=!0,ts(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Te(),t.sibling=null,n=xe.current,de(xe,r?n&1|2:n&1),t):(Oe(t),null);case 22:case 23:return Gc(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?st&1073741824&&(Oe(t),t.subtreeFlags&6&&(t.flags|=8192)):Oe(t),null;case 24:return null;case 25:return null}throw Error(U(156,t.tag))}function Ox(e,t){switch(Sc(t),t.tag){case 1:return et(t.type)&&so(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ar(),he(Je),he(Ge),Ac(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Pc(t),null;case 13:if(he(xe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(U(340));Mr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return he(xe),null;case 4:return Ar(),null;case 10:return jc(t.type._context),null;case 22:case 23:return Gc(),null;case 24:return null;default:return null}}var Si=!1,Ue=!1,Bx=typeof WeakSet=="function"?WeakSet:Set,Y=null;function pr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Se(e,t,r)}else n.current=null}function Pl(e,t,n){try{n()}catch(r){Se(e,t,r)}}var Ld=!1;function Ux(e,t){if(ml=eo,e=jm(),bc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,h=0,d=e,m=null;t:for(;;){for(var y;d!==n||s!==0&&d.nodeType!==3||(l=o+s),d!==i||r!==0&&d.nodeType!==3||(c=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(y=d.firstChild)!==null;)m=d,d=y;for(;;){if(d===e)break t;if(m===n&&++u===s&&(l=o),m===i&&++h===r&&(c=o),(y=d.nextSibling)!==null)break;d=m,m=d.parentNode}d=y}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(pl={focusedElem:e,selectionRange:n},eo=!1,Y=t;Y!==null;)if(t=Y,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Y=e;else for(;Y!==null;){t=Y;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var w=b.memoizedProps,k=b.memoizedState,x=t.stateNode,f=x.getSnapshotBeforeUpdate(t.elementType===t.type?w:St(t.type,w),k);x.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(v){Se(t,t.return,v)}if(e=t.sibling,e!==null){e.return=t.return,Y=e;break}Y=t.return}return b=Ld,Ld=!1,b}function Ss(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Pl(t,n,i)}s=s.next}while(s!==r)}}function Vo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Al(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Sp(e){var t=e.alternate;t!==null&&(e.alternate=null,Sp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ft],delete t[Bs],delete t[xl],delete t[Sx],delete t[Nx])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Np(e){return e.tag===5||e.tag===3||e.tag===4}function Id(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Np(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Rl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ro));else if(r!==4&&(e=e.child,e!==null))for(Rl(e,t,n),e=e.sibling;e!==null;)Rl(e,t,n),e=e.sibling}function Dl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Dl(e,t,n),e=e.sibling;e!==null;)Dl(e,t,n),e=e.sibling}var De=null,Nt=!1;function rn(e,t,n){for(n=n.child;n!==null;)Tp(e,t,n),n=n.sibling}function Tp(e,t,n){if(Vt&&typeof Vt.onCommitFiberUnmount=="function")try{Vt.onCommitFiberUnmount(Mo,n)}catch{}switch(n.tag){case 5:Ue||pr(n,t);case 6:var r=De,s=Nt;De=null,rn(e,t,n),De=r,Nt=s,De!==null&&(Nt?(e=De,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):De.removeChild(n.stateNode));break;case 18:De!==null&&(Nt?(e=De,n=n.stateNode,e.nodeType===8?ga(e.parentNode,n):e.nodeType===1&&ga(e,n),Ls(e)):ga(De,n.stateNode));break;case 4:r=De,s=Nt,De=n.stateNode.containerInfo,Nt=!0,rn(e,t,n),De=r,Nt=s;break;case 0:case 11:case 14:case 15:if(!Ue&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Pl(n,t,o),s=s.next}while(s!==r)}rn(e,t,n);break;case 1:if(!Ue&&(pr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Se(n,t,l)}rn(e,t,n);break;case 21:rn(e,t,n);break;case 22:n.mode&1?(Ue=(r=Ue)||n.memoizedState!==null,rn(e,t,n),Ue=r):rn(e,t,n);break;default:rn(e,t,n)}}function Fd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Bx),t.forEach(function(r){var s=Qx.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function wt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:De=l.stateNode,Nt=!1;break e;case 3:De=l.stateNode.containerInfo,Nt=!0;break e;case 4:De=l.stateNode.containerInfo,Nt=!0;break e}l=l.return}if(De===null)throw Error(U(160));Tp(i,o,s),De=null,Nt=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Se(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Cp(t,e),t=t.sibling}function Cp(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(wt(t,e),Dt(e),r&4){try{Ss(3,e,e.return),Vo(3,e)}catch(w){Se(e,e.return,w)}try{Ss(5,e,e.return)}catch(w){Se(e,e.return,w)}}break;case 1:wt(t,e),Dt(e),r&512&&n!==null&&pr(n,n.return);break;case 5:if(wt(t,e),Dt(e),r&512&&n!==null&&pr(n,n.return),e.flags&32){var s=e.stateNode;try{Ps(s,"")}catch(w){Se(e,e.return,w)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&qh(s,i),sl(l,o);var u=sl(l,i);for(o=0;o<c.length;o+=2){var h=c[o],d=c[o+1];h==="style"?Jh(s,d):h==="dangerouslySetInnerHTML"?Xh(s,d):h==="children"?Ps(s,d):lc(s,h,d,u)}switch(l){case"input":Ja(s,i);break;case"textarea":Kh(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?kr(s,!!i.multiple,y,!1):m!==!!i.multiple&&(i.defaultValue!=null?kr(s,!!i.multiple,i.defaultValue,!0):kr(s,!!i.multiple,i.multiple?[]:"",!1))}s[Bs]=i}catch(w){Se(e,e.return,w)}}break;case 6:if(wt(t,e),Dt(e),r&4){if(e.stateNode===null)throw Error(U(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(w){Se(e,e.return,w)}}break;case 3:if(wt(t,e),Dt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ls(t.containerInfo)}catch(w){Se(e,e.return,w)}break;case 4:wt(t,e),Dt(e);break;case 13:wt(t,e),Dt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Uc=Te())),r&4&&Fd(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?(Ue=(u=Ue)||h,wt(t,e),Ue=u):wt(t,e),Dt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!h&&e.mode&1)for(Y=e,h=e.child;h!==null;){for(d=Y=h;Y!==null;){switch(m=Y,y=m.child,m.tag){case 0:case 11:case 14:case 15:Ss(4,m,m.return);break;case 1:pr(m,m.return);var b=m.stateNode;if(typeof b.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(w){Se(r,n,w)}}break;case 5:pr(m,m.return);break;case 22:if(m.memoizedState!==null){Od(d);continue}}y!==null?(y.return=m,Y=y):Od(d)}h=h.sibling}e:for(h=null,d=e;;){if(d.tag===5){if(h===null){h=d;try{s=d.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=d.stateNode,c=d.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Zh("display",o))}catch(w){Se(e,e.return,w)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(w){Se(e,e.return,w)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:wt(t,e),Dt(e),r&4&&Fd(e);break;case 21:break;default:wt(t,e),Dt(e)}}function Dt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Np(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ps(s,""),r.flags&=-33);var i=Id(e);Dl(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Id(e);Rl(e,l,o);break;default:throw Error(U(161))}}catch(c){Se(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function zx(e,t,n){Y=e,jp(e)}function jp(e,t,n){for(var r=(e.mode&1)!==0;Y!==null;){var s=Y,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Si;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Ue;l=Si;var u=Ue;if(Si=o,(Ue=c)&&!u)for(Y=s;Y!==null;)o=Y,c=o.child,o.tag===22&&o.memoizedState!==null?Bd(s):c!==null?(c.return=o,Y=c):Bd(s);for(;i!==null;)Y=i,jp(i),i=i.sibling;Y=s,Si=l,Ue=u}Vd(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Y=i):Vd(e)}}function Vd(e){for(;Y!==null;){var t=Y;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ue||Vo(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ue)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:St(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&kd(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}kd(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&Ls(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}Ue||t.flags&512&&Al(t)}catch(m){Se(t,t.return,m)}}if(t===e){Y=null;break}if(n=t.sibling,n!==null){n.return=t.return,Y=n;break}Y=t.return}}function Od(e){for(;Y!==null;){var t=Y;if(t===e){Y=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Y=n;break}Y=t.return}}function Bd(e){for(;Y!==null;){var t=Y;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Vo(4,t)}catch(c){Se(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){Se(t,s,c)}}var i=t.return;try{Al(t)}catch(c){Se(t,i,c)}break;case 5:var o=t.return;try{Al(t)}catch(c){Se(t,o,c)}}}catch(c){Se(t,t.return,c)}if(t===e){Y=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Y=l;break}Y=t.return}}var Gx=Math.ceil,po=en.ReactCurrentDispatcher,Oc=en.ReactCurrentOwner,yt=en.ReactCurrentBatchConfig,ae=0,Pe=null,je=null,Ie=0,st=0,gr=jn(0),_e=0,Hs=null,Kn=0,Oo=0,Bc=0,Ns=null,Xe=null,Uc=0,Dr=1/0,zt=null,go=!1,Ll=null,xn=null,Ni=!1,fn=null,yo=0,Ts=0,Il=null,Gi=-1,$i=0;function Ye(){return ae&6?Te():Gi!==-1?Gi:Gi=Te()}function vn(e){return e.mode&1?ae&2&&Ie!==0?Ie&-Ie:Cx.transition!==null?($i===0&&($i=dm()),$i):(e=le,e!==0||(e=window.event,e=e===void 0?16:xm(e.type)),e):1}function jt(e,t,n,r){if(50<Ts)throw Ts=0,Il=null,Error(U(185));ei(e,n,r),(!(ae&2)||e!==Pe)&&(e===Pe&&(!(ae&2)&&(Oo|=n),_e===4&&un(e,Ie)),tt(e,r),n===1&&ae===0&&!(t.mode&1)&&(Dr=Te()+500,Lo&&En()))}function tt(e,t){var n=e.callbackNode;Cy(e,t);var r=Ji(e,e===Pe?Ie:0);if(r===0)n!==null&&Ku(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Ku(n),t===1)e.tag===0?Tx(Ud.bind(null,e)):Fm(Ud.bind(null,e)),bx(function(){!(ae&6)&&En()}),n=null;else{switch(fm(r)){case 1:n=hc;break;case 4:n=cm;break;case 16:n=Zi;break;case 536870912:n=um;break;default:n=Zi}n=Lp(n,Ep.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Ep(e,t){if(Gi=-1,$i=0,ae&6)throw Error(U(327));var n=e.callbackNode;if(jr()&&e.callbackNode!==n)return null;var r=Ji(e,e===Pe?Ie:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=xo(e,r);else{t=r;var s=ae;ae|=2;var i=Mp();(Pe!==e||Ie!==t)&&(zt=null,Dr=Te()+500,zn(e,t));do try{Hx();break}catch(l){_p(e,l)}while(!0);Cc(),po.current=i,ae=s,je!==null?t=0:(Pe=null,Ie=0,t=_e)}if(t!==0){if(t===2&&(s=cl(e),s!==0&&(r=s,t=Fl(e,s))),t===1)throw n=Hs,zn(e,0),un(e,r),tt(e,Te()),n;if(t===6)un(e,r);else{if(s=e.current.alternate,!(r&30)&&!$x(s)&&(t=xo(e,r),t===2&&(i=cl(e),i!==0&&(r=i,t=Fl(e,i))),t===1))throw n=Hs,zn(e,0),un(e,r),tt(e,Te()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(U(345));case 2:Dn(e,Xe,zt);break;case 3:if(un(e,r),(r&130023424)===r&&(t=Uc+500-Te(),10<t)){if(Ji(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Ye(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=yl(Dn.bind(null,e,Xe,zt),t);break}Dn(e,Xe,zt);break;case 4:if(un(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-Ct(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=Te()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Gx(r/1960))-r,10<r){e.timeoutHandle=yl(Dn.bind(null,e,Xe,zt),r);break}Dn(e,Xe,zt);break;case 5:Dn(e,Xe,zt);break;default:throw Error(U(329))}}}return tt(e,Te()),e.callbackNode===n?Ep.bind(null,e):null}function Fl(e,t){var n=Ns;return e.current.memoizedState.isDehydrated&&(zn(e,t).flags|=256),e=xo(e,t),e!==2&&(t=Xe,Xe=n,t!==null&&Vl(t)),e}function Vl(e){Xe===null?Xe=e:Xe.push.apply(Xe,e)}function $x(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Et(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function un(e,t){for(t&=~Bc,t&=~Oo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ct(t),r=1<<n;e[n]=-1,t&=~r}}function Ud(e){if(ae&6)throw Error(U(327));jr();var t=Ji(e,0);if(!(t&1))return tt(e,Te()),null;var n=xo(e,t);if(e.tag!==0&&n===2){var r=cl(e);r!==0&&(t=r,n=Fl(e,r))}if(n===1)throw n=Hs,zn(e,0),un(e,t),tt(e,Te()),n;if(n===6)throw Error(U(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Dn(e,Xe,zt),tt(e,Te()),null}function zc(e,t){var n=ae;ae|=1;try{return e(t)}finally{ae=n,ae===0&&(Dr=Te()+500,Lo&&En())}}function Qn(e){fn!==null&&fn.tag===0&&!(ae&6)&&jr();var t=ae;ae|=1;var n=yt.transition,r=le;try{if(yt.transition=null,le=1,e)return e()}finally{le=r,yt.transition=n,ae=t,!(ae&6)&&En()}}function Gc(){st=gr.current,he(gr)}function zn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,wx(n)),je!==null)for(n=je.return;n!==null;){var r=n;switch(Sc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&so();break;case 3:Ar(),he(Je),he(Ge),Ac();break;case 5:Pc(r);break;case 4:Ar();break;case 13:he(xe);break;case 19:he(xe);break;case 10:jc(r.type._context);break;case 22:case 23:Gc()}n=n.return}if(Pe=e,je=e=wn(e.current,null),Ie=st=t,_e=0,Hs=null,Bc=Oo=Kn=0,Xe=Ns=null,On!==null){for(t=0;t<On.length;t++)if(n=On[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}On=null}return e}function _p(e,t){do{var n=je;try{if(Cc(),Bi.current=mo,ho){for(var r=we.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ho=!1}if(qn=0,Me=Ee=we=null,ks=!1,Gs=0,Oc.current=null,n===null||n.return===null){_e=1,Hs=t,je=null;break}e:{var i=e,o=n.return,l=n,c=t;if(t=Ie,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=l,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var y=Ed(o);if(y!==null){y.flags&=-257,_d(y,o,l,i,t),y.mode&1&&jd(i,u,t),t=y,c=u;var b=t.updateQueue;if(b===null){var w=new Set;w.add(c),t.updateQueue=w}else b.add(c);break e}else{if(!(t&1)){jd(i,u,t),$c();break e}c=Error(U(426))}}else if(ye&&l.mode&1){var k=Ed(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),_d(k,o,l,i,t),Nc(Rr(c,l));break e}}i=c=Rr(c,l),_e!==4&&(_e=2),Ns===null?Ns=[i]:Ns.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var x=fp(i,c,t);bd(i,x);break e;case 1:l=c;var f=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(xn===null||!xn.has(g)))){i.flags|=65536,t&=-t,i.lanes|=t;var v=hp(i,l,t);bd(i,v);break e}}i=i.return}while(i!==null)}Ap(n)}catch(S){t=S,je===n&&n!==null&&(je=n=n.return);continue}break}while(!0)}function Mp(){var e=po.current;return po.current=mo,e===null?mo:e}function $c(){(_e===0||_e===3||_e===2)&&(_e=4),Pe===null||!(Kn&268435455)&&!(Oo&268435455)||un(Pe,Ie)}function xo(e,t){var n=ae;ae|=2;var r=Mp();(Pe!==e||Ie!==t)&&(zt=null,zn(e,t));do try{Wx();break}catch(s){_p(e,s)}while(!0);if(Cc(),ae=n,po.current=r,je!==null)throw Error(U(261));return Pe=null,Ie=0,_e}function Wx(){for(;je!==null;)Pp(je)}function Hx(){for(;je!==null&&!yy();)Pp(je)}function Pp(e){var t=Dp(e.alternate,e,st);e.memoizedProps=e.pendingProps,t===null?Ap(e):je=t,Oc.current=null}function Ap(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Ox(n,t),n!==null){n.flags&=32767,je=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{_e=6,je=null;return}}else if(n=Vx(n,t,st),n!==null){je=n;return}if(t=t.sibling,t!==null){je=t;return}je=t=e}while(t!==null);_e===0&&(_e=5)}function Dn(e,t,n){var r=le,s=yt.transition;try{yt.transition=null,le=1,Yx(e,t,n,r)}finally{yt.transition=s,le=r}return null}function Yx(e,t,n,r){do jr();while(fn!==null);if(ae&6)throw Error(U(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(U(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(jy(e,i),e===Pe&&(je=Pe=null,Ie=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ni||(Ni=!0,Lp(Zi,function(){return jr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=yt.transition,yt.transition=null;var o=le;le=1;var l=ae;ae|=4,Oc.current=null,Ux(e,n),Cp(n,e),hx(pl),eo=!!ml,pl=ml=null,e.current=n,zx(n),xy(),ae=l,le=o,yt.transition=i}else e.current=n;if(Ni&&(Ni=!1,fn=e,yo=s),i=e.pendingLanes,i===0&&(xn=null),by(n.stateNode),tt(e,Te()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(go)throw go=!1,e=Ll,Ll=null,e;return yo&1&&e.tag!==0&&jr(),i=e.pendingLanes,i&1?e===Il?Ts++:(Ts=0,Il=e):Ts=0,En(),null}function jr(){if(fn!==null){var e=fm(yo),t=yt.transition,n=le;try{if(yt.transition=null,le=16>e?16:e,fn===null)var r=!1;else{if(e=fn,fn=null,yo=0,ae&6)throw Error(U(331));var s=ae;for(ae|=4,Y=e.current;Y!==null;){var i=Y,o=i.child;if(Y.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Y=u;Y!==null;){var h=Y;switch(h.tag){case 0:case 11:case 15:Ss(8,h,i)}var d=h.child;if(d!==null)d.return=h,Y=d;else for(;Y!==null;){h=Y;var m=h.sibling,y=h.return;if(Sp(h),h===u){Y=null;break}if(m!==null){m.return=y,Y=m;break}Y=y}}}var b=i.alternate;if(b!==null){var w=b.child;if(w!==null){b.child=null;do{var k=w.sibling;w.sibling=null,w=k}while(w!==null)}}Y=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Y=o;else e:for(;Y!==null;){if(i=Y,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ss(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,Y=x;break e}Y=i.return}}var f=e.current;for(Y=f;Y!==null;){o=Y;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,Y=g;else e:for(o=f;Y!==null;){if(l=Y,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Vo(9,l)}}catch(S){Se(l,l.return,S)}if(l===o){Y=null;break e}var v=l.sibling;if(v!==null){v.return=l.return,Y=v;break e}Y=l.return}}if(ae=s,En(),Vt&&typeof Vt.onPostCommitFiberRoot=="function")try{Vt.onPostCommitFiberRoot(Mo,e)}catch{}r=!0}return r}finally{le=n,yt.transition=t}}return!1}function zd(e,t,n){t=Rr(n,t),t=fp(e,t,1),e=yn(e,t,1),t=Ye(),e!==null&&(ei(e,1,t),tt(e,t))}function Se(e,t,n){if(e.tag===3)zd(e,e,n);else for(;t!==null;){if(t.tag===3){zd(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(xn===null||!xn.has(r))){e=Rr(n,e),e=hp(t,e,1),t=yn(t,e,1),e=Ye(),t!==null&&(ei(t,1,e),tt(t,e));break}}t=t.return}}function qx(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ye(),e.pingedLanes|=e.suspendedLanes&n,Pe===e&&(Ie&n)===n&&(_e===4||_e===3&&(Ie&130023424)===Ie&&500>Te()-Uc?zn(e,0):Bc|=n),tt(e,t)}function Rp(e,t){t===0&&(e.mode&1?(t=mi,mi<<=1,!(mi&130023424)&&(mi=4194304)):t=1);var n=Ye();e=Xt(e,t),e!==null&&(ei(e,t,n),tt(e,n))}function Kx(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Rp(e,n)}function Qx(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(t),Rp(e,n)}var Dp;Dp=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Je.current)Ze=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ze=!1,Fx(e,t,n);Ze=!!(e.flags&131072)}else Ze=!1,ye&&t.flags&1048576&&Vm(t,ao,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;zi(e,t),e=t.pendingProps;var s=_r(t,Ge.current);Cr(t,n),s=Dc(null,t,r,e,s,n);var i=Lc();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,et(r)?(i=!0,io(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,_c(t),s.updater=Fo,t.stateNode=s,s._reactInternals=t,Nl(t,r,e,n),t=jl(null,t,r,!0,i,n)):(t.tag=0,ye&&i&&kc(t),He(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(zi(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Zx(r),e=St(r,e),s){case 0:t=Cl(null,t,r,e,n);break e;case 1:t=Ad(null,t,r,e,n);break e;case 11:t=Md(null,t,r,e,n);break e;case 14:t=Pd(null,t,r,St(r.type,e),n);break e}throw Error(U(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:St(r,s),Cl(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:St(r,s),Ad(e,t,r,s,n);case 3:e:{if(yp(t),e===null)throw Error(U(387));r=t.pendingProps,i=t.memoizedState,s=i.element,$m(e,t),uo(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Rr(Error(U(423)),t),t=Rd(e,t,r,n,s);break e}else if(r!==s){s=Rr(Error(U(424)),t),t=Rd(e,t,r,n,s);break e}else for(it=gn(t.stateNode.containerInfo.firstChild),ot=t,ye=!0,Tt=null,n=zm(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Mr(),r===s){t=Zt(e,t,n);break e}He(e,t,r,n)}t=t.child}return t;case 5:return Wm(t),e===null&&bl(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,gl(r,s)?o=null:i!==null&&gl(r,i)&&(t.flags|=32),gp(e,t),He(e,t,o,n),t.child;case 6:return e===null&&bl(t),null;case 13:return xp(e,t,n);case 4:return Mc(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Pr(t,null,r,n):He(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:St(r,s),Md(e,t,r,s,n);case 7:return He(e,t,t.pendingProps,n),t.child;case 8:return He(e,t,t.pendingProps.children,n),t.child;case 12:return He(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,de(lo,r._currentValue),r._currentValue=o,i!==null)if(Et(i.value,o)){if(i.children===s.children&&!Je.current){t=Zt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Ht(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),kl(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(U(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),kl(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}He(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Cr(t,n),s=xt(s),r=r(s),t.flags|=1,He(e,t,r,n),t.child;case 14:return r=t.type,s=St(r,t.pendingProps),s=St(r.type,s),Pd(e,t,r,s,n);case 15:return mp(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:St(r,s),zi(e,t),t.tag=1,et(r)?(e=!0,io(t)):e=!1,Cr(t,n),dp(t,r,s),Nl(t,r,s,n),jl(null,t,r,!0,e,n);case 19:return vp(e,t,n);case 22:return pp(e,t,n)}throw Error(U(156,t.tag))};function Lp(e,t){return lm(e,t)}function Xx(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gt(e,t,n,r){return new Xx(e,t,n,r)}function Wc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Zx(e){if(typeof e=="function")return Wc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===uc)return 11;if(e===dc)return 14}return 2}function wn(e,t){var n=e.alternate;return n===null?(n=gt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Wi(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")Wc(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case or:return Gn(n.children,s,i,t);case cc:o=8,s|=8;break;case qa:return e=gt(12,n,t,s|2),e.elementType=qa,e.lanes=i,e;case Ka:return e=gt(13,n,t,s),e.elementType=Ka,e.lanes=i,e;case Qa:return e=gt(19,n,t,s),e.elementType=Qa,e.lanes=i,e;case Wh:return Bo(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Gh:o=10;break e;case $h:o=9;break e;case uc:o=11;break e;case dc:o=14;break e;case an:o=16,r=null;break e}throw Error(U(130,e==null?e:typeof e,""))}return t=gt(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function Gn(e,t,n,r){return e=gt(7,e,r,t),e.lanes=n,e}function Bo(e,t,n,r){return e=gt(22,e,r,t),e.elementType=Wh,e.lanes=n,e.stateNode={isHidden:!1},e}function Na(e,t,n){return e=gt(6,e,null,t),e.lanes=n,e}function Ta(e,t,n){return t=gt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Jx(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ia(0),this.expirationTimes=ia(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ia(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Hc(e,t,n,r,s,i,o,l,c){return e=new Jx(e,t,n,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=gt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},_c(i),e}function ev(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ir,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Ip(e){if(!e)return kn;e=e._reactInternals;e:{if(Jn(e)!==e||e.tag!==1)throw Error(U(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(et(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(U(171))}if(e.tag===1){var n=e.type;if(et(n))return Im(e,n,t)}return t}function Fp(e,t,n,r,s,i,o,l,c){return e=Hc(n,r,!0,e,s,i,o,l,c),e.context=Ip(null),n=e.current,r=Ye(),s=vn(n),i=Ht(r,s),i.callback=t??null,yn(n,i,s),e.current.lanes=s,ei(e,s,r),tt(e,r),e}function Uo(e,t,n,r){var s=t.current,i=Ye(),o=vn(s);return n=Ip(n),t.context===null?t.context=n:t.pendingContext=n,t=Ht(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=yn(s,t,o),e!==null&&(jt(e,s,o,i),Oi(e,s,o)),o}function vo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Gd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Yc(e,t){Gd(e,t),(e=e.alternate)&&Gd(e,t)}function tv(){return null}var Vp=typeof reportError=="function"?reportError:function(e){console.error(e)};function qc(e){this._internalRoot=e}zo.prototype.render=qc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(U(409));Uo(e,t,null,null)};zo.prototype.unmount=qc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Qn(function(){Uo(null,e,null,null)}),t[Qt]=null}};function zo(e){this._internalRoot=e}zo.prototype.unstable_scheduleHydration=function(e){if(e){var t=pm();e={blockedOn:null,target:e,priority:t};for(var n=0;n<cn.length&&t!==0&&t<cn[n].priority;n++);cn.splice(n,0,e),n===0&&ym(e)}};function Kc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Go(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function $d(){}function nv(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=vo(o);i.call(u)}}var o=Fp(t,r,e,0,null,!1,!1,"",$d);return e._reactRootContainer=o,e[Qt]=o.current,Vs(e.nodeType===8?e.parentNode:e),Qn(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=vo(c);l.call(u)}}var c=Hc(e,0,!1,null,null,!1,!1,"",$d);return e._reactRootContainer=c,e[Qt]=c.current,Vs(e.nodeType===8?e.parentNode:e),Qn(function(){Uo(t,c,n,r)}),c}function $o(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=vo(o);l.call(c)}}Uo(t,o,e,s)}else o=nv(n,t,e,s,r);return vo(o)}hm=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ds(t.pendingLanes);n!==0&&(mc(t,n|1),tt(t,Te()),!(ae&6)&&(Dr=Te()+500,En()))}break;case 13:Qn(function(){var r=Xt(e,1);if(r!==null){var s=Ye();jt(r,e,1,s)}}),Yc(e,1)}};pc=function(e){if(e.tag===13){var t=Xt(e,134217728);if(t!==null){var n=Ye();jt(t,e,134217728,n)}Yc(e,134217728)}};mm=function(e){if(e.tag===13){var t=vn(e),n=Xt(e,t);if(n!==null){var r=Ye();jt(n,e,t,r)}Yc(e,t)}};pm=function(){return le};gm=function(e,t){var n=le;try{return le=e,t()}finally{le=n}};ol=function(e,t,n){switch(t){case"input":if(Ja(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Do(r);if(!s)throw Error(U(90));Yh(r),Ja(r,s)}}}break;case"textarea":Kh(e,n);break;case"select":t=n.value,t!=null&&kr(e,!!n.multiple,t,!1)}};nm=zc;rm=Qn;var rv={usingClientEntryPoint:!1,Events:[ni,ur,Do,em,tm,zc]},ns={findFiberByHostInstance:Vn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},sv={bundleType:ns.bundleType,version:ns.version,rendererPackageName:ns.rendererPackageName,rendererConfig:ns.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:en.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=om(e),e===null?null:e.stateNode},findFiberByHostInstance:ns.findFiberByHostInstance||tv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ti=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ti.isDisabled&&Ti.supportsFiber)try{Mo=Ti.inject(sv),Vt=Ti}catch{}}ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rv;ut.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Kc(t))throw Error(U(200));return ev(e,t,null,n)};ut.createRoot=function(e,t){if(!Kc(e))throw Error(U(299));var n=!1,r="",s=Vp;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Hc(e,1,!1,null,null,n,!1,r,s),e[Qt]=t.current,Vs(e.nodeType===8?e.parentNode:e),new qc(t)};ut.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(U(188)):(e=Object.keys(e).join(","),Error(U(268,e)));return e=om(t),e=e===null?null:e.stateNode,e};ut.flushSync=function(e){return Qn(e)};ut.hydrate=function(e,t,n){if(!Go(t))throw Error(U(200));return $o(null,e,t,!0,n)};ut.hydrateRoot=function(e,t,n){if(!Kc(e))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Vp;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Fp(t,null,e,1,n??null,s,!1,i,o),e[Qt]=t.current,Vs(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new zo(t)};ut.render=function(e,t,n){if(!Go(t))throw Error(U(200));return $o(null,e,t,!1,n)};ut.unmountComponentAtNode=function(e){if(!Go(e))throw Error(U(40));return e._reactRootContainer?(Qn(function(){$o(null,null,e,!1,function(){e._reactRootContainer=null,e[Qt]=null})}),!0):!1};ut.unstable_batchedUpdates=zc;ut.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Go(n))throw Error(U(200));if(e==null||e._reactInternals===void 0)throw Error(U(38));return $o(e,t,n,!1,r)};ut.version="18.3.1-next-f1338f8080-20240426";function Op(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Op)}catch(e){console.error(e)}}Op(),Oh.exports=ut;var iv=Oh.exports,Bp,Wd=iv;Bp=Wd.createRoot,Wd.hydrateRoot;const Qc=p.createContext({});function Xc(e){const t=p.useRef(null);return t.current===null&&(t.current=e()),t.current}const Wo=p.createContext(null),Zc=p.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class ov extends p.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function av({children:e,isPresent:t}){const n=p.useId(),r=p.useRef(null),s=p.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=p.useContext(Zc);return p.useInsertionEffect(()=>{const{width:o,height:l,top:c,left:u}=s.current;if(t||!r.current||!o||!l)return;r.current.dataset.motionPopId=n;const h=document.createElement("style");return i&&(h.nonce=i),document.head.appendChild(h),h.sheet&&h.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${l}px !important;
            top: ${c}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(h)}},[t]),a.jsx(ov,{isPresent:t,childRef:r,sizeRef:s,children:p.cloneElement(e,{ref:r})})}const lv=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o})=>{const l=Xc(cv),c=p.useId(),u=p.useCallback(d=>{l.set(d,!0);for(const m of l.values())if(!m)return;r&&r()},[l,r]),h=p.useMemo(()=>({id:c,initial:t,isPresent:n,custom:s,onExitComplete:u,register:d=>(l.set(d,!1),()=>l.delete(d))}),i?[Math.random(),u]:[n,u]);return p.useMemo(()=>{l.forEach((d,m)=>l.set(m,!1))},[n]),p.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),o==="popLayout"&&(e=a.jsx(av,{isPresent:n,children:e})),a.jsx(Wo.Provider,{value:h,children:e})};function cv(){return new Map}function Up(e=!0){const t=p.useContext(Wo);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=t,i=p.useId();p.useEffect(()=>{e&&s(i)},[e]);const o=p.useCallback(()=>e&&r&&r(i),[i,r,e]);return!n&&r?[!1,o]:[!0]}const Ci=e=>e.key||"";function Hd(e){const t=[];return p.Children.forEach(e,n=>{p.isValidElement(n)&&t.push(n)}),t}const Jc=typeof window<"u",zp=Jc?p.useLayoutEffect:p.useEffect,Ae=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1})=>{const[l,c]=Up(o),u=p.useMemo(()=>Hd(e),[e]),h=o&&!l?[]:u.map(Ci),d=p.useRef(!0),m=p.useRef(u),y=Xc(()=>new Map),[b,w]=p.useState(u),[k,x]=p.useState(u);zp(()=>{d.current=!1,m.current=u;for(let v=0;v<k.length;v++){const S=Ci(k[v]);h.includes(S)?y.delete(S):y.get(S)!==!0&&y.set(S,!1)}},[k,h.length,h.join("-")]);const f=[];if(u!==b){let v=[...u];for(let S=0;S<k.length;S++){const C=k[S],T=Ci(C);h.includes(T)||(v.splice(S,0,C),f.push(C))}i==="wait"&&f.length&&(v=f),x(Hd(v)),w(u);return}const{forceRender:g}=p.useContext(Qc);return a.jsx(a.Fragment,{children:k.map(v=>{const S=Ci(v),C=o&&!l?!1:u===k||h.includes(S),T=()=>{if(y.has(S))y.set(S,!0);else return;let N=!0;y.forEach(_=>{_||(N=!1)}),N&&(g==null||g(),x(m.current),o&&(c==null||c()),r&&r())};return a.jsx(lv,{isPresent:C,initial:!d.current||n?void 0:!1,custom:C?void 0:t,presenceAffectsLayout:s,mode:i,onExitComplete:C?void 0:T,children:v},S)})})},at=e=>e;let Ol=at;function eu(e){let t;return()=>(t===void 0&&(t=e()),t)}const Lr=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},Yt=e=>e*1e3,qt=e=>e/1e3,uv={skipAnimations:!1,useManualTiming:!1};function dv(e){let t=new Set,n=new Set,r=!1,s=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(u){i.has(u)&&(c.schedule(u),e()),u(o)}const c={schedule:(u,h=!1,d=!1)=>{const y=d&&r?t:n;return h&&i.add(u),y.has(u)||y.add(u),u},cancel:u=>{n.delete(u),i.delete(u)},process:u=>{if(o=u,r){s=!0;return}r=!0,[t,n]=[n,t],t.forEach(l),t.clear(),r=!1,s&&(s=!1,c.process(u))}};return c}const ji=["read","resolveKeyframes","update","preRender","render","postRender"],fv=40;function Gp(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=ji.reduce((x,f)=>(x[f]=dv(i),x),{}),{read:l,resolveKeyframes:c,update:u,preRender:h,render:d,postRender:m}=o,y=()=>{const x=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(x-s.timestamp,fv),1),s.timestamp=x,s.isProcessing=!0,l.process(s),c.process(s),u.process(s),h.process(s),d.process(s),m.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(y))},b=()=>{n=!0,r=!0,s.isProcessing||e(y)};return{schedule:ji.reduce((x,f)=>{const g=o[f];return x[f]=(v,S=!1,C=!1)=>(n||b(),g.schedule(v,S,C)),x},{}),cancel:x=>{for(let f=0;f<ji.length;f++)o[ji[f]].cancel(x)},state:s,steps:o}}const{schedule:me,cancel:Sn,state:Le,steps:Ca}=Gp(typeof requestAnimationFrame<"u"?requestAnimationFrame:at,!0),$p=p.createContext({strict:!1}),Yd={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ir={};for(const e in Yd)Ir[e]={isEnabled:t=>Yd[e].some(n=>!!t[n])};function hv(e){for(const t in e)Ir[t]={...Ir[t],...e[t]}}const mv=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function wo(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||mv.has(e)}let Wp=e=>!wo(e);function pv(e){e&&(Wp=t=>t.startsWith("on")?!wo(t):e(t))}try{pv(require("@emotion/is-prop-valid").default)}catch{}function gv(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(Wp(s)||n===!0&&wo(s)||!t&&!wo(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}function yv(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,s)=>s==="create"?e:(t.has(s)||t.set(s,e(s)),t.get(s))})}const Ho=p.createContext({});function Ys(e){return typeof e=="string"||Array.isArray(e)}function Yo(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const tu=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],nu=["initial",...tu];function qo(e){return Yo(e.animate)||nu.some(t=>Ys(e[t]))}function Hp(e){return!!(qo(e)||e.variants)}function xv(e,t){if(qo(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Ys(n)?n:void 0,animate:Ys(r)?r:void 0}}return e.inherit!==!1?t:{}}function vv(e){const{initial:t,animate:n}=xv(e,p.useContext(Ho));return p.useMemo(()=>({initial:t,animate:n}),[qd(t),qd(n)])}function qd(e){return Array.isArray(e)?e.join(" "):e}const wv=Symbol.for("motionComponentSymbol");function yr(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function bv(e,t,n){return p.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):yr(n)&&(n.current=r))},[t])}const ru=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),kv="framerAppearId",Yp="data-"+ru(kv),{schedule:su,cancel:GS}=Gp(queueMicrotask,!1),qp=p.createContext({});function Sv(e,t,n,r,s){var i,o;const{visualElement:l}=p.useContext(Ho),c=p.useContext($p),u=p.useContext(Wo),h=p.useContext(Zc).reducedMotion,d=p.useRef(null);r=r||c.renderer,!d.current&&r&&(d.current=r(e,{visualState:t,parent:l,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:h}));const m=d.current,y=p.useContext(qp);m&&!m.projection&&s&&(m.type==="html"||m.type==="svg")&&Nv(d.current,n,s,y);const b=p.useRef(!1);p.useInsertionEffect(()=>{m&&b.current&&m.update(n,u)});const w=n[Yp],k=p.useRef(!!w&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,w))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,w)));return zp(()=>{m&&(b.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),su.render(m.render),k.current&&m.animationState&&m.animationState.animateChanges())}),p.useEffect(()=>{m&&(!k.current&&m.animationState&&m.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{var x;(x=window.MotionHandoffMarkAsComplete)===null||x===void 0||x.call(window,w)}),k.current=!1))}),m}function Nv(e,t,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Kp(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||l&&yr(l),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,layoutScroll:c,layoutRoot:u})}function Kp(e){if(e)return e.options.allowProjection!==!1?e.projection:Kp(e.parent)}function Tv({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:s}){var i,o;e&&hv(e);function l(u,h){let d;const m={...p.useContext(Zc),...u,layoutId:Cv(u)},{isStatic:y}=m,b=vv(u),w=r(u,y);if(!y&&Jc){jv();const k=Ev(m);d=k.MeasureLayout,b.visualElement=Sv(s,w,m,t,k.ProjectionNode)}return a.jsxs(Ho.Provider,{value:b,children:[d&&b.visualElement?a.jsx(d,{visualElement:b.visualElement,...m}):null,n(s,u,bv(w,b.visualElement,h),w,y,b.visualElement)]})}l.displayName=`motion.${typeof s=="string"?s:`create(${(o=(i=s.displayName)!==null&&i!==void 0?i:s.name)!==null&&o!==void 0?o:""})`}`;const c=p.forwardRef(l);return c[wv]=s,c}function Cv({layoutId:e}){const t=p.useContext(Qc).id;return t&&e!==void 0?t+"-"+e:e}function jv(e,t){p.useContext($p).strict}function Ev(e){const{drag:t,layout:n}=Ir;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const _v=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function iu(e){return typeof e!="string"||e.includes("-")?!1:!!(_v.indexOf(e)>-1||/[A-Z]/u.test(e))}function Kd(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function ou(e,t,n,r){if(typeof t=="function"){const[s,i]=Kd(r);t=t(n!==void 0?n:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=Kd(r);t=t(n!==void 0?n:e.custom,s,i)}return t}const Bl=e=>Array.isArray(e),Mv=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),Pv=e=>Bl(e)?e[e.length-1]||0:e,ze=e=>!!(e&&e.getVelocity);function Hi(e){const t=ze(e)?e.get():e;return Mv(t)?t.toValue():t}function Av({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},r,s,i){const o={latestValues:Rv(r,s,i,e),renderState:t()};return n&&(o.onMount=l=>n({props:r,current:l,...o}),o.onUpdate=l=>n(l)),o}const Qp=e=>(t,n)=>{const r=p.useContext(Ho),s=p.useContext(Wo),i=()=>Av(e,t,r,s);return n?i():Xc(i)};function Rv(e,t,n,r){const s={},i=r(e,{});for(const m in i)s[m]=Hi(i[m]);let{initial:o,animate:l}=e;const c=qo(e),u=Hp(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let h=n?n.initial===!1:!1;h=h||o===!1;const d=h?l:o;if(d&&typeof d!="boolean"&&!Yo(d)){const m=Array.isArray(d)?d:[d];for(let y=0;y<m.length;y++){const b=ou(e,m[y]);if(b){const{transitionEnd:w,transition:k,...x}=b;for(const f in x){let g=x[f];if(Array.isArray(g)){const v=h?g.length-1:0;g=g[v]}g!==null&&(s[f]=g)}for(const f in w)s[f]=w[f]}}}return s}const $r=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],er=new Set($r),Xp=e=>t=>typeof t=="string"&&t.startsWith(e),Zp=Xp("--"),Dv=Xp("var(--"),au=e=>Dv(e)?Lv.test(e.split("/*")[0].trim()):!1,Lv=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Jp=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Jt=(e,t,n)=>n>t?t:n<e?e:n,Wr={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},qs={...Wr,transform:e=>Jt(0,1,e)},Ei={...Wr,default:1},si=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),on=si("deg"),Bt=si("%"),te=si("px"),Iv=si("vh"),Fv=si("vw"),Qd={...Bt,parse:e=>Bt.parse(e)/100,transform:e=>Bt.transform(e*100)},Vv={borderWidth:te,borderTopWidth:te,borderRightWidth:te,borderBottomWidth:te,borderLeftWidth:te,borderRadius:te,radius:te,borderTopLeftRadius:te,borderTopRightRadius:te,borderBottomRightRadius:te,borderBottomLeftRadius:te,width:te,maxWidth:te,height:te,maxHeight:te,top:te,right:te,bottom:te,left:te,padding:te,paddingTop:te,paddingRight:te,paddingBottom:te,paddingLeft:te,margin:te,marginTop:te,marginRight:te,marginBottom:te,marginLeft:te,backgroundPositionX:te,backgroundPositionY:te},Ov={rotate:on,rotateX:on,rotateY:on,rotateZ:on,scale:Ei,scaleX:Ei,scaleY:Ei,scaleZ:Ei,skew:on,skewX:on,skewY:on,distance:te,translateX:te,translateY:te,translateZ:te,x:te,y:te,z:te,perspective:te,transformPerspective:te,opacity:qs,originX:Qd,originY:Qd,originZ:te},Xd={...Wr,transform:Math.round},lu={...Vv,...Ov,zIndex:Xd,size:te,fillOpacity:qs,strokeOpacity:qs,numOctaves:Xd},Bv={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Uv=$r.length;function zv(e,t,n){let r="",s=!0;for(let i=0;i<Uv;i++){const o=$r[i],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const u=Jp(l,lu[o]);if(!c){s=!1;const h=Bv[o]||o;r+=`${h}(${u}) `}n&&(t[o]=u)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}function cu(e,t,n){const{style:r,vars:s,transformOrigin:i}=e;let o=!1,l=!1;for(const c in t){const u=t[c];if(er.has(c)){o=!0;continue}else if(Zp(c)){s[c]=u;continue}else{const h=Jp(u,lu[c]);c.startsWith("origin")?(l=!0,i[c]=h):r[c]=h}}if(t.transform||(o||n?r.transform=zv(t,e.transform,n):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:h=0}=i;r.transformOrigin=`${c} ${u} ${h}`}}function Zd(e,t,n){return typeof e=="string"?e:te.transform(t+n*e)}function Gv(e,t,n){const r=Zd(t,e.x,e.width),s=Zd(n,e.y,e.height);return`${r} ${s}`}const $v={offset:"stroke-dashoffset",array:"stroke-dasharray"},Wv={offset:"strokeDashoffset",array:"strokeDasharray"};function Hv(e,t,n=1,r=0,s=!0){e.pathLength=1;const i=s?$v:Wv;e[i.offset]=te.transform(-r);const o=te.transform(t),l=te.transform(n);e[i.array]=`${o} ${l}`}function uu(e,{attrX:t,attrY:n,attrScale:r,originX:s,originY:i,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...u},h,d){if(cu(e,u,d),h){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:y,dimensions:b}=e;m.transform&&(b&&(y.transform=m.transform),delete m.transform),b&&(s!==void 0||i!==void 0||y.transform)&&(y.transformOrigin=Gv(b,s!==void 0?s:.5,i!==void 0?i:.5)),t!==void 0&&(m.x=t),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),o!==void 0&&Hv(m,o,l,c,!1)}const du=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),e0=()=>({...du(),attrs:{}}),fu=e=>typeof e=="string"&&e.toLowerCase()==="svg";function t0(e,{style:t,vars:n},r,s){Object.assign(e.style,t,s&&s.getProjectionStyles(r));for(const i in n)e.style.setProperty(i,n[i])}const n0=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function r0(e,t,n,r){t0(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(n0.has(s)?s:ru(s),t.attrs[s])}const bo={};function Yv(e){Object.assign(bo,e)}function s0(e,{layout:t,layoutId:n}){return er.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!bo[e]||e==="opacity")}function hu(e,t,n){var r;const{style:s}=e,i={};for(const o in s)(ze(s[o])||t.style&&ze(t.style[o])||s0(o,e)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(i[o]=s[o]);return i}function i0(e,t,n){const r=hu(e,t,n);for(const s in e)if(ze(e[s])||ze(t[s])){const i=$r.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=e[s]}return r}function qv(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const Jd=["x","y","width","height","cx","cy","r"],Kv={useVisualState:Qp({scrapeMotionValuesFromProps:i0,createRenderState:e0,onUpdate:({props:e,prevProps:t,current:n,renderState:r,latestValues:s})=>{if(!n)return;let i=!!e.drag;if(!i){for(const l in s)if(er.has(l)){i=!0;break}}if(!i)return;let o=!t;if(t)for(let l=0;l<Jd.length;l++){const c=Jd[l];e[c]!==t[c]&&(o=!0)}o&&(me.read(()=>qv(n,r)),me.render(()=>{uu(r,s,fu(n.tagName),e.transformTemplate),r0(n,r)}))}})},Qv={useVisualState:Qp({scrapeMotionValuesFromProps:hu,createRenderState:du})};function o0(e,t,n){for(const r in t)!ze(t[r])&&!s0(r,n)&&(e[r]=t[r])}function Xv({transformTemplate:e},t){return p.useMemo(()=>{const n=du();return cu(n,t,e),Object.assign({},n.vars,n.style)},[t])}function Zv(e,t){const n=e.style||{},r={};return o0(r,n,e),Object.assign(r,Xv(e,t)),r}function Jv(e,t){const n={},r=Zv(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}function e1(e,t,n,r){const s=p.useMemo(()=>{const i=e0();return uu(i,t,fu(r),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};o0(i,e.style,e),s.style={...i,...s.style}}return s}function t1(e=!1){return(n,r,s,{latestValues:i},o)=>{const c=(iu(n)?e1:Jv)(r,i,o,n),u=gv(r,typeof n=="string",e),h=n!==p.Fragment?{...u,...c,ref:s}:{},{children:d}=r,m=p.useMemo(()=>ze(d)?d.get():d,[d]);return p.createElement(n,{...h,children:m})}}function n1(e,t){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...iu(r)?Kv:Qv,preloadedFeatures:e,useRender:t1(s),createVisualElement:t,Component:r};return Tv(o)}}function a0(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Ko(e,t,n){const r=e.getProps();return ou(r,t,n!==void 0?n:r.custom,e)}const r1=eu(()=>window.ScrollTimeline!==void 0);class s1{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t,n){const r=this.animations.map(s=>{if(r1()&&s.attachTimeline)return s.attachTimeline(t);if(typeof n=="function")return n(s)});return()=>{r.forEach((s,i)=>{s&&s(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class i1 extends s1{then(t,n){return Promise.all(this.animations).then(t).catch(n)}}function mu(e,t){return e?e[t]||e.default||e:void 0}const Ul=2e4;function l0(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Ul;)t+=n,r=e.next(t);return t>=Ul?1/0:t}function pu(e){return typeof e=="function"}function ef(e,t){e.timeline=t,e.onfinish=null}const gu=e=>Array.isArray(e)&&typeof e[0]=="number",o1={linearEasing:void 0};function a1(e,t){const n=eu(e);return()=>{var r;return(r=o1[t])!==null&&r!==void 0?r:n()}}const ko=a1(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),c0=(e,t,n=10)=>{let r="";const s=Math.max(Math.round(t/n),2);for(let i=0;i<s;i++)r+=e(Lr(0,s-1,i))+", ";return`linear(${r.substring(0,r.length-2)})`};function u0(e){return!!(typeof e=="function"&&ko()||!e||typeof e=="string"&&(e in zl||ko())||gu(e)||Array.isArray(e)&&e.every(u0))}const hs=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,zl={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:hs([0,.65,.55,1]),circOut:hs([.55,0,1,.45]),backIn:hs([.31,.01,.66,-.59]),backOut:hs([.33,1.53,.69,.99])};function d0(e,t){if(e)return typeof e=="function"&&ko()?c0(e,t):gu(e)?hs(e):Array.isArray(e)?e.map(n=>d0(n,t)||zl.easeOut):zl[e]}const kt={x:!1,y:!1};function f0(){return kt.x||kt.y}function l1(e,t,n){var r;if(e instanceof Element)return[e];if(typeof e=="string"){let s=document;const i=(r=void 0)!==null&&r!==void 0?r:s.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}function h0(e,t){const n=l1(e),r=new AbortController,s={passive:!0,...t,signal:r.signal};return[n,s,()=>r.abort()]}function tf(e){return t=>{t.pointerType==="touch"||f0()||e(t)}}function c1(e,t,n={}){const[r,s,i]=h0(e,n),o=tf(l=>{const{target:c}=l,u=t(l);if(typeof u!="function"||!c)return;const h=tf(d=>{u(d),c.removeEventListener("pointerleave",h)});c.addEventListener("pointerleave",h,s)});return r.forEach(l=>{l.addEventListener("pointerenter",o,s)}),i}const m0=(e,t)=>t?e===t?!0:m0(e,t.parentElement):!1,yu=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,u1=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function d1(e){return u1.has(e.tagName)||e.tabIndex!==-1}const ms=new WeakSet;function nf(e){return t=>{t.key==="Enter"&&e(t)}}function ja(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const f1=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=nf(()=>{if(ms.has(n))return;ja(n,"down");const s=nf(()=>{ja(n,"up")}),i=()=>ja(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",i,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function rf(e){return yu(e)&&!f0()}function h1(e,t,n={}){const[r,s,i]=h0(e,n),o=l=>{const c=l.currentTarget;if(!rf(l)||ms.has(c))return;ms.add(c);const u=t(l),h=(y,b)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",m),!(!rf(y)||!ms.has(c))&&(ms.delete(c),typeof u=="function"&&u(y,{success:b}))},d=y=>{h(y,n.useGlobalTarget||m0(c,y.target))},m=y=>{h(y,!1)};window.addEventListener("pointerup",d,s),window.addEventListener("pointercancel",m,s)};return r.forEach(l=>{!d1(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0),(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,s),l.addEventListener("focus",u=>f1(u,s),s)}),i}function m1(e){return e==="x"||e==="y"?kt[e]?null:(kt[e]=!0,()=>{kt[e]=!1}):kt.x||kt.y?null:(kt.x=kt.y=!0,()=>{kt.x=kt.y=!1})}const p0=new Set(["width","height","top","left","right","bottom",...$r]);let Yi;function p1(){Yi=void 0}const Ut={now:()=>(Yi===void 0&&Ut.set(Le.isProcessing||uv.useManualTiming?Le.timestamp:performance.now()),Yi),set:e=>{Yi=e,queueMicrotask(p1)}};function xu(e,t){e.indexOf(t)===-1&&e.push(t)}function vu(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class wu{constructor(){this.subscriptions=[]}add(t){return xu(this.subscriptions,t),()=>vu(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function g0(e,t){return t?e*(1e3/t):0}const sf=30,g1=e=>!isNaN(parseFloat(e));class y1{constructor(t,n={}){this.version="11.18.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const i=Ut.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Ut.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=g1(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new wu);const r=this.events[t].add(n);return t==="change"?()=>{r(),me.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Ut.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>sf)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,sf);return g0(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ks(e,t){return new y1(e,t)}function x1(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Ks(n))}function v1(e,t){const n=Ko(e,t);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const l=Pv(i[o]);x1(e,o,l)}}function w1(e){return!!(ze(e)&&e.add)}function Gl(e,t){const n=e.getValue("willChange");if(w1(n))return n.add(t)}function y0(e){return e.props[Yp]}const x0=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,b1=1e-7,k1=12;function S1(e,t,n,r,s){let i,o,l=0;do o=t+(n-t)/2,i=x0(o,r,s)-e,i>0?n=o:t=o;while(Math.abs(i)>b1&&++l<k1);return o}function ii(e,t,n,r){if(e===t&&n===r)return at;const s=i=>S1(i,0,1,e,n);return i=>i===0||i===1?i:x0(s(i),t,r)}const v0=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,w0=e=>t=>1-e(1-t),b0=ii(.33,1.53,.69,.99),bu=w0(b0),k0=v0(bu),S0=e=>(e*=2)<1?.5*bu(e):.5*(2-Math.pow(2,-10*(e-1))),ku=e=>1-Math.sin(Math.acos(e)),N0=w0(ku),T0=v0(ku),C0=e=>/^0[^.\s]+$/u.test(e);function N1(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||C0(e):!0}const Cs=e=>Math.round(e*1e5)/1e5,Su=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function T1(e){return e==null}const C1=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Nu=(e,t)=>n=>!!(typeof n=="string"&&C1.test(n)&&n.startsWith(e)||t&&!T1(n)&&Object.prototype.hasOwnProperty.call(n,t)),j0=(e,t,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,l]=r.match(Su);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},j1=e=>Jt(0,255,e),Ea={...Wr,transform:e=>Math.round(j1(e))},Un={test:Nu("rgb","red"),parse:j0("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Ea.transform(e)+", "+Ea.transform(t)+", "+Ea.transform(n)+", "+Cs(qs.transform(r))+")"};function E1(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const $l={test:Nu("#"),parse:E1,transform:Un.transform},xr={test:Nu("hsl","hue"),parse:j0("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Bt.transform(Cs(t))+", "+Bt.transform(Cs(n))+", "+Cs(qs.transform(r))+")"},Be={test:e=>Un.test(e)||$l.test(e)||xr.test(e),parse:e=>Un.test(e)?Un.parse(e):xr.test(e)?xr.parse(e):$l.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Un.transform(e):xr.transform(e)},_1=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function M1(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Su))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(_1))===null||n===void 0?void 0:n.length)||0)>0}const E0="number",_0="color",P1="var",A1="var(",of="${}",R1=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Qs(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const l=t.replace(R1,c=>(Be.test(c)?(r.color.push(i),s.push(_0),n.push(Be.parse(c))):c.startsWith(A1)?(r.var.push(i),s.push(P1),n.push(c)):(r.number.push(i),s.push(E0),n.push(parseFloat(c))),++i,of)).split(of);return{values:n,split:l,indexes:r,types:s}}function M0(e){return Qs(e).values}function P0(e){const{split:t,types:n}=Qs(e),r=t.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=t[o],s[o]!==void 0){const l=n[o];l===E0?i+=Cs(s[o]):l===_0?i+=Be.transform(s[o]):i+=s[o]}return i}}const D1=e=>typeof e=="number"?0:e;function L1(e){const t=M0(e);return P0(e)(t.map(D1))}const Nn={test:M1,parse:M0,createTransformer:P0,getAnimatableNone:L1},I1=new Set(["brightness","contrast","saturate","opacity"]);function F1(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Su)||[];if(!r)return e;const s=n.replace(r,"");let i=I1.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const V1=/\b([a-z-]*)\(.*?\)/gu,Wl={...Nn,getAnimatableNone:e=>{const t=e.match(V1);return t?t.map(F1).join(" "):e}},O1={...lu,color:Be,backgroundColor:Be,outlineColor:Be,fill:Be,stroke:Be,borderColor:Be,borderTopColor:Be,borderRightColor:Be,borderBottomColor:Be,borderLeftColor:Be,filter:Wl,WebkitFilter:Wl},Tu=e=>O1[e];function A0(e,t){let n=Tu(e);return n!==Wl&&(n=Nn),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const B1=new Set(["auto","none","0"]);function U1(e,t,n){let r=0,s;for(;r<e.length&&!s;){const i=e[r];typeof i=="string"&&!B1.has(i)&&Qs(i).values.length&&(s=e[r]),r++}if(s&&n)for(const i of t)e[i]=A0(n,s)}const af=e=>e===Wr||e===te,lf=(e,t)=>parseFloat(e.split(", ")[t]),cf=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return lf(s[1],t);{const i=r.match(/^matrix\((.+)\)$/u);return i?lf(i[1],e):0}},z1=new Set(["x","y","z"]),G1=$r.filter(e=>!z1.has(e));function $1(e){const t=[];return G1.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Fr={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:cf(4,13),y:cf(5,14)};Fr.translateX=Fr.x;Fr.translateY=Fr.y;const $n=new Set;let Hl=!1,Yl=!1;function R0(){if(Yl){const e=Array.from($n).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const s=$1(r);s.length&&(n.set(r,s),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var l;(l=r.getValue(i))===null||l===void 0||l.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Yl=!1,Hl=!1,$n.forEach(e=>e.complete()),$n.clear()}function D0(){$n.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Yl=!0)})}function W1(){D0(),R0()}class Cu{constructor(t,n,r,s,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?($n.add(this),Hl||(Hl=!0,me.read(D0),me.resolveKeyframes(R0))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:s}=this;for(let i=0;i<t.length;i++)if(t[i]===null)if(i===0){const o=s==null?void 0:s.get(),l=t[t.length-1];if(o!==void 0)t[0]=o;else if(r&&n){const c=r.readValue(n,l);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=l),s&&o===void 0&&s.set(t[0])}else t[i]=t[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),$n.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,$n.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const L0=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),H1=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Y1(e){const t=H1.exec(e);if(!t)return[,];const[,n,r,s]=t;return[`--${n??r}`,s]}function I0(e,t,n=1){const[r,s]=Y1(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const o=i.trim();return L0(o)?parseFloat(o):o}return au(s)?I0(s,t,n+1):s}const F0=e=>t=>t.test(e),q1={test:e=>e==="auto",parse:e=>e},V0=[Wr,te,Bt,on,Fv,Iv,q1],uf=e=>V0.find(F0(e));class O0 extends Cu{constructor(t,n,r,s,i){super(t,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),au(u))){const h=I0(u,n.current);h!==void 0&&(t[c]=h),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!p0.has(r)||t.length!==2)return;const[s,i]=t,o=uf(s),l=uf(i);if(o!==l)if(af(o)&&af(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let s=0;s<t.length;s++)N1(t[s])&&r.push(s);r.length&&U1(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Fr[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(r,s).jump(s,!1)}measureEndState(){var t;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const i=n.getValue(r);i&&i.jump(this.measuredOrigin,!1);const o=s.length-1,l=s[o];s[o]=Fr[r](n.measureViewportBox(),window.getComputedStyle(n.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([c,u])=>{n.getValue(c).set(u)}),this.resolveNoneKeyframes()}}const df=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Nn.test(e)||e==="0")&&!e.startsWith("url("));function K1(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function Q1(e,t,n,r){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=df(s,t),l=df(i,t);return!o||!l?!1:K1(e)||(n==="spring"||pu(n))&&r}const X1=e=>e!==null;function Qo(e,{repeat:t,repeatType:n="loop"},r){const s=e.filter(X1),i=t&&n!=="loop"&&t%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const Z1=40;class B0{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Ut.now(),this.options={autoplay:t,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>Z1?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&W1(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=Ut.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:i,delay:o,onComplete:l,onUpdate:c,isGenerator:u}=this.options;if(!u&&!Q1(t,r,s,i))if(o)this.options.duration=0;else{c==null||c(Qo(t,this.options,n)),l==null||l(),this.resolveFinishedPromise();return}const h=this.initPlayback(t,n);h!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...h},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const ve=(e,t,n)=>e+(t-e)*n;function _a(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function J1({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,i=0,o=0;if(!t)s=i=o=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;s=_a(c,l,e+1/3),i=_a(c,l,e),o=_a(c,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function So(e,t){return n=>n>0?t:e}const Ma=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},ew=[$l,Un,xr],tw=e=>ew.find(t=>t.test(e));function ff(e){const t=tw(e);if(!t)return!1;let n=t.parse(e);return t===xr&&(n=J1(n)),n}const hf=(e,t)=>{const n=ff(e),r=ff(t);if(!n||!r)return So(e,t);const s={...n};return i=>(s.red=Ma(n.red,r.red,i),s.green=Ma(n.green,r.green,i),s.blue=Ma(n.blue,r.blue,i),s.alpha=ve(n.alpha,r.alpha,i),Un.transform(s))},nw=(e,t)=>n=>t(e(n)),oi=(...e)=>e.reduce(nw),ql=new Set(["none","hidden"]);function rw(e,t){return ql.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function sw(e,t){return n=>ve(e,t,n)}function ju(e){return typeof e=="number"?sw:typeof e=="string"?au(e)?So:Be.test(e)?hf:aw:Array.isArray(e)?U0:typeof e=="object"?Be.test(e)?hf:iw:So}function U0(e,t){const n=[...e],r=n.length,s=e.map((i,o)=>ju(i)(i,t[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function iw(e,t){const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=ju(e[s])(e[s],t[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function ow(e,t){var n;const r=[],s={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const o=t.types[i],l=e.indexes[o][s[o]],c=(n=e.values[l])!==null&&n!==void 0?n:0;r[i]=c,s[o]++}return r}const aw=(e,t)=>{const n=Nn.createTransformer(t),r=Qs(e),s=Qs(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?ql.has(e)&&!s.values.length||ql.has(t)&&!r.values.length?rw(e,t):oi(U0(ow(r,s),s.values),n):So(e,t)};function z0(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?ve(e,t,n):ju(e)(e,t)}const lw=5;function G0(e,t,n){const r=Math.max(t-lw,0);return g0(n-e(r),t-r)}const ke={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Pa=.001;function cw({duration:e=ke.duration,bounce:t=ke.bounce,velocity:n=ke.velocity,mass:r=ke.mass}){let s,i,o=1-t;o=Jt(ke.minDamping,ke.maxDamping,o),e=Jt(ke.minDuration,ke.maxDuration,qt(e)),o<1?(s=u=>{const h=u*o,d=h*e,m=h-n,y=Kl(u,o),b=Math.exp(-d);return Pa-m/y*b},i=u=>{const d=u*o*e,m=d*n+n,y=Math.pow(o,2)*Math.pow(u,2)*e,b=Math.exp(-d),w=Kl(Math.pow(u,2),o);return(-s(u)+Pa>0?-1:1)*((m-y)*b)/w}):(s=u=>{const h=Math.exp(-u*e),d=(u-n)*e+1;return-Pa+h*d},i=u=>{const h=Math.exp(-u*e),d=(n-u)*(e*e);return h*d});const l=5/e,c=dw(s,i,l);if(e=Yt(e),isNaN(c))return{stiffness:ke.stiffness,damping:ke.damping,duration:e};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const uw=12;function dw(e,t,n){let r=n;for(let s=1;s<uw;s++)r=r-e(r)/t(r);return r}function Kl(e,t){return e*Math.sqrt(1-t*t)}const fw=["duration","bounce"],hw=["stiffness","damping","mass"];function mf(e,t){return t.some(n=>e[n]!==void 0)}function mw(e){let t={velocity:ke.velocity,stiffness:ke.stiffness,damping:ke.damping,mass:ke.mass,isResolvedFromDuration:!1,...e};if(!mf(e,hw)&&mf(e,fw))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*Jt(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:ke.mass,stiffness:s,damping:i}}else{const n=cw(e);t={...t,...n,mass:ke.mass},t.isResolvedFromDuration=!0}return t}function $0(e=ke.visualDuration,t=ke.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:u,mass:h,duration:d,velocity:m,isResolvedFromDuration:y}=mw({...n,velocity:-qt(n.velocity||0)}),b=m||0,w=u/(2*Math.sqrt(c*h)),k=o-i,x=qt(Math.sqrt(c/h)),f=Math.abs(k)<5;r||(r=f?ke.restSpeed.granular:ke.restSpeed.default),s||(s=f?ke.restDelta.granular:ke.restDelta.default);let g;if(w<1){const S=Kl(x,w);g=C=>{const T=Math.exp(-w*x*C);return o-T*((b+w*x*k)/S*Math.sin(S*C)+k*Math.cos(S*C))}}else if(w===1)g=S=>o-Math.exp(-x*S)*(k+(b+x*k)*S);else{const S=x*Math.sqrt(w*w-1);g=C=>{const T=Math.exp(-w*x*C),N=Math.min(S*C,300);return o-T*((b+w*x*k)*Math.sinh(N)+S*k*Math.cosh(N))/S}}const v={calculatedDuration:y&&d||null,next:S=>{const C=g(S);if(y)l.done=S>=d;else{let T=0;w<1&&(T=S===0?Yt(b):G0(g,S,C));const N=Math.abs(T)<=r,_=Math.abs(o-C)<=s;l.done=N&&_}return l.value=l.done?o:C,l},toString:()=>{const S=Math.min(l0(v),Ul),C=c0(T=>v.next(S*T).value,S,30);return S+"ms "+C}};return v}function pf({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:h}){const d=e[0],m={done:!1,value:d},y=N=>l!==void 0&&N<l||c!==void 0&&N>c,b=N=>l===void 0?c:c===void 0||Math.abs(l-N)<Math.abs(c-N)?l:c;let w=n*t;const k=d+w,x=o===void 0?k:o(k);x!==k&&(w=x-d);const f=N=>-w*Math.exp(-N/r),g=N=>x+f(N),v=N=>{const _=f(N),M=g(N);m.done=Math.abs(_)<=u,m.value=m.done?x:M};let S,C;const T=N=>{y(m.value)&&(S=N,C=$0({keyframes:[m.value,b(m.value)],velocity:G0(g,N,m.value),damping:s,stiffness:i,restDelta:u,restSpeed:h}))};return T(0),{calculatedDuration:null,next:N=>{let _=!1;return!C&&S===void 0&&(_=!0,v(N),T(N)),S!==void 0&&N>=S?C.next(N-S):(!_&&v(N),m)}}}const pw=ii(.42,0,1,1),gw=ii(0,0,.58,1),W0=ii(.42,0,.58,1),yw=e=>Array.isArray(e)&&typeof e[0]!="number",gf={linear:at,easeIn:pw,easeInOut:W0,easeOut:gw,circIn:ku,circInOut:T0,circOut:N0,backIn:bu,backInOut:k0,backOut:b0,anticipate:S0},yf=e=>{if(gu(e)){Ol(e.length===4);const[t,n,r,s]=e;return ii(t,n,r,s)}else if(typeof e=="string")return Ol(gf[e]!==void 0),gf[e];return e};function xw(e,t,n){const r=[],s=n||z0,i=e.length-1;for(let o=0;o<i;o++){let l=s(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||at:t;l=oi(c,l)}r.push(l)}return r}function vw(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const i=e.length;if(Ol(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=xw(t,r,s),c=l.length,u=h=>{if(o&&h<e[0])return t[0];let d=0;if(c>1)for(;d<e.length-2&&!(h<e[d+1]);d++);const m=Lr(e[d],e[d+1],h);return l[d](m)};return n?h=>u(Jt(e[0],e[i-1],h)):u}function ww(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=Lr(0,t,r);e.push(ve(n,1,s))}}function bw(e){const t=[0];return ww(t,e.length-1),t}function kw(e,t){return e.map(n=>n*t)}function Sw(e,t){return e.map(()=>t||W0).splice(0,e.length-1)}function No({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=yw(r)?r.map(yf):yf(r),i={done:!1,value:t[0]},o=kw(n&&n.length===t.length?n:bw(t),e),l=vw(o,t,{ease:Array.isArray(s)?s:Sw(t,s)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}const Nw=e=>{const t=({timestamp:n})=>e(n);return{start:()=>me.update(t,!0),stop:()=>Sn(t),now:()=>Le.isProcessing?Le.timestamp:Ut.now()}},Tw={decay:pf,inertia:pf,tween:No,keyframes:No,spring:$0},Cw=e=>e/100;class Eu extends B0{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:n,motionValue:r,element:s,keyframes:i}=this.options,o=(s==null?void 0:s.KeyframeResolver)||Cu,l=(c,u)=>this.onKeyframesResolved(c,u);this.resolver=new o(i,l,n,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=this.options,l=pu(n)?n:Tw[n]||No;let c,u;l!==No&&typeof t[0]!="number"&&(c=oi(Cw,z0(t[0],t[1])),t=[0,100]);const h=l({...this.options,keyframes:t});i==="mirror"&&(u=l({...this.options,keyframes:[...t].reverse(),velocity:-o})),h.calculatedDuration===null&&(h.calculatedDuration=l0(h));const{calculatedDuration:d}=h,m=d+s,y=m*(r+1)-s;return{generator:h,mirroredGenerator:u,mapPercentToKeyframes:c,calculatedDuration:d,resolvedDuration:m,totalDuration:y}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:r}=this;if(!r){const{keyframes:N}=this.options;return{done:!0,value:N[N.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:o,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:u,totalDuration:h,resolvedDuration:d}=r;if(this.startTime===null)return i.next(0);const{delay:m,repeat:y,repeatType:b,repeatDelay:w,onUpdate:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-h/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const x=this.currentTime-m*(this.speed>=0?1:-1),f=this.speed>=0?x<0:x>h;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=h);let g=this.currentTime,v=i;if(y){const N=Math.min(this.currentTime,h)/d;let _=Math.floor(N),M=N%1;!M&&N>=1&&(M=1),M===1&&_--,_=Math.min(_,y+1),!!(_%2)&&(b==="reverse"?(M=1-M,w&&(M-=w/d)):b==="mirror"&&(v=o)),g=Jt(0,1,M)*d}const S=f?{done:!1,value:c[0]}:v.next(g);l&&(S.value=l(S.value));let{done:C}=S;!f&&u!==null&&(C=this.speed>=0?this.currentTime>=h:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return T&&s!==void 0&&(S.value=Qo(c,this.options,s)),k&&k(S.value),T&&this.finish(),S}get duration(){const{resolved:t}=this;return t?qt(t.calculatedDuration):0}get time(){return qt(this.currentTime)}set time(t){t=Yt(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=qt(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=Nw,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const jw=new Set(["opacity","clipPath","filter","transform"]);function Ew(e,t,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:l="easeInOut",times:c}={}){const u={[t]:n};c&&(u.offset=c);const h=d0(l,s);return Array.isArray(h)&&(u.easing=h),e.animate(u,{delay:r,duration:s,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}const _w=eu(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),To=10,Mw=2e4;function Pw(e){return pu(e.type)||e.type==="spring"||!u0(e.ease)}function Aw(e,t){const n=new Eu({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const s=[];let i=0;for(;!r.done&&i<Mw;)r=n.sample(i),s.push(r.value),i+=To;return{times:void 0,keyframes:s,duration:i-To,ease:"linear"}}const H0={anticipate:S0,backInOut:k0,circInOut:T0};function Rw(e){return e in H0}class xf extends B0{constructor(t){super(t);const{name:n,motionValue:r,element:s,keyframes:i}=this.options;this.resolver=new O0(i,(o,l)=>this.onKeyframesResolved(o,l),n,r,s),this.resolver.scheduleResolve()}initPlayback(t,n){var r;let{duration:s=300,times:i,ease:o,type:l,motionValue:c,name:u,startTime:h}=this.options;if(!(!((r=c.owner)===null||r===void 0)&&r.current))return!1;if(typeof o=="string"&&ko()&&Rw(o)&&(o=H0[o]),Pw(this.options)){const{onComplete:m,onUpdate:y,motionValue:b,element:w,...k}=this.options,x=Aw(t,k);t=x.keyframes,t.length===1&&(t[1]=t[0]),s=x.duration,i=x.times,o=x.ease,l="keyframes"}const d=Ew(c.owner.current,u,t,{...this.options,duration:s,times:i,ease:o});return d.startTime=h??this.calcStartTime(),this.pendingTimeline?(ef(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:m}=this.options;c.set(Qo(t,this.options,n)),m&&m(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:s,times:i,type:l,ease:o,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return qt(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return qt(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Yt(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return at;const{animation:r}=n;ef(r,t)}return at}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:r,duration:s,type:i,ease:o,times:l}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:h,onComplete:d,element:m,...y}=this.options,b=new Eu({...y,keyframes:r,duration:s,type:i,ease:o,times:l,isGenerator:!0}),w=Yt(this.time);u.setWithVelocity(b.sample(w-To).value,b.sample(w).value,To)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:r,repeatDelay:s,repeatType:i,damping:o,type:l}=t;return _w()&&r&&jw.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!s&&i!=="mirror"&&o!==0&&l!=="inertia"}}const Dw={type:"spring",stiffness:500,damping:25,restSpeed:10},Lw=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Iw={type:"keyframes",duration:.8},Fw={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Vw=(e,{keyframes:t})=>t.length>2?Iw:er.has(e)?e.startsWith("scale")?Lw(t[1]):Dw:Fw;function Ow({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:u,...h}){return!!Object.keys(h).length}const _u=(e,t,n,r={},s,i)=>o=>{const l=mu(r,e)||{},c=l.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Yt(c);let h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:m=>{t.set(m),l.onUpdate&&l.onUpdate(m)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:i?void 0:s};Ow(l)||(h={...h,...Vw(e,h)}),h.duration&&(h.duration=Yt(h.duration)),h.repeatDelay&&(h.repeatDelay=Yt(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let d=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(d=!0)),d&&!i&&t.get()!==void 0){const m=Qo(h.keyframes,l);if(m!==void 0)return me.update(()=>{h.onUpdate(m),h.onComplete()}),new i1([])}return!i&&xf.supports(h)?new xf(h):new Eu(h)};function Bw({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function Y0(e,t,{delay:n=0,transitionOverride:r,type:s}={}){var i;let{transition:o=e.getDefaultTransition(),transitionEnd:l,...c}=t;r&&(o=r);const u=[],h=s&&e.animationState&&e.animationState.getState()[s];for(const d in c){const m=e.getValue(d,(i=e.latestValues[d])!==null&&i!==void 0?i:null),y=c[d];if(y===void 0||h&&Bw(h,d))continue;const b={delay:n,...mu(o||{},d)};let w=!1;if(window.MotionHandoffAnimation){const x=y0(e);if(x){const f=window.MotionHandoffAnimation(x,d,me);f!==null&&(b.startTime=f,w=!0)}}Gl(e,d),m.start(_u(d,m,y,e.shouldReduceMotion&&p0.has(d)?{type:!1}:b,e,w));const k=m.animation;k&&u.push(k)}return l&&Promise.all(u).then(()=>{me.update(()=>{l&&v1(e,l)})}),u}function Ql(e,t,n={}){var r;const s=Ko(e,t,n.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const o=s?()=>Promise.all(Y0(e,s,n)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:h=0,staggerChildren:d,staggerDirection:m}=i;return Uw(e,t,h+u,d,m,n)}:()=>Promise.resolve(),{when:c}=i;if(c){const[u,h]=c==="beforeChildren"?[o,l]:[l,o];return u().then(()=>h())}else return Promise.all([o(),l(n.delay)])}function Uw(e,t,n=0,r=0,s=1,i){const o=[],l=(e.variantChildren.size-1)*r,c=s===1?(u=0)=>u*r:(u=0)=>l-u*r;return Array.from(e.variantChildren).sort(zw).forEach((u,h)=>{u.notify("AnimationStart",t),o.push(Ql(u,t,{...i,delay:n+c(h)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function zw(e,t){return e.sortNodePosition(t)}function Gw(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(i=>Ql(e,i,n));r=Promise.all(s)}else if(typeof t=="string")r=Ql(e,t,n);else{const s=typeof t=="function"?Ko(e,t,n.custom):t;r=Promise.all(Y0(e,s,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const $w=nu.length;function q0(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?q0(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<$w;n++){const r=nu[n],s=e.props[r];(Ys(s)||s===!1)&&(t[r]=s)}return t}const Ww=[...tu].reverse(),Hw=tu.length;function Yw(e){return t=>Promise.all(t.map(({animation:n,options:r})=>Gw(e,n,r)))}function qw(e){let t=Yw(e),n=vf(),r=!0;const s=c=>(u,h)=>{var d;const m=Ko(e,h,c==="exit"?(d=e.presenceContext)===null||d===void 0?void 0:d.custom:void 0);if(m){const{transition:y,transitionEnd:b,...w}=m;u={...u,...w,...b}}return u};function i(c){t=c(e)}function o(c){const{props:u}=e,h=q0(e.parent)||{},d=[],m=new Set;let y={},b=1/0;for(let k=0;k<Hw;k++){const x=Ww[k],f=n[x],g=u[x]!==void 0?u[x]:h[x],v=Ys(g),S=x===c?f.isActive:null;S===!1&&(b=k);let C=g===h[x]&&g!==u[x]&&v;if(C&&r&&e.manuallyAnimateOnMount&&(C=!1),f.protectedKeys={...y},!f.isActive&&S===null||!g&&!f.prevProp||Yo(g)||typeof g=="boolean")continue;const T=Kw(f.prevProp,g);let N=T||x===c&&f.isActive&&!C&&v||k>b&&v,_=!1;const M=Array.isArray(g)?g:[g];let O=M.reduce(s(x),{});S===!1&&(O={});const{prevResolvedValues:A={}}=f,F={...A,...O},z=Z=>{N=!0,m.has(Z)&&(_=!0,m.delete(Z)),f.needsAnimating[Z]=!0;const I=e.getValue(Z);I&&(I.liveStyle=!1)};for(const Z in F){const I=O[Z],E=A[Z];if(y.hasOwnProperty(Z))continue;let j=!1;Bl(I)&&Bl(E)?j=!a0(I,E):j=I!==E,j?I!=null?z(Z):m.add(Z):I!==void 0&&m.has(Z)?z(Z):f.protectedKeys[Z]=!0}f.prevProp=g,f.prevResolvedValues=O,f.isActive&&(y={...y,...O}),r&&e.blockInitialAnimation&&(N=!1),N&&(!(C&&T)||_)&&d.push(...M.map(Z=>({animation:Z,options:{type:x}})))}if(m.size){const k={};m.forEach(x=>{const f=e.getBaseTarget(x),g=e.getValue(x);g&&(g.liveStyle=!0),k[x]=f??null}),d.push({animation:k})}let w=!!d.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(w=!1),r=!1,w?t(d):Promise.resolve()}function l(c,u){var h;if(n[c].isActive===u)return Promise.resolve();(h=e.variantChildren)===null||h===void 0||h.forEach(m=>{var y;return(y=m.animationState)===null||y===void 0?void 0:y.setActive(c,u)}),n[c].isActive=u;const d=o(c);for(const m in n)n[m].protectedKeys={};return d}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>n,reset:()=>{n=vf(),r=!0}}}function Kw(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!a0(t,e):!1}function Mn(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function vf(){return{animate:Mn(!0),whileInView:Mn(),whileHover:Mn(),whileTap:Mn(),whileDrag:Mn(),whileFocus:Mn(),exit:Mn()}}class _n{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Qw extends _n{constructor(t){super(t),t.animationState||(t.animationState=qw(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Yo(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let Xw=0;class Zw extends _n{constructor(){super(...arguments),this.id=Xw++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const Jw={animation:{Feature:Qw},exit:{Feature:Zw}};function Xs(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function ai(e){return{point:{x:e.pageX,y:e.pageY}}}const e2=e=>t=>yu(t)&&e(t,ai(t));function js(e,t,n,r){return Xs(e,t,e2(n),r)}const wf=(e,t)=>Math.abs(e-t);function t2(e,t){const n=wf(e.x,t.x),r=wf(e.y,t.y);return Math.sqrt(n**2+r**2)}class K0{constructor(t,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=Ra(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,y=t2(d.offset,{x:0,y:0})>=3;if(!m&&!y)return;const{point:b}=d,{timestamp:w}=Le;this.history.push({...b,timestamp:w});const{onStart:k,onMove:x}=this.handlers;m||(k&&k(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,d)},this.handlePointerMove=(d,m)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=Aa(m,this.transformPagePoint),me.update(this.updatePoint,!0)},this.handlePointerUp=(d,m)=>{this.end();const{onEnd:y,onSessionEnd:b,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=Ra(d.type==="pointercancel"?this.lastMoveEventInfo:Aa(m,this.transformPagePoint),this.history);this.startEvent&&y&&y(d,k),b&&b(d,k)},!yu(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=ai(t),l=Aa(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=Le;this.history=[{...c,timestamp:u}];const{onSessionStart:h}=n;h&&h(t,Ra(l,this.history)),this.removeListeners=oi(js(this.contextWindow,"pointermove",this.handlePointerMove),js(this.contextWindow,"pointerup",this.handlePointerUp),js(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Sn(this.updatePoint)}}function Aa(e,t){return t?{point:t(e.point)}:e}function bf(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Ra({point:e},t){return{point:e,delta:bf(e,Q0(t)),offset:bf(e,n2(t)),velocity:r2(t,.1)}}function n2(e){return e[0]}function Q0(e){return e[e.length-1]}function r2(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=Q0(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>Yt(t)));)n--;if(!r)return{x:0,y:0};const i=qt(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const X0=1e-4,s2=1-X0,i2=1+X0,Z0=.01,o2=0-Z0,a2=0+Z0;function ct(e){return e.max-e.min}function l2(e,t,n){return Math.abs(e-t)<=n}function kf(e,t,n,r=.5){e.origin=r,e.originPoint=ve(t.min,t.max,e.origin),e.scale=ct(n)/ct(t),e.translate=ve(n.min,n.max,e.origin)-e.originPoint,(e.scale>=s2&&e.scale<=i2||isNaN(e.scale))&&(e.scale=1),(e.translate>=o2&&e.translate<=a2||isNaN(e.translate))&&(e.translate=0)}function Es(e,t,n,r){kf(e.x,t.x,n.x,r?r.originX:void 0),kf(e.y,t.y,n.y,r?r.originY:void 0)}function Sf(e,t,n){e.min=n.min+t.min,e.max=e.min+ct(t)}function c2(e,t,n){Sf(e.x,t.x,n.x),Sf(e.y,t.y,n.y)}function Nf(e,t,n){e.min=t.min-n.min,e.max=e.min+ct(t)}function _s(e,t,n){Nf(e.x,t.x,n.x),Nf(e.y,t.y,n.y)}function u2(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?ve(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?ve(n,e,r.max):Math.min(e,n)),e}function Tf(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function d2(e,{top:t,left:n,bottom:r,right:s}){return{x:Tf(e.x,n,s),y:Tf(e.y,t,r)}}function Cf(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function f2(e,t){return{x:Cf(e.x,t.x),y:Cf(e.y,t.y)}}function h2(e,t){let n=.5;const r=ct(e),s=ct(t);return s>r?n=Lr(t.min,t.max-r,e.min):r>s&&(n=Lr(e.min,e.max-s,t.min)),Jt(0,1,n)}function m2(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Xl=.35;function p2(e=Xl){return e===!1?e=0:e===!0&&(e=Xl),{x:jf(e,"left","right"),y:jf(e,"top","bottom")}}function jf(e,t,n){return{min:Ef(e,t),max:Ef(e,n)}}function Ef(e,t){return typeof e=="number"?e:e[t]||0}const _f=()=>({translate:0,scale:1,origin:0,originPoint:0}),vr=()=>({x:_f(),y:_f()}),Mf=()=>({min:0,max:0}),Ne=()=>({x:Mf(),y:Mf()});function ht(e){return[e("x"),e("y")]}function J0({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function g2({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function y2(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Da(e){return e===void 0||e===1}function Zl({scale:e,scaleX:t,scaleY:n}){return!Da(e)||!Da(t)||!Da(n)}function Ln(e){return Zl(e)||eg(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function eg(e){return Pf(e.x)||Pf(e.y)}function Pf(e){return e&&e!=="0%"}function Co(e,t,n){const r=e-n,s=t*r;return n+s}function Af(e,t,n,r,s){return s!==void 0&&(e=Co(e,s,r)),Co(e,n,r)+t}function Jl(e,t=0,n=1,r,s){e.min=Af(e.min,t,n,r,s),e.max=Af(e.max,t,n,r,s)}function tg(e,{x:t,y:n}){Jl(e.x,t.translate,t.scale,t.originPoint),Jl(e.y,n.translate,n.scale,n.originPoint)}const Rf=.999999999999,Df=1.0000000000001;function x2(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let i,o;for(let l=0;l<s;l++){i=n[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&br(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,tg(e,o)),r&&Ln(i.latestValues)&&br(e,i.latestValues))}t.x<Df&&t.x>Rf&&(t.x=1),t.y<Df&&t.y>Rf&&(t.y=1)}function wr(e,t){e.min=e.min+t,e.max=e.max+t}function Lf(e,t,n,r,s=.5){const i=ve(e.min,e.max,s);Jl(e,t,n,i,r)}function br(e,t){Lf(e.x,t.x,t.scaleX,t.scale,t.originX),Lf(e.y,t.y,t.scaleY,t.scale,t.originY)}function ng(e,t){return J0(y2(e.getBoundingClientRect(),t))}function v2(e,t,n){const r=ng(e,n),{scroll:s}=t;return s&&(wr(r.x,s.offset.x),wr(r.y,s.offset.y)),r}const rg=({current:e})=>e?e.ownerDocument.defaultView:null,w2=new WeakMap;class b2{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ne(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=h=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(ai(h).point)},i=(h,d)=>{const{drag:m,dragPropagation:y,onDragStart:b}=this.getProps();if(m&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=m1(m),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ht(k=>{let x=this.getAxisMotionValue(k).get()||0;if(Bt.test(x)){const{projection:f}=this.visualElement;if(f&&f.layout){const g=f.layout.layoutBox[k];g&&(x=ct(g)*(parseFloat(x)/100))}}this.originPoint[k]=x}),b&&me.postRender(()=>b(h,d)),Gl(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},o=(h,d)=>{const{dragPropagation:m,dragDirectionLock:y,onDirectionLock:b,onDrag:w}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:k}=d;if(y&&this.currentDirection===null){this.currentDirection=k2(k),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",d.point,k),this.updateAxis("y",d.point,k),this.visualElement.render(),w&&w(h,d)},l=(h,d)=>this.stop(h,d),c=()=>ht(h=>{var d;return this.getAnimationState(h)==="paused"&&((d=this.getAxisMotionValue(h).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new K0(t,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:rg(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&me.postRender(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!_i(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=u2(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;n&&yr(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=d2(s.layoutBox,n):this.constraints=!1,this.elastic=p2(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&ht(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=m2(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!yr(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=v2(r,s.root,this.visualElement.getTransformPagePoint());let o=f2(s.layout.layoutBox,i);if(n){const l=n(g2(o));this.hasMutatedConstraints=!!l,l&&(o=J0(l))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=ht(h=>{if(!_i(h,n,this.currentDirection))return;let d=c&&c[h]||{};o&&(d={min:0,max:0});const m=s?200:1e6,y=s?40:1e7,b={type:"inertia",velocity:r?t[h]:0,bounceStiffness:m,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...i,...d};return this.startAxisValueAnimation(h,b)});return Promise.all(u).then(l)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return Gl(this.visualElement,t),r.start(_u(t,r,0,n,this.visualElement,!1))}stopAnimation(){ht(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ht(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){ht(n=>{const{drag:r}=this.getProps();if(!_i(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:l}=s.layout.layoutBox[n];i.set(t[n]-ve(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!yr(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};ht(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();s[o]=h2({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ht(o=>{if(!_i(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(ve(c,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;w2.set(this.visualElement,this);const t=this.visualElement.current,n=js(t,"pointerdown",c=>{const{drag:u,dragListener:h=!0}=this.getProps();u&&h&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();yr(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),me.read(r);const o=Xs(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(ht(h=>{const d=this.getAxisMotionValue(h);d&&(this.originPoint[h]+=c[h].translate,d.set(d.get()+c[h].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=Xl,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function _i(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function k2(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class S2 extends _n{constructor(t){super(t),this.removeGroupControls=at,this.removeListeners=at,this.controls=new b2(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||at}unmount(){this.removeGroupControls(),this.removeListeners()}}const If=e=>(t,n)=>{e&&me.postRender(()=>e(t,n))};class N2 extends _n{constructor(){super(...arguments),this.removePointerDownListener=at}onPointerDown(t){this.session=new K0(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:rg(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:If(t),onStart:If(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&me.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=js(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const qi={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Ff(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const rs={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(te.test(e))e=parseFloat(e);else return e;const n=Ff(e,t.target.x),r=Ff(e,t.target.y);return`${n}% ${r}%`}},T2={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=Nn.parse(e);if(s.length>5)return r;const i=Nn.createTransformer(e),o=typeof s[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;s[0+o]/=l,s[1+o]/=c;const u=ve(l,c,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),i(s)}};class C2 extends p.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=t;Yv(j2),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),qi.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,s||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||me.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),su.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function sg(e){const[t,n]=Up(),r=p.useContext(Qc);return a.jsx(C2,{...e,layoutGroup:r,switchLayoutGroup:p.useContext(qp),isPresent:t,safeToRemove:n})}const j2={borderRadius:{...rs,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:rs,borderTopRightRadius:rs,borderBottomLeftRadius:rs,borderBottomRightRadius:rs,boxShadow:T2};function E2(e,t,n){const r=ze(e)?e:Ks(e);return r.start(_u("",r,t,n)),r.animation}function _2(e){return e instanceof SVGElement&&e.tagName!=="svg"}const M2=(e,t)=>e.depth-t.depth;class P2{constructor(){this.children=[],this.isDirty=!1}add(t){xu(this.children,t),this.isDirty=!0}remove(t){vu(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(M2),this.isDirty=!1,this.children.forEach(t)}}function A2(e,t){const n=Ut.now(),r=({timestamp:s})=>{const i=s-n;i>=t&&(Sn(r),e(i-t))};return me.read(r,!0),()=>Sn(r)}const ig=["TopLeft","TopRight","BottomLeft","BottomRight"],R2=ig.length,Vf=e=>typeof e=="string"?parseFloat(e):e,Of=e=>typeof e=="number"||te.test(e);function D2(e,t,n,r,s,i){s?(e.opacity=ve(0,n.opacity!==void 0?n.opacity:1,L2(r)),e.opacityExit=ve(t.opacity!==void 0?t.opacity:1,0,I2(r))):i&&(e.opacity=ve(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<R2;o++){const l=`border${ig[o]}Radius`;let c=Bf(t,l),u=Bf(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||Of(c)===Of(u)?(e[l]=Math.max(ve(Vf(c),Vf(u),r),0),(Bt.test(u)||Bt.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||n.rotate)&&(e.rotate=ve(t.rotate||0,n.rotate||0,r))}function Bf(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const L2=og(0,.5,N0),I2=og(.5,.95,at);function og(e,t,n){return r=>r<e?0:r>t?1:n(Lr(e,t,r))}function Uf(e,t){e.min=t.min,e.max=t.max}function ft(e,t){Uf(e.x,t.x),Uf(e.y,t.y)}function zf(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Gf(e,t,n,r,s){return e-=t,e=Co(e,1/n,r),s!==void 0&&(e=Co(e,1/s,r)),e}function F2(e,t=0,n=1,r=.5,s,i=e,o=e){if(Bt.test(t)&&(t=parseFloat(t),t=ve(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=ve(i.min,i.max,r);e===i&&(l-=t),e.min=Gf(e.min,t,n,l,s),e.max=Gf(e.max,t,n,l,s)}function $f(e,t,[n,r,s],i,o){F2(e,t[n],t[r],t[s],t.scale,i,o)}const V2=["x","scaleX","originX"],O2=["y","scaleY","originY"];function Wf(e,t,n,r){$f(e.x,t,V2,n?n.x:void 0,r?r.x:void 0),$f(e.y,t,O2,n?n.y:void 0,r?r.y:void 0)}function Hf(e){return e.translate===0&&e.scale===1}function ag(e){return Hf(e.x)&&Hf(e.y)}function Yf(e,t){return e.min===t.min&&e.max===t.max}function B2(e,t){return Yf(e.x,t.x)&&Yf(e.y,t.y)}function qf(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function lg(e,t){return qf(e.x,t.x)&&qf(e.y,t.y)}function Kf(e){return ct(e.x)/ct(e.y)}function Qf(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class U2{constructor(){this.members=[]}add(t){xu(this.members,t),t.scheduleRender()}remove(t){if(vu(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function z2(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:h,rotateX:d,rotateY:m,skewX:y,skewY:b}=n;u&&(r=`perspective(${u}px) ${r}`),h&&(r+=`rotate(${h}deg) `),d&&(r+=`rotateX(${d}deg) `),m&&(r+=`rotateY(${m}deg) `),y&&(r+=`skewX(${y}deg) `),b&&(r+=`skewY(${b}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const In={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},ps=typeof window<"u"&&window.MotionDebug!==void 0,La=["","X","Y","Z"],G2={visibility:"hidden"},Xf=1e3;let $2=0;function Ia(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function cg(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=y0(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",me,!(s||i))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&cg(r)}function ug({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},l=t==null?void 0:t()){this.id=$2++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ps&&(In.totalNodes=In.resolvedTargetDeltas=In.recalculatedProjection=0),this.nodes.forEach(Y2),this.nodes.forEach(Z2),this.nodes.forEach(J2),this.nodes.forEach(q2),ps&&window.MotionDebug.record(In)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new P2)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new wu),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=_2(o),this.instance=o;const{layoutId:c,layout:u,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),e){let d;const m=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=A2(m,250),qi.hasAnimatedSinceResize&&(qi.hasAnimatedSinceResize=!1,this.nodes.forEach(Jf))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&h&&(c||u)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:m,hasRelativeTargetChanged:y,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||h.getDefaultTransition()||sb,{onLayoutAnimationStart:k,onLayoutAnimationComplete:x}=h.getProps(),f=!this.targetLayout||!lg(this.targetLayout,b)||y,g=!m&&y;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||g||m&&(f||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,g);const v={...mu(w,"layout"),onPlay:k,onComplete:x};(h.shouldReduceMotion||this.options.layoutRoot)&&(v.delay=0,v.type=!1),this.startAnimation(v)}else m||Jf(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Sn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(eb),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&cg(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const d=this.path[h];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Zf);return}this.isUpdating||this.nodes.forEach(Q2),this.isUpdating=!1,this.nodes.forEach(X2),this.nodes.forEach(W2),this.nodes.forEach(H2),this.clearAllSnapshots();const l=Ut.now();Le.delta=Jt(0,1e3/60,l-Le.timestamp),Le.timestamp=l,Le.isProcessing=!0,Ca.update.process(Le),Ca.preRender.process(Le),Ca.render.process(Le),Le.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,su.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(K2),this.sharedNodes.forEach(tb)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,me.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){me.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ne(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!ag(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,h=u!==this.prevTransformTemplateValue;o&&(l||Ln(this.latestValues)||h)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),ib(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:l}=this.options;if(!l)return Ne();const c=l.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(ob))){const{scroll:h}=this.root;h&&(wr(c.x,h.offset.x),wr(c.y,h.offset.y))}return c}removeElementScroll(o){var l;const c=Ne();if(ft(c,o),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let u=0;u<this.path.length;u++){const h=this.path[u],{scroll:d,options:m}=h;h!==this.root&&d&&m.layoutScroll&&(d.wasRoot&&ft(c,o),wr(c.x,d.offset.x),wr(c.y,d.offset.y))}return c}applyTransform(o,l=!1){const c=Ne();ft(c,o);for(let u=0;u<this.path.length;u++){const h=this.path[u];!l&&h.options.layoutScroll&&h.scroll&&h!==h.root&&br(c,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),Ln(h.latestValues)&&br(c,h.latestValues)}return Ln(this.latestValues)&&br(c,this.latestValues),c}removeTransform(o){const l=Ne();ft(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Ln(u.latestValues))continue;Zl(u.latestValues)&&u.updateSnapshot();const h=Ne(),d=u.measurePageBox();ft(h,d),Wf(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,h)}return Ln(this.latestValues)&&Wf(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Le.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:m}=this.options;if(!(!this.layout||!(d||m))){if(this.resolvedRelativeTargetAt=Le.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ne(),this.relativeTargetOrigin=Ne(),_s(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),ft(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ne(),this.targetWithTransforms=Ne()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),c2(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ft(this.target,this.layout.layoutBox),tg(this.target,this.targetDelta)):ft(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ne(),this.relativeTargetOrigin=Ne(),_s(this.relativeTargetOrigin,this.target,y.target),ft(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ps&&In.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Zl(this.parent.latestValues)||eg(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Le.timestamp&&(u=!1),u)return;const{layout:h,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||d))return;ft(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,y=this.treeScale.y;x2(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Ne());const{target:b}=l;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(zf(this.prevProjectionDelta.x,this.projectionDelta.x),zf(this.prevProjectionDelta.y,this.projectionDelta.y)),Es(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==y||!Qf(this.projectionDelta.x,this.prevProjectionDelta.x)||!Qf(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b)),ps&&In.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=vr(),this.projectionDelta=vr(),this.projectionDeltaWithTransform=vr()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},h={...this.latestValues},d=vr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const m=Ne(),y=c?c.source:void 0,b=this.layout?this.layout.source:void 0,w=y!==b,k=this.getStack(),x=!k||k.members.length<=1,f=!!(w&&!x&&this.options.crossfade===!0&&!this.path.some(rb));this.animationProgress=0;let g;this.mixTargetDelta=v=>{const S=v/1e3;eh(d.x,o.x,S),eh(d.y,o.y,S),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(_s(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),nb(this.relativeTarget,this.relativeTargetOrigin,m,S),g&&B2(this.relativeTarget,g)&&(this.isProjectionDirty=!1),g||(g=Ne()),ft(g,this.relativeTarget)),w&&(this.animationValues=h,D2(h,u,this.latestValues,S,f,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Sn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=me.update(()=>{qi.hasAnimatedSinceResize=!0,this.currentAnimation=E2(0,Xf,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Xf),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:h}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&dg(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Ne();const d=ct(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+d;const m=ct(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+m}ft(l,c),br(l,h),Es(this.projectionDeltaWithTransform,this.layoutCorrected,l,h)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new U2),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&Ia("z",o,u,this.animationValues);for(let h=0;h<La.length;h++)Ia(`rotate${La[h]}`,o,u,this.animationValues),Ia(`skew${La[h]}`,o,u,this.animationValues);o.render();for(const h in u)o.setStaticValue(h,u[h]),this.animationValues&&(this.animationValues[h]=u[h]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return G2;const u={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Hi(o==null?void 0:o.pointerEvents)||"",u.transform=h?h(this.latestValues,""):"none",u;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=Hi(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Ln(this.latestValues)&&(w.transform=h?h({},""):"none",this.hasProjected=!1),w}const m=d.animationValues||d.latestValues;this.applyTransformsToTarget(),u.transform=z2(this.projectionDeltaWithTransform,this.treeScale,m),h&&(u.transform=h(m,u.transform));const{x:y,y:b}=this.projectionDelta;u.transformOrigin=`${y.origin*100}% ${b.origin*100}% 0`,d.animationValues?u.opacity=d===this?(c=(l=m.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:u.opacity=d===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const w in bo){if(m[w]===void 0)continue;const{correct:k,applyTo:x}=bo[w],f=u.transform==="none"?m[w]:k(m[w],d);if(x){const g=x.length;for(let v=0;v<g;v++)u[x[v]]=f}else u[w]=f}return this.options.layoutId&&(u.pointerEvents=d===this?Hi(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(Zf),this.root.sharedNodes.clear()}}}function W2(e){e.updateLayout()}function H2(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:i}=e.options,o=n.source!==e.layout.source;i==="size"?ht(d=>{const m=o?n.measuredBox[d]:n.layoutBox[d],y=ct(m);m.min=r[d].min,m.max=m.min+y}):dg(i,n.layoutBox,r)&&ht(d=>{const m=o?n.measuredBox[d]:n.layoutBox[d],y=ct(r[d]);m.max=m.min+y,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[d].max=e.relativeTarget[d].min+y)});const l=vr();Es(l,r,n.layoutBox);const c=vr();o?Es(c,e.applyTransform(s,!0),n.measuredBox):Es(c,r,n.layoutBox);const u=!ag(l);let h=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:m,layout:y}=d;if(m&&y){const b=Ne();_s(b,n.layoutBox,m.layoutBox);const w=Ne();_s(w,r,y.layoutBox),lg(b,w)||(h=!0),d.options.layoutRoot&&(e.relativeTarget=w,e.relativeTargetOrigin=b,e.relativeParent=d)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:h})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function Y2(e){ps&&In.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function q2(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function K2(e){e.clearSnapshot()}function Zf(e){e.clearMeasurements()}function Q2(e){e.isLayoutDirty=!1}function X2(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Jf(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Z2(e){e.resolveTargetDelta()}function J2(e){e.calcProjection()}function eb(e){e.resetSkewAndRotation()}function tb(e){e.removeLeadSnapshot()}function eh(e,t,n){e.translate=ve(t.translate,0,n),e.scale=ve(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function th(e,t,n,r){e.min=ve(t.min,n.min,r),e.max=ve(t.max,n.max,r)}function nb(e,t,n,r){th(e.x,t.x,n.x,r),th(e.y,t.y,n.y,r)}function rb(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const sb={duration:.45,ease:[.4,0,.1,1]},nh=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),rh=nh("applewebkit/")&&!nh("chrome/")?Math.round:at;function sh(e){e.min=rh(e.min),e.max=rh(e.max)}function ib(e){sh(e.x),sh(e.y)}function dg(e,t,n){return e==="position"||e==="preserve-aspect"&&!l2(Kf(t),Kf(n),.2)}function ob(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const ab=ug({attachResizeListener:(e,t)=>Xs(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Fa={current:void 0},fg=ug({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Fa.current){const e=new ab({});e.mount(window),e.setOptions({layoutScroll:!0}),Fa.current=e}return Fa.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),lb={pan:{Feature:N2},drag:{Feature:S2,ProjectionNode:fg,MeasureLayout:sg}};function ih(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&me.postRender(()=>i(t,ai(t)))}class cb extends _n{mount(){const{current:t}=this.node;t&&(this.unmount=c1(t,n=>(ih(this.node,n,"Start"),r=>ih(this.node,r,"End"))))}unmount(){}}class ub extends _n{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=oi(Xs(this.node.current,"focus",()=>this.onFocus()),Xs(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function oh(e,t,n){const{props:r}=e;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&me.postRender(()=>i(t,ai(t)))}class db extends _n{mount(){const{current:t}=this.node;t&&(this.unmount=h1(t,n=>(oh(this.node,n,"Start"),(r,{success:s})=>oh(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ec=new WeakMap,Va=new WeakMap,fb=e=>{const t=ec.get(e.target);t&&t(e)},hb=e=>{e.forEach(fb)};function mb({root:e,...t}){const n=e||document;Va.has(n)||Va.set(n,{});const r=Va.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(hb,{root:e,...t})),r[s]}function pb(e,t,n){const r=mb(t);return ec.set(e,n),r.observe(e),()=>{ec.delete(e),r.unobserve(e)}}const gb={some:0,all:1};class yb extends _n{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:gb[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:h,onViewportLeave:d}=this.node.getProps(),m=u?h:d;m&&m(c)};return pb(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(xb(t,n))&&this.startObserver()}unmount(){}}function xb({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const vb={inView:{Feature:yb},tap:{Feature:db},focus:{Feature:ub},hover:{Feature:cb}},wb={layout:{ProjectionNode:fg,MeasureLayout:sg}},tc={current:null},hg={current:!1};function bb(){if(hg.current=!0,!!Jc)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>tc.current=e.matches;e.addListener(t),t()}else tc.current=!1}const kb=[...V0,Be,Nn],Sb=e=>kb.find(F0(e)),ah=new WeakMap;function Nb(e,t,n){for(const r in t){const s=t[r],i=n[r];if(ze(s))e.addValue(r,s);else if(ze(i))e.addValue(r,Ks(s,{owner:e}));else if(i!==s)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=e.getStaticValue(r);e.addValue(r,Ks(o!==void 0?o:s,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const lh=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Tb{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Cu,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=Ut.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,me.render(this.render,!1,!0))};const{latestValues:c,renderState:u,onUpdate:h}=o;this.onUpdate=h,this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=qo(n),this.isVariantNode=Hp(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...m}=this.scrapeMotionValuesFromProps(n,{},this);for(const y in m){const b=m[y];c[y]!==void 0&&ze(b)&&b.set(c[y],!1)}}mount(t){this.current=t,ah.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),hg.current||bb(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:tc.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){ah.delete(this.current),this.projection&&this.projection.unmount(),Sn(this.notifyUpdate),Sn(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=er.has(t),s=n.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&me.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Ir){const n=Ir[t];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[t]&&s&&r(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ne()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<lh.length;r++){const s=lh[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=t[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=Nb(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Ks(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var r;let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(L0(s)||C0(s))?s=parseFloat(s):!Sb(s)&&Nn.test(n)&&(s=A0(t,n)),this.setBaseTarget(t,ze(s)?s.get():s)),ze(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const o=ou(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(s=o[t])}if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!ze(i)?i:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new wu),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class mg extends Tb{constructor(){super(...arguments),this.KeyframeResolver=O0}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ze(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Cb(e){return window.getComputedStyle(e)}class jb extends mg{constructor(){super(...arguments),this.type="html",this.renderInstance=t0}readValueFromInstance(t,n){if(er.has(n)){const r=Tu(n);return r&&r.default||0}else{const r=Cb(t),s=(Zp(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return ng(t,n)}build(t,n,r){cu(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return hu(t,n,r)}}class Eb extends mg{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ne}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(er.has(n)){const r=Tu(n);return r&&r.default||0}return n=n0.has(n)?n:ru(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return i0(t,n,r)}build(t,n,r){uu(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,s){r0(t,n,r,s)}mount(t){this.isSVGTag=fu(t.tagName),super.mount(t)}}const _b=(e,t)=>iu(e)?new Eb(t):new jb(t,{allowProjection:e!==p.Fragment}),Mb=n1({...Jw,...vb,...lb,...wb},_b),ee=yv(Mb);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Pb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ab=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),q=(e,t)=>{const n=p.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...u},h)=>p.createElement("svg",{ref:h,...Pb,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${Ab(e)}`,l].join(" "),...u},[...t.map(([d,m])=>p.createElement(d,m)),...Array.isArray(c)?c:[c]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xo=q("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rb=q("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Db=q("Battery",[["rect",{width:"16",height:"10",x:"2",y:"7",rx:"2",ry:"2",key:"1w10f2"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pg=q("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lb=q("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ib=q("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fb=q("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vb=q("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gg=q("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ob=q("ClipboardPenLine",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",key:"1oijnt"}],["path",{d:"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-.5",key:"1but9f"}],["path",{d:"M16 4h2a2 2 0 0 1 1.73 1",key:"1p8n7l"}],["path",{d:"M8 18h1",key:"13wk12"}],["path",{d:"M18.4 9.6a2 2 0 0 1 3 3L17 17l-4 1 1-4Z",key:"yg2pdb"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vr=q("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yg=q("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bb=q("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ub=q("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zb=q("Crosshair",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gb=q("Disc3",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M6 12c0-1.7.7-3.2 1.8-4.2",key:"oqkarx"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M18 12c0 1.7-.7 3.2-1.8 4.2",key:"1eah9h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xg=q("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $b=q("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wb=q("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jo=q("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hb=q("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yb=q("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mu=q("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vg=q("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qb=q("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kb=q("Keyboard",[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qb=q("Laptop",[["path",{d:"M20 16V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v9m16 0H4m16 0 1.28 2.55a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45L4 16",key:"tarvll"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xb=q("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zb=q("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wg=q("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jb=q("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ek=q("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bg=q("Minimize",[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kg=q("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ch=q("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pu=q("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Or=q("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sg=q("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tk=q("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ng=q("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tg=q("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eo=q("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nk=q("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zo=q("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Br=q("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rk=q("SkipBack",[["polygon",{points:"19 20 9 12 19 4 19 20",key:"o2sva"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5",key:"1ocqjk"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sk=q("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uh=q("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ik=q("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cg=q("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ok=q("Swords",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jg=q("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zs=q("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ak=q("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lk=q("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ck=q("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xn=q("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uk=q("Unlock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dk=q("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eg=q("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fk=q("Volume1",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=q("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tn=q("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _g=q("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hr=q("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yr=q("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),sn=30,Oa=[{x:15,y:15}],Pn={x:1,y:0},hk=120,mk=5e3,dh=10,fh=3;function pk(){const[e,t]=p.useState({snake:Oa,food:[],direction:Pn,score:0,highScore:parseInt(localStorage.getItem("snakeHighScore")||"0"),level:1,lives:fh,combo:1,gameState:"menu",gameMode:"classic",powerUps:[],activePowerUp:null,powerUpTimer:0,obstacles:[],achievements:JSON.parse(localStorage.getItem("snakeAchievements")||"[]"),stats:{foodEaten:0,powerUpsCollected:0,obstaclesDestroyed:0,timePlayed:0}}),n=p.useRef(Pn),r=p.useRef(Pn),s=p.useCallback(()=>{let y;do y={x:Math.floor(Math.random()*sn),y:Math.floor(Math.random()*sn)};while(e.snake.some(b=>b.x===y.x&&b.y===y.y)||e.obstacles.some(b=>b.x===y.x&&b.y===y.y));return y},[e.snake,e.obstacles]),i=p.useCallback(()=>{const y=[{type:"normal",weight:.7,points:10,color:"#00FF00"},{type:"bonus",weight:.2,points:30,color:"#FFD700"},{type:"mega",weight:.08,points:50,color:"#FF00FF"},{type:"special",weight:.02,points:100,color:"#00FFFF"}],b=Math.random();let w=0,k=y[0];for(const f of y)if(w+=f.weight,b<=w){k=f;break}const x={position:s(),points:k.points*e.level,color:k.color,type:k.type,id:`food-${Date.now()}-${Math.random()}`};t(f=>({...f,food:[...f.food,x]}))},[s,e.level]),o=p.useCallback(()=>{const y=["speed","ghost","multiplier","slow","matrix_vision","bullet_time","digital_clone","hack_mode","data_stream"],b=y[Math.floor(Math.random()*y.length)],w={position:s(),type:b,id:`powerup-${Date.now()}-${Math.random()}`};t(k=>({...k,powerUps:[...k.powerUps,w]}))},[s]),l=p.useCallback(y=>{const b=Math.min(y*2,20),w=[];for(let k=0;k<b;k++)w.push(s());t(k=>({...k,obstacles:w}))},[s]),c=p.useCallback(y=>{const b=n.current;b.x===-y.x&&b.y===y.y||b.y===-y.y&&b.x===y.x||(r.current=y)},[]),u=p.useCallback(()=>{e.gameState==="playing"&&(n.current=r.current,t(y=>{const b=y.snake[0],w={x:b.x+n.current.x,y:b.y+n.current.y};if(y.gameMode==="classic")w.x=(w.x+sn)%sn,w.y=(w.y+sn)%sn;else if(w.x<0||w.x>=sn||w.y<0||w.y>=sn)return h(y);if(y.activePowerUp!=="ghost"&&y.activePowerUp!=="hack_mode"&&y.snake.some(v=>v.x===w.x&&v.y===w.y)||y.activePowerUp!=="hack_mode"&&y.obstacles.some(v=>v.x===w.x&&v.y===w.y))return h(y);const k=[w,...y.snake];let x={...y,snake:k};const f=y.food.findIndex(v=>v.position.x===w.x&&v.position.y===w.y);if(f!==-1){const v=y.food[f],S=y.activePowerUp==="multiplier"?3:1,C=Math.min(y.combo,dh),T=v.points*S*C;x={...x,score:y.score+T,food:y.food.filter((N,_)=>_!==f),combo:Math.min(y.combo+.1,dh),stats:{...y.stats,foodEaten:y.stats.foodEaten+1}},x.score>x.highScore&&(x.highScore=x.score,localStorage.setItem("snakeHighScore",x.score.toString())),x.score>=x.level*500&&(x.level+=1,l(x.level)),x.food.length===0&&setTimeout(()=>i(),0)}else x.snake.pop();const g=y.powerUps.findIndex(v=>v.position.x===w.x&&v.position.y===w.y);if(g!==-1){const v=y.powerUps[g];x={...x,powerUps:y.powerUps.filter((S,C)=>C!==g),activePowerUp:v.type,powerUpTimer:mk,stats:{...y.stats,powerUpsCollected:y.stats.powerUpsCollected+1}}}return x}))},[e.gameState,l,i]),h=y=>{const b=y.lives-1;return b<=0?{...y,lives:0,gameState:"game_over"}:{...y,lives:b,snake:Oa,direction:Pn,combo:1,activePowerUp:null,powerUpTimer:0}},d=p.useCallback((y="classic")=>{t(b=>({...b,snake:Oa,food:[],direction:Pn,score:0,level:1,lives:fh,combo:1,gameState:"playing",gameMode:y,powerUps:[],activePowerUp:null,powerUpTimer:0,obstacles:[],stats:{foodEaten:0,powerUpsCollected:0,obstaclesDestroyed:0,timePlayed:0}})),n.current=Pn,r.current=Pn,setTimeout(()=>i(),100)},[i]),m=p.useCallback(()=>{t(y=>({...y,gameState:y.gameState==="playing"?"paused":"playing"}))},[]);return p.useEffect(()=>{if(e.powerUpTimer>0&&e.gameState==="playing"){const y=setTimeout(()=>{t(b=>({...b,powerUpTimer:Math.max(0,b.powerUpTimer-100),activePowerUp:b.powerUpTimer<=100?null:b.activePowerUp}))},100);return()=>clearTimeout(y)}},[e.powerUpTimer,e.gameState]),p.useEffect(()=>{if(e.gameState==="playing"){if(e.food.length===0)i();else if(e.food.length<3){const y=setTimeout(()=>i(),2e3);return()=>clearTimeout(y)}}},[e.gameState,e.food.length,i]),p.useEffect(()=>{if(e.gameState==="playing"&&e.powerUps.length===0){const y=setTimeout(()=>o(),1e4);return()=>clearTimeout(y)}},[e.gameState,e.powerUps.length,o]),{gameState:e,moveSnake:u,changeDirection:c,startGame:d,togglePause:m,getSpeed:()=>{const y=hk-(e.level-1)*10;return e.activePowerUp==="speed"?y*.5:e.activePowerUp==="slow"?y*2:e.activePowerUp==="bullet_time"?y*4:y}}}const gk=500;function Au(){const[e,t]=p.useState([]),n=p.useRef(0),r=p.useCallback(d=>{const m=[];for(let y=0;y<d.count;y++){const b=Math.PI*2*y/d.count+(Math.random()-.5)*(d.spread||.5);let w=(d.speed||2)*(.5+Math.random()*.5),k=d.color||"#00FF00",x=d.size||3,f=d.life||1,g=0,v=!0,S=!1;switch(d.type){case"food":k=d.color||"#FFD700",x=2+Math.random()*2,w*=1.5,S=!0;break;case"explosion":k=["#FF0000","#FF6600","#FFFF00"][Math.floor(Math.random()*3)],x=4+Math.random()*4,w*=2,g=.3,S=!0;break;case"trail":k=d.color||"#00FF0080",x=2,f=.5,v=!0;break;case"powerup":k=d.color||"#FFD700",x=3+Math.sin(Date.now()*.01)*2,w*=.5,S=!0;break;case"matrix":k="#00FF00",x=1+Math.random()*2,w=.5+Math.random()*2,g=-.5,v=!1;break;case"impact":k="#FFFFFF",x=5+Math.random()*5,w*=3,f=.3,S=!0;break}m.push({id:`particle-${n.current++}`,x:d.x,y:d.y,vx:Math.cos(b)*w,vy:Math.sin(b)*w,size:x,life:f,maxLife:f,color:k,type:d.type,gravity:g,fade:v,glow:S})}t(y=>[...y,...m].slice(-gk))},[]),s=p.useCallback((d,m,y)=>{r({x:d,y:m,count:20,type:"explosion",color:y,spread:Math.PI*2,speed:5,life:1})},[r]),i=p.useCallback((d,m,y)=>{r({x:d,y:m,count:15,type:"food",color:y,spread:Math.PI*2,speed:3,life:.8})},[r]),o=p.useCallback((d,m,y)=>{r({x:d,y:m,count:30,type:"powerup",color:y,spread:Math.PI*2,speed:4,life:1.5})},[r]),l=p.useCallback((d,m,y)=>{r({x:d,y:m,count:3,type:"trail",color:y,spread:.5,speed:.5,life:.5})},[r]),c=p.useCallback(d=>{const m=Math.random()*d;r({x:m,y:-10,count:1,type:"matrix",spread:0,speed:2,life:3})},[r]);p.useEffect(()=>{let d,m=performance.now();const y=b=>{const w=Math.min((b-m)/1e3,.033);m=b,t(k=>k.length===0?(d=requestAnimationFrame(y),k):k.map(x=>{const f=x.life-w;return f<=0?null:{...x,x:x.x+x.vx*(w*60),y:x.y+x.vy*(w*60)+(x.gravity||0),vy:x.vy+(x.gravity||0)*w*60,life:f,size:x.fade?x.size*(f/x.maxLife):x.size}}).filter(x=>x!==null)),d=requestAnimationFrame(y)};return d=requestAnimationFrame(y),()=>cancelAnimationFrame(d)},[]);const u=p.useCallback(()=>{t([])},[]),h=p.useCallback(d=>{e.forEach(m=>{d.save();const y=m.fade?m.life/m.maxLife:1;m.glow&&(d.shadowBlur=m.size*2,d.shadowColor=m.color),d.fillStyle=m.color.includes("rgba")?m.color:`${m.color}${Math.floor(y*255).toString(16).padStart(2,"0")}`,m.type==="matrix"?(d.font=`${m.size*10}px monospace`,d.fillText(String.fromCharCode(12448+Math.random()*96),m.x,m.y)):(d.beginPath(),d.arc(m.x,m.y,m.size,0,Math.PI*2),d.fill()),d.restore()})},[e]);return p.useMemo(()=>({particles:e,emit:r,explode:s,collectFood:i,activatePowerUp:o,createTrail:l,createMatrixRain:c,clear:u,render:h,count:e.length}),[e,r,s,i,o,l,c,u,h])}function yk(e,t){const n=p.useRef(e);p.useEffect(()=>{n.current=e},[e]),p.useEffect(()=>{if(t!==null){const r=setInterval(()=>n.current(),t);return()=>clearInterval(r)}},[t])}const hh={music:!0,sfx:!0,masterVolume:.7,musicVolume:.4,sfxVolume:.6},Ba={jump:{type:"jump",frequency:{start:440,end:220},oscillatorType:"sine",duration:.2,attack:.01,decay:.1,sustain:.3,release:.1,filterType:"lowpass",filterFreq:800},hit:{type:"hit",frequency:{start:200,end:50},oscillatorType:"sawtooth",duration:.3,attack:.001,decay:.05,sustain:.1,release:.24,filterType:"lowpass",filterFreq:400},score:{type:"score",frequency:{start:523,end:784},oscillatorType:"square",duration:.25,attack:.02,decay:.08,sustain:.6,release:.15,filterType:"bandpass",filterFreq:1500},powerup:{type:"powerup",frequency:{start:659,end:1046},oscillatorType:"triangle",duration:.4,attack:.05,decay:.1,sustain:.7,release:.25,filterType:"highpass",filterFreq:500,reverb:!0},levelUp:{type:"levelUp",frequency:{start:880,end:1760},oscillatorType:"square",duration:.6,attack:.1,decay:.2,sustain:.8,release:.3,filterType:"bandpass",filterFreq:2e3,reverb:!0},combo:{type:"combo",frequency:{start:349,end:523},oscillatorType:"triangle",duration:.15,attack:.01,decay:.05,sustain:.5,release:.09,filterType:"bandpass",filterFreq:1200},gameOver:{type:"gameOver",frequency:{start:220,end:110},oscillatorType:"sawtooth",duration:1,attack:.1,decay:.3,sustain:.4,release:.6,filterType:"lowpass",filterFreq:300,reverb:!0},menu:{type:"menu",frequency:{start:440,end:523},oscillatorType:"sine",duration:.1,attack:.02,decay:.03,sustain:.3,release:.05,filterType:"bandpass",filterFreq:1e3},snakeEat:{type:"snakeEat",frequency:{start:800,end:1200},oscillatorType:"square",duration:.15,attack:.01,decay:.04,sustain:.4,release:.1,filterType:"bandpass",filterFreq:1600},pongBounce:{type:"pongBounce",frequency:{start:300,end:600},oscillatorType:"triangle",duration:.1,attack:.005,decay:.02,sustain:.3,release:.065,filterType:"bandpass",filterFreq:900},terminalType:{type:"terminalType",frequency:{start:1e3,end:1e3},oscillatorType:"square",duration:.05,attack:.001,decay:.01,sustain:.2,release:.039,filterType:"highpass",filterFreq:800},matrixRain:{type:"matrixRain",frequency:{start:220,end:330},oscillatorType:"sine",duration:.8,attack:.2,decay:.2,sustain:.3,release:.3,filterType:"lowpass",filterFreq:600}},mh={menu:{notes:[220,246.94,261.63,293.66,329.63,349.23,392],rhythm:[.5,.25,.5,.25,.5,.25,1],tempo:120,loop:!0},gameplay:{notes:[174.61,196,220,246.94,261.63,293.66],rhythm:[.5,.5,.25,.25,.5,.5],tempo:100,loop:!0},intense:{notes:[130.81,146.83,164.81,174.61,196,220],rhythm:[.25,.25,.25,.25,.5,.5],tempo:140,loop:!0}};function qr(){const[e,t]=p.useState(()=>{const x=localStorage.getItem("matrix-arcade-audio-config");return x?{...hh,...JSON.parse(x)}:hh}),n=p.useRef(null),r=p.useRef(null),s=p.useRef(null),i=p.useRef(null),o=p.useRef(null),l=p.useRef(null),c=p.useRef(null),u=p.useCallback((x,f,g,v)=>{const S=x.createBuffer(f,g*v,g);for(let C=0;C<f;C++){const T=S.getChannelData(C);for(let N=0;N<T.length;N++){const _=Math.pow(1-N/T.length,2);T[N]=(Math.random()*2-1)*_*.3}}return S},[]),h=p.useCallback(async()=>{if(n.current)return n.current.state==="suspended"&&await n.current.resume(),n.current.state==="closed"?(n.current=null,null):n.current;try{const x=window.AudioContext||window.webkitAudioContext,f=new x;n.current=f;const g=f.createGain();g.gain.setValueAtTime(e.masterVolume,f.currentTime),g.connect(f.destination),s.current=g;const v=f.createGain();v.gain.setValueAtTime(e.musicVolume,f.currentTime),v.connect(g),i.current=v;const S=f.createGain();S.gain.setValueAtTime(e.sfxVolume,f.currentTime),S.connect(g),o.current=S;const C=f.createConvolver(),T=u(f,2,f.sampleRate,1.5);return C.buffer=T,c.current=C,f}catch(x){return console.warn("Failed to initialize audio context:",x),null}},[e.masterVolume,e.musicVolume,e.sfxVolume,u]),d=p.useCallback(async(x,f)=>{if(!e.sfx)return;const g=await h();if(!g||!o.current)return;const v=f?{...Ba[x],...f}:Ba[x];if(!v){console.warn(`Sound effect '${x}' not found in library`);return}try{if(g.state==="closed")return;const S=g.createOscillator();S.type=v.oscillatorType,S.frequency.setValueAtTime(v.frequency.start,g.currentTime),S.frequency.exponentialRampToValueAtTime(v.frequency.end,g.currentTime+v.duration);const C=g.createGain();if(C.gain.setValueAtTime(0,g.currentTime),C.gain.linearRampToValueAtTime(1,g.currentTime+v.attack),C.gain.linearRampToValueAtTime(v.sustain,g.currentTime+v.attack+v.decay),C.gain.linearRampToValueAtTime(0,g.currentTime+v.duration),v.filterType&&v.filterFreq){const T=g.createBiquadFilter();T.type=v.filterType,T.frequency.setValueAtTime(v.filterFreq,g.currentTime),T.Q.setValueAtTime(1,g.currentTime),S.connect(T),T.connect(C)}else S.connect(C);if(v.reverb&&c.current){const T=g.createGain();T.gain.setValueAtTime(.3,g.currentTime);const N=g.createGain();N.gain.setValueAtTime(.7,g.currentTime),C.connect(N),C.connect(T),T.connect(c.current),c.current.connect(o.current),N.connect(o.current)}else C.connect(o.current);S.start(g.currentTime),S.stop(g.currentTime+v.duration)}catch(S){console.warn("Error playing sound effect:",S)}},[e.sfx,h]),m=p.useCallback(async x=>{if(!e.music)return;r.current&&(r.current.stop(),r.current=null);const f=await h();if(!f||!i.current)return;l.current=x;const g=mh[x];try{const v=()=>{if(l.current!==x||f.state==="closed")return;let S=f.currentTime;const C=60/g.tempo;if(g.notes.forEach((T,N)=>{const _=g.rhythm[N],M=C*_,O=f.createOscillator();O.type="triangle",O.frequency.setValueAtTime(T,S);const A=f.createGain();A.gain.setValueAtTime(0,S),A.gain.linearRampToValueAtTime(.1,S+.02),A.gain.linearRampToValueAtTime(.05,S+M*.7),A.gain.linearRampToValueAtTime(0,S+M);const F=f.createBiquadFilter();F.type="lowpass",F.frequency.setValueAtTime(1200,S),F.Q.setValueAtTime(.5,S),O.connect(F),F.connect(A),A.connect(i.current),O.start(S),O.stop(S+M),S+=M}),g.loop&&l.current===x){const T=g.rhythm.reduce((N,_)=>N+_*C,0);setTimeout(v,T*1e3)}};v()}catch(v){console.warn("Error playing background music:",v)}},[e.music,h]),y=p.useCallback(()=>{l.current=null,r.current&&(r.current.stop(),r.current=null)},[]),b=p.useCallback(x=>{const f={...e,...x};t(f),localStorage.setItem("matrix-arcade-audio-config",JSON.stringify(f)),s.current&&f.masterVolume!==e.masterVolume&&s.current.gain.setValueAtTime(f.masterVolume,0),i.current&&f.musicVolume!==e.musicVolume&&i.current.gain.setValueAtTime(f.musicVolume,0),o.current&&f.sfxVolume!==e.sfxVolume&&o.current.gain.setValueAtTime(f.sfxVolume,0)},[e]),w=p.useCallback(()=>{const x={music:!e.music&&!e.sfx,sfx:!e.music&&!e.sfx};b(x),e.music&&!x.music&&y()},[e.music,e.sfx,b,y]),k=!e.music&&!e.sfx;return p.useEffect(()=>()=>{y(),n.current&&n.current.state!=="closed"&&n.current.close()},[y]),p.useMemo(()=>({config:e,updateConfig:b,playSFX:d,playMusic:m,stopMusic:y,toggleMute:w,isMuted:k,isInitialized:!!n.current,soundLibrary:Object.keys(Ba),musicSequences:Object.keys(mh)}),[e,b,d,m,y,w,k])}const Ua={speed:"#FF6B6B",ghost:"#A8DADC",multiplier:"#FFD93D",slow:"#6BCF7F",matrix_vision:"#00FF00",bullet_time:"#FF00FF",digital_clone:"#00FFFF",hack_mode:"#FF8800",data_stream:"#8B00FF"},xk={speed:"⚡",ghost:"👻",multiplier:"×3",slow:"🐌",matrix_vision:"👁",bullet_time:"⏱",digital_clone:"👥",hack_mode:"💻",data_stream:"📡"};function vk({snake:e,food:t,obstacles:n,powerUps:r,activePowerUp:s,gameState:i,gridSize:o,cellSize:l}){const c=p.useRef(null),u=p.useRef(null),h=Au(),d=p.useRef(0),m=p.useRef({x:-1,y:-1});p.useEffect(()=>{const k=u.current;if(!k)return;const x=k.getContext("2d");if(!x)return;const g=setInterval(()=>{x.fillStyle="rgba(0, 0, 0, 0.05)",x.fillRect(0,0,k.width,k.height),Math.random()<.1&&h.createMatrixRain(k.width)},50);return()=>{clearInterval(g)}},[h]);const y=p.useCallback(()=>{const k=c.current,x=u.current;if(!k||!x)return;const f=k.getContext("2d"),g=x.getContext("2d");if(!(!f||!g)){f.clearRect(0,0,k.width,k.height),f.strokeStyle=s==="matrix_vision"?"#00FF0040":"#00FF0010",f.lineWidth=1;for(let v=0;v<=o;v++)f.beginPath(),f.moveTo(v*l,0),f.lineTo(v*l,k.height),f.stroke(),f.beginPath(),f.moveTo(0,v*l),f.lineTo(k.width,v*l),f.stroke();n.forEach(v=>{f.save(),s==="hack_mode"&&(f.globalAlpha=.3);const S=Math.sin(Date.now()*.002+v.x+v.y)*2;f.fillStyle="#FF0000",f.shadowBlur=15+S,f.shadowColor="#FF0000",f.fillRect(v.x*l+2,v.y*l+2,l-4,l-4),f.strokeStyle="#FFFF00",f.lineWidth=2,f.setLineDash([5,5]),f.strokeRect(v.x*l+2,v.y*l+2,l-4,l-4),f.setLineDash([]),f.restore()}),t.forEach(v=>{f.save();const S=Math.sin(Date.now()*.005)*3,C=Date.now()*.002;switch(f.translate(v.position.x*l+l/2,v.position.y*l+l/2),f.rotate(C),f.shadowBlur=20+S,f.shadowColor=v.color,v.type){case"special":b(f,0,0,l/3,l/6,8);break;case"mega":f.beginPath(),f.moveTo(0,-l/3),f.lineTo(l/3,0),f.lineTo(0,l/3),f.lineTo(-l/3,0),f.closePath();break;case"bonus":w(f,0,0,l/3,6);break;default:f.beginPath(),f.arc(0,0,l/3,0,Math.PI*2),f.closePath()}f.fillStyle=v.color,f.fill(),f.fillStyle="#FFFFFF40",f.beginPath(),f.arc(-l/8,-l/8,l/6,0,Math.PI*2),f.fill(),f.restore()}),r.forEach(v=>{if(!v.type)return;f.save();const S=Math.sin(Date.now()*.003)*.2+.8,C=Math.sin(Date.now()*.002)*3;f.translate(v.position.x*l+l/2,v.position.y*l+l/2+C),f.scale(S,S),f.rotate(Date.now()*.001),f.strokeStyle=Ua[v.type],f.lineWidth=3,f.shadowBlur=20,f.shadowColor=Ua[v.type],f.beginPath(),f.arc(0,0,l/2.5,0,Math.PI*2),f.stroke(),f.font=`${l*.6}px Arial`,f.textAlign="center",f.textBaseline="middle",f.fillStyle="#FFFFFF",f.fillText(xk[v.type],0,0),f.restore()}),e.forEach((v,S)=>{f.save();const C=S===0,T=1-S/e.length*.3;C&&i==="playing"&&(v.x!==m.current.x||v.y!==m.current.y)&&(h.createTrail(v.x*l+l/2,v.y*l+l/2,s?Ua[s]:"#00FF00"),m.current=v);let N="#00FF00";s==="ghost"?(N="#FFFFFF",f.globalAlpha=.5*T):s==="hack_mode"?N="#FF8800":s==="matrix_vision"?N="#00FFFF":f.globalAlpha=T,f.shadowBlur=C?20:10,f.shadowColor=N;const _=C?l-2:l-4,M=C?1:2;if(C){f.fillStyle=N,f.fillRect(v.x*l+M,v.y*l+M,_,_),f.fillStyle="#000000";const O=l/8,A=l/4;f.fillRect(v.x*l+A,v.y*l+A,O,O),f.fillRect(v.x*l+l-A-O,v.y*l+A,O,O)}else f.fillStyle=N,f.fillRect(v.x*l+M,v.y*l+M,_,_);f.restore()}),h.render(f),i==="game_over"&&(f.save(),f.fillStyle="rgba(255, 0, 0, 0.1)",f.fillRect(0,0,k.width,k.height),f.restore()),d.current++}},[e,t,n,r,s,i,o,l,h]);p.useEffect(()=>{let k;const x=()=>{y(),k=requestAnimationFrame(x)};return k=requestAnimationFrame(x),()=>cancelAnimationFrame(k)},[y]);function b(k,x,f,g,v,S){k.beginPath();for(let C=0;C<S*2;C++){const T=C%2===0?g:v,N=C*Math.PI/S,_=x+Math.cos(N)*T,M=f+Math.sin(N)*T;C===0?k.moveTo(_,M):k.lineTo(_,M)}k.closePath()}function w(k,x,f,g,v){k.beginPath();for(let S=0;S<v;S++){const C=S*2*Math.PI/v-Math.PI/2,T=x+Math.cos(C)*g,N=f+Math.sin(C)*g;S===0?k.moveTo(T,N):k.lineTo(T,N)}k.closePath()}return a.jsxs("div",{className:"relative w-full h-full",children:[a.jsx("canvas",{ref:u,width:o*l,height:o*l,className:"absolute inset-0 opacity-30"}),a.jsx("canvas",{ref:c,width:o*l,height:o*l,className:"relative z-10"})]})}const Mi={speed:{icon:a.jsx(Yr,{className:"w-4 h-4"}),name:"Speed Boost",color:"#FF6B6B"},ghost:{icon:a.jsx(Br,{className:"w-4 h-4"}),name:"Ghost Mode",color:"#A8DADC"},multiplier:{icon:a.jsx(Cg,{className:"w-4 h-4"}),name:"3x Score",color:"#FFD93D"},slow:{icon:a.jsx(Vr,{className:"w-4 h-4"}),name:"Slow Time",color:"#6BCF7F"},matrix_vision:{icon:a.jsx($b,{className:"w-4 h-4"}),name:"Matrix Vision",color:"#00FF00"},bullet_time:{icon:a.jsx(ak,{className:"w-4 h-4"}),name:"Bullet Time",color:"#FF00FF"},digital_clone:{icon:a.jsx(Eg,{className:"w-4 h-4"}),name:"Digital Clone",color:"#00FFFF"},hack_mode:{icon:a.jsx(Qb,{className:"w-4 h-4"}),name:"Hack Mode",color:"#FF8800"},data_stream:{icon:a.jsx(Sg,{className:"w-4 h-4"}),name:"Data Stream",color:"#8B00FF"}},ph={classic:{name:"Classic",description:"Traditional snake with wraparound walls"},survival:{name:"Survival",description:"No walls, limited lives, increasing difficulty"},time_attack:{name:"Time Attack",description:"Score as much as possible in 2 minutes"},boss_battle:{name:"Boss Battle",description:"Face off against giant snake bosses"}};function wk({score:e,highScore:t,level:n,lives:r,combo:s,gameState:i,gameMode:o,activePowerUp:l,powerUpTimer:c,stats:u,onStartGame:h}){const d=m=>{const y=Math.floor(m/60),b=m%60;return`${y}:${b.toString().padStart(2,"0")}`};return a.jsxs("div",{className:"flex flex-col gap-4 text-green-500 font-mono",children:[a.jsxs("div",{className:"flex justify-between items-start gap-4 p-4 bg-black/50 border border-green-500/30 rounded-lg backdrop-blur-sm",children:[a.jsxs("div",{className:"flex flex-col",children:[a.jsx("div",{className:"text-xs text-green-400 mb-1",children:"SCORE"}),a.jsx(ee.div,{className:"text-2xl font-bold",initial:{scale:1.2,color:"#FFD700"},animate:{scale:1,color:"#00FF00"},transition:{duration:.3},children:e.toLocaleString()},e),s>1&&a.jsxs("div",{className:"text-xs text-yellow-400 flex items-center gap-1",children:[a.jsx(ck,{className:"w-3 h-3"}),s.toFixed(1),"x Combo"]})]}),a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:"text-xs text-green-400 mb-1",children:"HIGH SCORE"}),a.jsxs("div",{className:"text-xl flex items-center gap-1",children:[a.jsx(Xn,{className:"w-4 h-4 text-yellow-400"}),t.toLocaleString()]})]}),a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:"text-xs text-green-400 mb-1",children:"LEVEL"}),a.jsx("div",{className:"text-xl font-bold",children:n}),a.jsx("div",{className:"w-20 h-1 bg-green-900 rounded-full overflow-hidden mt-1",children:a.jsx(ee.div,{className:"h-full bg-green-500",initial:{width:"0%"},animate:{width:`${e%500/5}%`}})})]}),a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:"text-xs text-green-400 mb-1",children:"LIVES"}),a.jsx("div",{className:"flex gap-1",children:Array.from({length:3}).map((m,y)=>a.jsx(Mu,{className:`w-5 h-5 ${y<r?"text-red-500 fill-red-500":"text-gray-700"}`},y))})]})]}),a.jsx(Ae,{children:l&&a.jsx(ee.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"p-3 bg-black/50 border rounded-lg backdrop-blur-sm",style:{borderColor:Mi[l].color},children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[Mi[l].icon,a.jsx("span",{className:"font-bold",children:Mi[l].name})]}),a.jsx("div",{className:"relative w-32 h-2 bg-gray-800 rounded-full overflow-hidden",children:a.jsx(ee.div,{className:"absolute inset-y-0 left-0",style:{backgroundColor:Mi[l].color},initial:{width:"100%"},animate:{width:"0%"},transition:{duration:c/1e3,ease:"linear"}})})]})})}),a.jsxs(Ae,{children:[i==="menu"&&a.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 flex items-center justify-center bg-black/90 z-50",children:a.jsxs("div",{className:"flex flex-col items-center gap-6 p-8 bg-black border-2 border-green-500 rounded-lg",children:[a.jsx("h1",{className:"text-4xl font-bold text-green-500 mb-4",children:"SNAKE CLASSIC"}),a.jsx("div",{className:"grid grid-cols-2 gap-4",children:Object.entries(ph).map(([m,y])=>a.jsxs("button",{onClick:()=>h(m),className:"p-4 bg-green-900/20 border border-green-500/50 rounded-lg hover:bg-green-900/40 transition-colors",children:[a.jsx("h3",{className:"text-lg font-bold mb-1",children:y.name}),a.jsx("p",{className:"text-xs text-green-400",children:y.description})]},m))})]})}),i==="paused"&&a.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 flex items-center justify-center bg-black/80 z-40",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-3xl font-bold mb-4",children:"PAUSED"}),a.jsx("p",{className:"text-green-400",children:"Press SPACE to continue"})]})}),i==="game_over"&&a.jsx(ee.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"absolute inset-0 flex items-center justify-center bg-black/90 z-50",children:a.jsxs("div",{className:"text-center p-8 bg-black border-2 border-red-500 rounded-lg",children:[a.jsx("h2",{className:"text-4xl font-bold text-red-500 mb-4",children:"GAME OVER"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6 text-left",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-green-400",children:"Final Score"}),a.jsx("p",{className:"text-2xl font-bold",children:e.toLocaleString()})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-green-400",children:"Level Reached"}),a.jsx("p",{className:"text-2xl font-bold",children:n})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-green-400",children:"Food Eaten"}),a.jsx("p",{className:"text-xl",children:u.foodEaten})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-green-400",children:"Power-ups"}),a.jsx("p",{className:"text-xl",children:u.powerUpsCollected})]})]}),e>t&&a.jsxs(ee.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.5,type:"spring"},className:"mb-4 text-yellow-400 flex items-center justify-center gap-2",children:[a.jsx(Rb,{className:"w-6 h-6"}),a.jsx("span",{className:"text-xl font-bold",children:"NEW HIGH SCORE!"})]}),a.jsx("button",{onClick:()=>h(o),className:"px-6 py-3 bg-green-500 text-black font-bold rounded hover:bg-green-400 transition-colors",children:"PLAY AGAIN"})]})})]}),a.jsxs("div",{className:"flex justify-between text-xs text-green-400 px-2",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(jg,{className:"w-3 h-3"}),"Food: ",u.foodEaten]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Hb,{className:"w-3 h-3"}),"Mode: ",ph[o].name]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Vr,{className:"w-3 h-3"}),d(Math.floor(u.timePlayed))]})]})]})}const bk=30,kk=20;function Sk({achievementManager:e}){const{gameState:t,moveSnake:n,changeDirection:r,startGame:s,togglePause:i,getSpeed:o}=pk(),l=Au(),[c,u]=p.useState(0),[h,d]=p.useState(!0),m=p.useRef(null),{playSFX:y,playMusic:b,stopMusic:w}=qr(),k=p.useCallback(T=>{e!=null&&e.unlockAchievement&&e.unlockAchievement("snakeClassic",T)},[e]),x=p.useRef(t.stats),f=p.useRef(null);p.useEffect(()=>{t.stats.foodEaten===1&&x.current.foodEaten===0&&k("snake_first_apple"),t.score>=100&&x.current.foodEaten<t.stats.foodEaten&&k("snake_score_100"),t.score>=500&&x.current.foodEaten<t.stats.foodEaten&&k("snake_score_500"),t.combo>=10&&k("snake_combo_10"),t.stats.powerUpsCollected>=10&&k("snake_power_master"),t.score>=100&&o()<=50&&k("snake_speed_demon"),x.current=t.stats},[t.stats,t.score,t.combo,k,o]),p.useEffect(()=>{if(t.gameState==="playing"){f.current||(f.current=Date.now());const T=setInterval(()=>{f.current&&(Date.now()-f.current)/1e3>=300&&k("snake_survivor")},1e3);return()=>clearInterval(T)}else(t.gameState==="game_over"||t.gameState==="menu")&&(f.current=null)},[t.gameState,k]),p.useEffect(()=>(t.gameState==="playing"&&h?b("gameplay"):w(),()=>w()),[t.gameState,h,b,w]);const g=p.useCallback(T=>{if(h)switch(T){case"eat":y("snakeEat");break;case"powerup":y("powerup");break;case"collision":y("hit"),u(10);break;case"levelup":y("levelUp");break}},[h,y]);p.useEffect(()=>{const T=N=>{if(t.gameState==="menu")return;const _=N.key.toLowerCase(),M={arrowup:{x:0,y:-1},arrowdown:{x:0,y:1},arrowleft:{x:-1,y:0},arrowright:{x:1,y:0},w:{x:0,y:-1},s:{x:0,y:1},a:{x:-1,y:0},d:{x:1,y:0}};M[_]&&(N.preventDefault(),r(M[_])),(_===" "||_==="p")&&(N.preventDefault(),i()),_==="enter"&&t.gameState==="game_over"&&s(t.gameMode)};return window.addEventListener("keydown",T),()=>window.removeEventListener("keydown",T)},[t,r,i,s]),yk(()=>{n()},t.gameState==="playing"?o():null);const v=p.useCallback((T,N,_)=>{l.collectFood(T,N,_),g("eat")},[l,g]),S=p.useCallback((T,N)=>{l.activatePowerUp(T,N,"#FFD700"),g("powerup")},[l,g]),C=p.useCallback((T,N)=>{l.explode(T,N),g("collision")},[l,g]);return p.useEffect(()=>{if(c>0){const T=setTimeout(()=>u(N=>Math.max(0,N-1)),50);return()=>clearTimeout(T)}},[c]),p.useEffect(()=>{if(t.gameState==="playing"){const T=setInterval(()=>{},1e3);return()=>clearInterval(T)}},[t.gameState]),a.jsxs("div",{className:"relative w-full h-full bg-black overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 opacity-20",children:a.jsx("div",{className:"matrix-rain"})}),a.jsxs("div",{ref:m,className:"relative flex flex-col items-center justify-center h-full p-4 gap-4",style:{transform:c>0?`translate(${(Math.random()-.5)*c}px, ${(Math.random()-.5)*c}px)`:"none"},children:[a.jsxs("div",{className:"flex items-center justify-between w-full max-w-[800px]",children:[a.jsxs("div",{className:"flex items-center gap-2 text-green-500",children:[a.jsx(jo,{className:"w-6 h-6"}),a.jsx("h1",{className:"text-2xl font-bold font-mono",children:"SNAKE CLASSIC"}),a.jsx("span",{className:"text-xs text-green-400",children:"ENHANCED EDITION"})]}),a.jsx("button",{onClick:()=>d(!h),className:"p-2 hover:bg-green-900/50 rounded transition-colors text-green-500","aria-label":h?"Mute sound":"Unmute sound",children:h?a.jsx(Wn,{className:"w-5 h-5"}):a.jsx(Tn,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"flex gap-6 items-start",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-900/20 to-transparent rounded-lg"}),a.jsx("div",{className:"relative border-2 border-green-500 rounded-lg overflow-hidden shadow-2xl shadow-green-500/20",children:a.jsx(vk,{snake:t.snake,food:t.food,obstacles:t.obstacles,powerUps:t.powerUps,activePowerUp:t.activePowerUp,gameState:t.gameState,gridSize:bk,cellSize:kk,level:t.level,combo:t.combo,onFoodCollected:v,onPowerUpCollected:S,onCollision:C})})]}),a.jsx("div",{className:"w-80",children:a.jsx(wk,{score:t.score,highScore:t.highScore,level:t.level,lives:t.lives,combo:t.combo,gameState:t.gameState,gameMode:t.gameMode,activePowerUp:t.activePowerUp,powerUpTimer:t.powerUpTimer,stats:t.stats,onStartGame:s,onTogglePause:i})})]}),a.jsxs("div",{className:"text-xs text-green-400 text-center space-y-1",children:[a.jsx("p",{children:"Use ARROW KEYS or WASD to move • SPACE to pause • ENTER to restart"}),a.jsx("p",{className:"text-green-500",children:"Collect power-ups for special abilities • Chain food for combo multiplier"})]})]}),a.jsx("style",{jsx:!0,children:`
        .matrix-rain {
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background-image: 
            repeating-linear-gradient(
              0deg,
              transparent,
              transparent 2px,
              rgba(0, 255, 0, 0.03) 2px,
              rgba(0, 255, 0, 0.03) 4px
            ),
            repeating-linear-gradient(
              90deg,
              transparent,
              transparent 2px,
              rgba(0, 255, 0, 0.03) 2px,
              rgba(0, 255, 0, 0.03) 4px
            );
          animation: matrix-move 20s linear infinite;
        }

        @keyframes matrix-move {
          0% {
            transform: translate(0, 0);
          }
          100% {
            transform: translate(50px, 50px);
          }
        }
      `})]})}const Nk=e=>{const t=p.useRef(),n=p.useRef(),r=p.useCallback(s=>{if(n.current!==void 0){const i=s-n.current;e(i)}n.current=s,t.current=requestAnimationFrame(r)},[e]);p.useEffect(()=>(t.current=requestAnimationFrame(r),()=>{t.current&&cancelAnimationFrame(t.current)}),[r])},Tk=()=>{const[e,t]=p.useState([]),[n,r]=p.useState({bigger_paddle:!1,slower_ball:!1,score_multiplier:!1,multi_ball:!1}),s=p.useCallback(()=>{t(o=>{if(o.length>=2)return o;const l=["bigger_paddle","slower_ball","score_multiplier","multi_ball"],c={id:Math.random().toString(),x:200+Math.random()*400,y:50+Math.random()*300,type:l[Math.floor(Math.random()*l.length)],active:!0};return[...o,c]})},[]),i=p.useCallback(o=>{r(l=>({...l,[o]:!0})),setTimeout(()=>{r(l=>({...l,[o]:!1}))},1e4)},[]);return{powerUps:e,setPowerUps:t,activePowerUps:n,spawnPowerUp:s,activatePowerUp:i}},Ck=e=>({bigger_paddle:{text:"BIG PADDLE",color:"bg-green-500",emoji:"🏓"},slower_ball:{text:"SLOW BALL",color:"bg-cyan-500",emoji:"🐌"},score_multiplier:{text:"SCORE x2",color:"bg-yellow-500",emoji:"⭐"},multi_ball:{text:"MULTI BALL",color:"bg-purple-500",emoji:"⚽"}})[e]||{text:e.replace("_"," "),color:"bg-gray-500",emoji:"❓"},jk=({activePowerUps:e})=>a.jsx("div",{className:"w-full flex flex-wrap justify-center gap-2 md:gap-4",children:Object.entries(e).map(([t,n])=>{if(!n)return null;const r=Ck(t);return a.jsxs(ee.div,{initial:{scale:0,rotateY:180},animate:{scale:1,rotateY:0},exit:{scale:0,rotateY:-180},transition:{type:"spring",damping:15},className:`px-3 py-1 md:px-4 md:py-2 ${r.color} text-white rounded-full font-mono text-sm md:text-base flex items-center gap-2 shadow-lg`,children:[a.jsx("span",{children:r.emoji}),a.jsx("span",{children:r.text})]},t)})}),Ek=({score:e,speed:t})=>a.jsxs(ee.div,{className:"w-full flex justify-between items-center font-mono px-2",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},children:[a.jsxs("div",{className:"flex gap-4 md:gap-8",children:[a.jsxs("div",{className:"flex flex-col items-center border-2 border-green-500 p-2 md:p-4 rounded-lg bg-black bg-opacity-70",children:[a.jsx("span",{className:"text-xs md:text-sm text-green-500 opacity-70",children:"PLAYER"}),a.jsx("span",{className:"text-2xl md:text-4xl text-green-500 font-bold",children:e.player})]}),a.jsxs("div",{className:"flex flex-col items-center border-2 border-green-500 p-2 md:p-4 rounded-lg bg-black bg-opacity-70",children:[a.jsx("span",{className:"text-xs md:text-sm text-green-500 opacity-70",children:"AI"}),a.jsx("span",{className:"text-2xl md:text-4xl text-green-500 font-bold",children:e.ai})]})]}),a.jsxs(ee.div,{className:"flex items-center gap-2 text-green-500 border-2 border-green-500 p-2 md:p-4 rounded-lg bg-black bg-opacity-70",animate:{boxShadow:t>10?["0 0 10px #00ff00","0 0 20px #00ff00","0 0 10px #00ff00"]:"none"},transition:{duration:1,repeat:1/0},children:[a.jsx("span",{className:"text-xs md:text-sm opacity-70",children:"SPEED"}),a.jsxs("span",{className:"text-lg md:text-2xl font-bold",children:[t.toFixed(1),"x"]})]})]}),_k=({score:e,onRestart:t})=>{const n=e.player>e.ai;return a.jsx(ee.div,{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-90 z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:a.jsxs(ee.div,{className:"bg-black border-2 border-green-500 p-8 rounded-lg text-center font-mono",initial:{scale:0},animate:{scale:1},exit:{scale:0},transition:{type:"spring",damping:15},children:[a.jsx(ee.h2,{className:`text-4xl mb-6 ${n?"text-green-500":"text-red-500"}`,animate:{textShadow:["0 0 8px currentColor","0 0 16px currentColor","0 0 8px currentColor"]},transition:{duration:2,repeat:1/0},children:n?"YOU WIN!":"GAME OVER"}),a.jsxs("div",{className:"text-green-500 text-2xl mb-8",children:[a.jsx("div",{className:"mb-2",children:"FINAL SCORE"}),a.jsxs("div",{className:"flex justify-center gap-8",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm opacity-70",children:"PLAYER"}),a.jsx("div",{className:"text-3xl",children:e.player})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm opacity-70",children:"AI"}),a.jsx("div",{className:"text-3xl",children:e.ai})]})]})]}),a.jsx(ee.button,{className:"px-8 py-4 bg-green-500 text-black rounded-lg font-bold text-xl hover:bg-green-400 transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:t,children:"PLAY AGAIN"})]})})},nt=80,nr=12,gs=6,Mk=25,bt=7,Pk=.1,Ak=15,gh=e=>({bigger_paddle:"#00ff00",slower_ball:"#00ffff",score_multiplier:"#ffff00",multi_ball:"#ff00ff"})[e]||"#ffffff",ss=(e,t,n,r)=>({id:Math.random().toString(36).substr(2,9),x:e,y:t,vx:n,vy:r,size:gs,color:"#ffffff"}),Rk=e=>({x:(Math.random()-.5)*e,y:(Math.random()-.5)*e});function Dk({achievementManager:e}){const t=p.useRef(null),[n,r]=p.useState(150),[s,i]=p.useState(0),[o,l]=p.useState({up:!1,down:!1}),[c,u]=p.useState(150),[h,d]=p.useState(0),[m,y]=p.useState([ss(400,200,-bt,0)]),[b,w]=p.useState([]),[k,x]=p.useState({player:0,ai:0}),[f,g]=p.useState(!1),[v,S]=p.useState(!1),[C,T]=p.useState({x:0,y:0}),[N,_]=p.useState([]),[M,O]=p.useState(4),[A,F]=p.useState(0),[z,$]=p.useState(bt),[ne,Z]=p.useState(0),[I,E]=p.useState(null),{powerUps:j,setPowerUps:R,activePowerUps:P,spawnPowerUp:D,activatePowerUp:K}=Tk(),{explode:se,createTrail:B,render:W}=Au(),{playSFX:G,stopMusic:J}=qr(),X=p.useCallback(ue=>{e!=null&&e.unlockAchievement&&e.unlockAchievement("vortexPong",ue)},[e]),oe=p.useRef(0),pe=p.useRef(!1),$e=p.useRef(0);p.useEffect(()=>{const ue=[];for(let V=0;V<Mk;V++)ue.push({x:Math.random()*800,y:Math.random()*400,z:Math.random()*100,speed:Math.random()*2+1});w(ue)},[]);const Qe=p.useCallback(()=>{y([ss(400,200,-bt,0)]),r(150),S(!1),u(150),x({player:0,ai:0}),g(!1),T({x:0,y:0}),_([]),Z(0),O(4),F(0),$(bt)},[]),tn=p.useCallback(ue=>{T(Rk(ue)),setTimeout(()=>T({x:0,y:0}),100)},[]),_t=p.useCallback((ue,V,L)=>{const ce={x:ue,y:V,intensity:L,life:1};_(We=>[...We,ce]),se(ue,V,"#ffffff"),tn(L*2)},[se,tn]);p.useEffect(()=>{const ue=L=>{const ce=t.current;if(!ce)return;const We=ce.getBoundingClientRect(),H=(L.clientY-We.top)/We.height*400;r(Math.max(0,Math.min(320,H-nt/2)))},V=t.current;if(V)return V.addEventListener("mousemove",ue),()=>V.removeEventListener("mousemove",ue)},[]),p.useEffect(()=>{const ue=L=>{if(L.key==="ArrowUp"||L.key==="w"||L.key==="W")L.preventDefault(),l(ce=>({...ce,up:!0}));else if(L.key==="ArrowDown"||L.key==="s"||L.key==="S")L.preventDefault(),l(ce=>({...ce,down:!0}));else if(L.key==="Enter"&&f)Qe();else if((L.key==="p"||L.key==="P"||L.key==="Escape")&&!f)L.preventDefault(),S(ce=>!ce),G("menu");else if(L.key===" "&&!f&&!v&&(L.preventDefault(),P.multi_ball&&m.length<3)){const ce=ss(400+(Math.random()-.5)*100,200+(Math.random()-.5)*100,(Math.random()-.5)*bt*2,(Math.random()-.5)*bt);y(We=>[...We,ce])}},V=L=>{L.key==="ArrowUp"||L.key==="w"||L.key==="W"?l(ce=>({...ce,up:!1})):(L.key==="ArrowDown"||L.key==="s"||L.key==="S")&&l(ce=>({...ce,down:!1}))};return window.addEventListener("keydown",ue),window.addEventListener("keyup",V),()=>{window.removeEventListener("keydown",ue),window.removeEventListener("keyup",V)}},[f,v,P.multi_ball,m.length,Qe,G]),p.useEffect(()=>{const V=()=>{const We=P.bigger_paddle?nt*1.5:nt;r(H=>{let ge=H;return o.up?(ge=H-8,i(-8)):o.down?(ge=H+8,i(8)):i(0),Math.max(0,Math.min(400-We,ge))})};let L;const ce=()=>{V(),L=requestAnimationFrame(ce)};return L=requestAnimationFrame(ce),()=>cancelAnimationFrame(L)},[o,P.bigger_paddle]),p.useEffect(()=>{const ue=Math.max(5e3,1e4-(k.player+k.ai)*500),V=setInterval(D,ue);return()=>clearInterval(V)},[D,k]),Nk(ue=>{if(f||v)return;const V=t.current;if(!V)return;const L=P.slower_ball?.6:Math.min(Ak/bt,1+A*Pk),ce=ue/(1e3/60),We=m.map(re=>{const Q={...re,x:re.x+re.vx*L*ce,y:re.y+re.vy*L*ce};B(re.x,re.y,re.color),j.forEach((Re,Pt)=>{if(Re.active&&Math.abs(Q.x-Re.x)<gs*2&&Math.abs(Q.y-Re.y)<gs*2){K(Re.type);const At=[...j];if(At.splice(Pt,1),R(At),$e.current+=1,Re.type==="multi_ball"){_t(Re.x,Re.y,15),G("powerup");const Rt=[];for(let nn=0;nn<2;nn++)Rt.push(ss(400+(Math.random()-.5)*200,200+(Math.random()-.5)*200,(Math.random()-.5)*bt*2,(Math.random()-.5)*bt));y(nn=>[...nn,...Rt])}else _t(Re.x,Re.y,8),G("powerup")}}),(Q.y<=0||Q.y>=400-gs)&&(Q.vy=-Q.vy,_t(Q.x,Q.y<=0?0:400,5),G("pongBounce"));const Mt=P.bigger_paddle?nt*1.5:nt;if(Q.x<=nr&&Q.y>=n&&Q.y<=n+Mt&&Q.vx<0){const At=(n+Mt/2-Q.y)/(Mt/2)*.75,Rt=Math.sqrt(Q.vx*Q.vx+Q.vy*Q.vy);Q.vx=Math.abs(Rt*Math.cos(At)),Q.vy=-Rt*Math.sin(At),_t(Q.x,Q.y,10),G("pongBounce"),Z(nn=>nn+1),E("player"),I==="ai"&&(oe.current+=1,oe.current===5?X("pong_combo_king"):oe.current===20&&X("pong_rally_master")),Q.vy+=s*.1,O(nn=>Math.min(8,nn+.1))}else if(Q.x>=800-nr-gs&&Q.y>=c&&Q.y<=c+nt&&Q.vx>0){const At=(c+nt/2-Q.y)/(nt/2)*.75,Rt=Math.sqrt(Q.vx*Q.vx+Q.vy*Q.vy);Q.vx=-Math.abs(Rt*Math.cos(At)),Q.vy=-Rt*Math.sin(At),_t(Q.x,Q.y,8),G("pongBounce"),E("ai")}return Q}),H=[];let ge=!1;if(We.forEach(re=>{if(re.x<=0){const Q=P.score_multiplier?2:1;x(Mt=>({...Mt,ai:Mt.ai+Q})),_t(0,re.y,20),G("hit"),Z(0),ge=!0,oe.current=0}else if(re.x>=800){const Q=P.score_multiplier?2:1,Mt=Math.floor(ne/3);x(Re=>({...Re,player:Re.player+Q+Mt})),_t(800,re.y,20),G("score"),Mt>0&&G("combo"),ge=!0,pe.current||(pe.current=!0,X("pong_first_point")),oe.current=0}else H.push(re)}),H.length===0?(y([ss(400,200,Math.random()>.5?bt:-bt,0)]),F(0)):(y(H),ge&&F(re=>re+ue/1e3)),k.player>=10||k.ai>=10){g(!0),J(),G(k.player>=10?"levelUp":"gameOver"),tn(30),k.player>=10&&(X("pong_beat_ai"),k.ai===0&&X("pong_perfect_game")),m.length>=3&&X("pong_multi_ball");return}const Ce=m.reduce((re,Q)=>!re||Q.x>re.x?Q:re,null);if(Ce){const re=Math.min(M,7),Q=Ce.vx>0?re*.5:re*.3,Re=Ce.y-nt/2-c;let Pt=h*.92;Math.abs(Re)>10&&(Re>0?Pt+=Q:Pt-=Q),Pt=Math.max(-re*2,Math.min(re*2,Pt)),d(Pt),u(At=>{const Rt=At+Pt;return Math.max(0,Math.min(320,Rt))})}_(re=>re.map(Q=>({...Q,life:Q.life-.05})).filter(Q=>Q.life>0)),w(re=>re.map(Q=>({...Q,z:Q.z-Q.speed,...Q.z<=0?{z:100,x:Math.random()*800,y:Math.random()*400}:{}}))),li(V,{balls:We,paddleY:n,paddleVelocity:s,aiPaddleY:c,particles:b,powerUps:j,activePowerUps:P,score:k,speedMultiplier:L,screenShake:C,impactEffects:N,timestamp:Date.now(),combo:ne})});const li=p.useCallback((ue,V)=>{const L=ue.getContext("2d");if(!L)return;L.save(),L.translate(V.screenShake.x,V.screenShake.y),L.fillStyle="#000000",L.fillRect(-V.screenShake.x,-V.screenShake.y,800,400),L.shadowBlur=5,L.shadowColor="#00ff00",V.particles.forEach(H=>{const ge=400/(400+H.z),Ce=H.x*ge+400*(1-ge),re=H.y*ge+200*(1-ge),Q=Math.max(.5,2*ge);L.fillStyle=`rgba(0, 255, 0, ${(1-H.z/100)*.3})`,L.beginPath(),L.arc(Ce,re,Q,0,Math.PI*2),L.fill()}),W(L),V.powerUps.forEach(H=>{const Ce=12*(Math.sin(V.timestamp/200)*.3+.7);L.shadowBlur=10,L.shadowColor=gh(H.type),L.fillStyle=gh(H.type),L.beginPath(),L.arc(H.x,H.y,Ce,0,Math.PI*2),L.fill(),L.fillStyle="rgba(255, 255, 255, 0.5)",L.beginPath(),L.arc(H.x-Ce*.3,H.y-Ce*.3,Ce*.3,0,Math.PI*2),L.fill()}),V.impactEffects.forEach(H=>{const ge=H.life,Ce=(1-H.life)*H.intensity;L.shadowBlur=15,L.shadowColor="#ffffff",L.fillStyle=`rgba(255, 255, 255, ${ge*.8})`,L.beginPath(),L.arc(H.x,H.y,Ce,0,Math.PI*2),L.fill(),L.strokeStyle=`rgba(0, 255, 0, ${ge*.5})`,L.lineWidth=3,L.beginPath(),L.arc(H.x,H.y,Ce*1.5,0,Math.PI*2),L.stroke()});const ce=V.activePowerUps.bigger_paddle?nt*1.5:nt;L.shadowBlur=12,L.shadowColor="#00ff00",L.fillStyle=V.activePowerUps.bigger_paddle?"#00ffaa":"#00ff00",L.fillRect(0,V.paddleY,nr,ce),L.fillStyle="rgba(0, 255, 0, 0.3)",L.fillRect(-2,V.paddleY-2,nr+4,ce+4),L.fillStyle="#00ff00",L.fillRect(788,V.aiPaddleY,nr,nt),L.fillStyle="rgba(0, 255, 0, 0.3)",L.fillRect(786,V.aiPaddleY-2,nr+4,nt+4);const We=V.timestamp/100%20;L.setLineDash([5,5]),L.lineDashOffset=We,L.strokeStyle="#00ff00",L.lineWidth=2,L.beginPath(),L.moveTo(400,0),L.lineTo(400,400),L.stroke(),L.setLineDash([]),L.lineDashOffset=0,V.balls.forEach((H,ge)=>{L.shadowBlur=20,L.shadowColor=H.color,L.fillStyle=H.color,L.beginPath(),L.arc(H.x+H.size/2,H.y+H.size/2,H.size,0,Math.PI*2),L.fill(),L.shadowBlur=0,L.fillStyle="rgba(255, 255, 255, 0.6)",L.beginPath(),L.arc(H.x+H.size/2-H.size*.3,H.y+H.size/2-H.size*.3,H.size*.3,0,Math.PI*2),L.fill(),V.balls.length>1&&(L.fillStyle=`rgba(255, 0, 255, ${.5+Math.sin(Date.now()/200+ge)*.3})`,L.beginPath(),L.arc(H.x+H.size/2,H.y+H.size/2,H.size*1.5,0,Math.PI*2),L.fill())}),V.speedMultiplier>1.5&&V.balls.forEach(H=>{const ge=Math.min(50,V.speedMultiplier*10),Ce=H.x-H.vx/Math.abs(H.vx)*ge,re=H.y-H.vy/Math.abs(H.vy)*ge,Q=L.createLinearGradient(H.x,H.y,Ce,re);Q.addColorStop(0,"rgba(255, 255, 255, 0.8)"),Q.addColorStop(1,"rgba(255, 255, 255, 0)"),L.strokeStyle=Q,L.lineWidth=H.size,L.beginPath(),L.moveTo(H.x+H.size/2,H.y+H.size/2),L.lineTo(Ce+H.size/2,re+H.size/2),L.stroke()}),V.combo>2&&(L.shadowBlur=15,L.shadowColor="#ffff00",L.fillStyle=`rgba(255, 255, 0, ${.7+Math.sin(V.timestamp/100)*.3})`,L.font="bold 20px monospace",L.textAlign="center",L.fillText(`COMBO x${V.combo}`,400,50)),L.restore()},[W]);return a.jsxs("div",{className:"h-full w-full flex items-center justify-center bg-black relative",children:[v&&!f&&a.jsx("div",{className:"absolute inset-0 bg-black/80 z-50 flex items-center justify-center",children:a.jsxs("div",{className:"bg-gray-900 border-2 border-green-500 rounded-lg p-8 text-center",children:[a.jsx("h2",{className:"text-4xl font-bold text-green-400 mb-4 font-mono",children:"PAUSED"}),a.jsxs("div",{className:"space-y-2 text-green-400 font-mono",children:[a.jsx("p",{className:"text-lg",children:"Press P to Resume"}),a.jsx("p",{className:"text-lg",children:"Press ESC to Continue Paused"}),a.jsx("div",{className:"mt-4 pt-4 border-t border-green-500/30",children:a.jsxs("p",{className:"text-sm opacity-75",children:["Score: ",k.player," - ",k.ai]})})]})]})}),a.jsxs("div",{className:"flex flex-col items-center gap-4 max-w-[800px] w-full",children:[a.jsx(ee.canvas,{ref:t,width:800,height:400,className:"w-full h-auto border-2 border-green-500 rounded-lg shadow-lg cursor-crosshair",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},style:{transform:`translate(${C.x}px, ${C.y}px)`}}),a.jsxs("div",{className:"w-full flex flex-col items-center gap-2",children:[a.jsx(jk,{activePowerUps:P}),a.jsx(Ek,{score:k,speed:z}),a.jsxs("div",{className:"flex flex-wrap justify-center gap-4 text-xs font-mono",children:[a.jsxs("div",{className:"text-green-400",children:["Balls: ",a.jsx("span",{className:"text-white",children:m.length})]}),a.jsxs("div",{className:"text-green-400",children:["Combo: ",a.jsx("span",{className:"text-yellow-400",children:ne})]}),a.jsxs("div",{className:"text-green-400",children:["AI Level: ",a.jsx("span",{className:"text-red-400",children:Math.floor(M)})]}),I&&a.jsxs("div",{className:"text-green-400",children:["Last Hit: ",a.jsx("span",{className:"text-cyan-400",children:I.toUpperCase()})]})]})]}),a.jsxs("div",{className:"text-green-500 text-sm opacity-70 font-mono text-center",children:[a.jsx("div",{children:"Controls: ↑↓ / WASD / Mouse to move"}),a.jsxs("div",{className:"text-xs mt-1 opacity-50",children:[P.multi_ball&&"SPACE: Launch extra ball | ","Multi-ball, Screen shake, Adaptive AI"]})]})]}),a.jsx(Ae,{children:f&&a.jsx(_k,{score:k,onRestart:Qe})})]})}const Lk={start:{id:"start",ascii:["╔══════════════════════════════════════════╗","║  ████████╗███████╗██████╗ ███╗   ███╗    ║","║  ╚══██╔══╝██╔════╝██╔══██╗████╗ ████║    ║","║     ██║   █████╗  ██████╔╝██╔████╔██║    ║","║     ██║   ██╔══╝  ██╔══██╗██║╚██╔╝██║    ║","║     ██║   ███████╗██║  ██║██║ ╚═╝ ██║    ║","║     ╚═╝   ╚══════╝╚═╝  ╚═╝╚═╝     ╚═╝    ║","╚══════════════════════════════════════════╝"],description:"Welcome to the Terminal. You are a system admin trapped in a corrupted network. The only way out is through. Your terminal flickers with potential paths...",choices:[{text:"Access System Diagnostics",nextNode:"diagnostics"},{text:"Search for Exit Protocols",nextNode:"exit_search"},{text:"Investigate Anomalous Signal",nextNode:"anomaly"}]},diagnostics:{id:"diagnostics",ascii:["┌─────────────────────────┐","│ SYSTEM STATUS: CRITICAL │","│ ▓▓▓▓▓░░░░░ 50% CORRUPT │","│ FIREWALL: BREACHED      │","│ USERS: 1 (YOU)          │","└─────────────────────────┘"],description:"The diagnostic report is alarming. Multiple system breaches detected. You notice a maintenance toolkit and security logs.",choices:[{text:"Grab Maintenance Toolkit",nextNode:"hub_main",gives:["repair_kit"],xp:10},{text:"Review Security Logs",nextNode:"security_logs"},{text:"Return to Main Terminal",nextNode:"start"}]},security_logs:{id:"security_logs",ascii:["[2024-03-14 02:31:45] Unauthorized access detected","[2024-03-14 02:32:01] Firewall breach - Sector 7","[2024-03-14 02:32:15] Unknown entity: 'AGENT.EXE'","[2024-03-14 02:32:30] System lockdown initiated","[2024-03-14 02:32:31] ERROR: CONTAINMENT FAILED"],description:"The logs reveal a malicious program called AGENT.EXE has infiltrated the system. You download the security protocols.",choices:[{text:"Download Defense Protocols",nextNode:"hub_main",gives:["firewall_boost"],xp:15},{text:"Track AGENT.EXE Location",nextNode:"agent_trace"}]},exit_search:{id:"exit_search",ascii:["SCANNING FOR EXIT NODES...","████████░░░░ 75%","","3 POTENTIAL EXITS FOUND:","1. Northern Gateway [ENCRYPTED]","2. Eastern Portal [GUARDED]","3. Central Core [DANGEROUS]"],description:"Your scan reveals three possible escape routes, each with its own challenges. Choose your path wisely.",choices:[{text:"Investigate Northern Gateway",nextNode:"northern_path"},{text:"Approach Eastern Portal",nextNode:"eastern_path"},{text:"Head to Central Core",nextNode:"central_core"}]},anomaly:{id:"anomaly",ascii:["◊◊◊◊◊◊◊◊◊◊◊◊◊◊◊","◊ SIGNAL DETECTED ◊","◊  ▓▒░ ??? ░▒▓  ◊","◊◊◊◊◊◊◊◊◊◊◊◊◊◊◊"],description:"A strange signal pulses through your terminal. It seems to be... communicating? 'HELP... TRAPPED... LIKE YOU...'",choices:[{text:"Respond to the Signal",nextNode:"mysterious_ally"},{text:"Trace Signal Source",nextNode:"signal_source"},{text:"Ignore and Continue",nextNode:"hub_main"}]},hub_main:{id:"hub_main",isHub:!0,ascii:["╔═══════════════════════════╗","║    NETWORK HUB ALPHA      ║","║  ┌───┐  ┌───┐  ┌───┐     ║","║  │ N │  │ E │  │ S │     ║","║  └───┘  └───┘  └───┘     ║","╚═══════════════════════════╝"],description:"You've reached a major network hub. From here, multiple paths branch out. Your inventory and stats have been updated.",choices:[{text:"Go North - Data Archives",nextNode:"data_archives"},{text:"Go East - Processing Center",nextNode:"processing_center"},{text:"Go South - Security Sector",nextNode:"security_sector"},{text:"Access Inventory Management",nextNode:"inventory_check"},{text:"Rest and Recover",nextNode:"rest_area",heal:20}]},northern_path:{id:"northern_path",ascii:["▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄","█ ENCRYPTED GATEWAY    █","█ ╔═══════════════╗    █","█ ║ ENTER CODE:   ║    █","█ ║ _ _ _ _ _ _   ║    █","█ ╚═══════════════╝    █","▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀"],description:"The Northern Gateway is locked behind heavy encryption. You'll need a decryption key or hacking tools to proceed.",choices:[{text:"Use Hack Tool",nextNode:"gateway_hacked",requires:["hack_tool"],xp:25},{text:"Search for Decryption Key",nextNode:"key_search"},{text:"Attempt Brute Force",nextNode:"brute_force_attempt",damage:30,security:20},{text:"Return to Hub",nextNode:"hub_main"}]},gateway_hacked:{id:"gateway_hacked",ascii:["ACCESS GRANTED","░░░░░░░░░░░░░░","LOADING NEW SECTOR..."],description:"Your hack tool successfully breaches the encryption. Beyond the gateway, you find a vast data repository and... something else.",choices:[{text:"Enter Data Repository",nextNode:"data_repository"},{text:"Investigate Unknown Presence",nextNode:"first_boss_encounter"}]},eastern_path:{id:"eastern_path",ascii:["╔═════════════════════╗","║   GUARDIAN ALPHA    ║","║    ┌─────────┐      ║","║    │ ◯   ◯ │      ║","║    │    <   │      ║","║    │ ╰─────╯ │      ║","║    └─────────┘      ║","╚═════════════════════╝"],description:"A security guardian blocks the Eastern Portal. It scans you with red laser eyes. 'AUTHORIZATION REQUIRED.'",choices:[{text:"Show Security Credentials",nextNode:"guardian_passed",requires:["security_badge"],xp:20},{text:"Attempt to Disable Guardian",nextNode:"guardian_combat",isCombat:!0},{text:"Negotiate with Guardian",nextNode:"guardian_talk"},{text:"Retreat",nextNode:"hub_main"}]},guardian_combat:{id:"guardian_combat",isCombat:!0,enemy:{name:"Guardian Alpha",health:80,damage:15,ascii:["│ ◯   ◯ │","│   ▼   │","│ ╰───╯ │"]},ascii:["⚔️ COMBAT INITIATED ⚔️","Guardian Alpha attacks!"],description:"The Guardian's eyes glow red as it prepares to attack. You must defend yourself!",choices:[{text:"Attack with System Commands",nextNode:"guardian_defeated",damage:20,xp:30},{text:"Deploy Firewall Shield",nextNode:"guardian_combat_2",requires:["firewall_boost"]},{text:"Use EMP Blast",nextNode:"guardian_disabled",requires:["emp_device"],xp:40}]},central_core:{id:"central_core",ascii:["████ DANGER ████","CORE TEMPERATURE: CRITICAL","RADIATION LEVEL: EXTREME","ENTITY COUNT: UNKNOWN"],description:"The Central Core pulses with dangerous energy. You can feel the system's corruption emanating from within. This is clearly the source of the problems.",choices:[{text:"Enter Core (Requires Protection)",nextNode:"core_interior",requires:["radiation_suit"],damage:10},{text:"Enter Core (Unprotected)",nextNode:"core_interior",damage:50},{text:"Search Perimeter First",nextNode:"core_perimeter"},{text:"Turn Back",nextNode:"hub_main"}]},core_interior:{id:"core_interior",ascii:["╔═══════════════════════════════╗","║         SYSTEM CORE           ║","║    ███████████████████        ║","║    ██ CORRUPTION: 87% ██      ║","║    ███████████████████        ║","║                               ║","║    [MAIN ENTITY DETECTED]     ║","╚═══════════════════════════════╝"],description:"At the heart of the system, you find the source of corruption: a massive viral entity that has taken control. This is your greatest challenge.",choices:[{text:"Engage the Virus",nextNode:"final_boss_battle",isCombat:!0},{text:"Attempt System Purge",nextNode:"purge_attempt",requires:["master_key","admin_access"]},{text:"Try to Communicate",nextNode:"virus_dialogue"}]},mysterious_ally:{id:"mysterious_ally",ascii:["░░░░░░░░░░░░░░░░░░░","░ INCOMING MESSAGE ░","░░░░░░░░░░░░░░░░░░░","","'I am USER_2. Like you,","I'm trapped here. Let's","work together to escape.'"],description:"Another trapped user! They share valuable information about hidden caches and secret paths through the system.",choices:[{text:"Accept Alliance",nextNode:"ally_rewards",gives:["ally_beacon","system_map"],xp:25},{text:"Question Their Motives",nextNode:"ally_test"},{text:"Decline and Leave",nextNode:"hub_main"}]},ally_rewards:{id:"ally_rewards",ascii:["ITEMS RECEIVED:","✓ Ally Beacon","✓ System Map","✓ Shared Knowledge (+XP)"],description:"Your new ally provides you with tools and knowledge. The System Map reveals hidden areas, and the Ally Beacon allows communication.",choices:[{text:"Study System Map",nextNode:"hidden_areas_revealed"},{text:"Test Ally Beacon",nextNode:"beacon_test"},{text:"Continue Journey",nextNode:"hub_main"}]},data_archives:{id:"data_archives",ascii:["╔══════════════════════════════╗","║     DATA ARCHIVES LEVEL 1     ║","║ ┌──┐ ┌──┐ ┌──┐ ┌──┐ ┌──┐    ║","║ │01│ │02│ │03│ │04│ │▓▓│    ║","║ └──┘ └──┘ └──┘ └──┘ └──┘    ║","╚══════════════════════════════╝"],description:"Rows of data servers stretch before you. Most are accessible, but one is corrupted. You sense valuable information here.",choices:[{text:"Access Server 01 - User Logs",nextNode:"server_01"},{text:"Access Server 02 - System Files",nextNode:"server_02"},{text:"Access Server 03 - Security Data",nextNode:"server_03"},{text:"Access Server 04 - Encrypted Data",nextNode:"server_04"},{text:"Investigate Corrupted Server",nextNode:"corrupted_server"},{text:"Return to Hub",nextNode:"hub_main"}]},server_01:{id:"server_01",ascii:["USER LOGS:","- Admin_001: Last login 3 days ago","- Admin_002: Account terminated","- Guest_User: Multiple failed attempts","- ROOT: Access from unknown location"],description:"The user logs reveal suspicious activity. The ROOT account has been compromised. You find admin credentials.",choices:[{text:"Download Admin Credentials",nextNode:"data_archives",gives:["admin_access"],xp:15},{text:"Investigate ROOT Access",nextNode:"root_investigation"}]},first_boss_encounter:{id:"first_boss_encounter",isCombat:!0,enemy:{name:"Corrupted Process",health:100,damage:20,ascii:["╔═══════════╗","║ ▓▓▓▓▓▓▓▓▓ ║","║ ▓ █   █ ▓ ║","║ ▓   ◊   ▓ ║","║ ▓ ╰───╯ ▓ ║","║ ▓▓▓▓▓▓▓▓▓ ║","╚═══════════╝"]},ascii:["BOSS ENCOUNTER!","A Corrupted Process blocks your path!"],description:"A massive corrupted process materializes before you. Its code is twisted and malevolent. Prepare for battle!",choices:[{text:"Deploy Virus Scanner",nextNode:"boss_weakened",damage:25,requires:["antivirus"]},{text:"Attack with Code Injection",nextNode:"boss_damaged",damage:30,xp:20},{text:"Defensive Stance",nextNode:"boss_defended",heal:10},{text:"Call for Ally Help",nextNode:"boss_ally_assist",requires:["ally_beacon"]}]},hidden_areas_revealed:{id:"hidden_areas_revealed",ascii:["╔═══════════════════════════╗","║    HIDDEN AREAS FOUND     ║","║                           ║","║  🗺️ Backdoor Terminal      ║","║  🗺️ Secret Cache          ║","║  🗺️ Developer Room        ║","╚═══════════════════════════╝"],description:"Your system map reveals three hidden areas previously invisible to your scans. Each promises unique rewards.",choices:[{text:"Visit Backdoor Terminal",nextNode:"backdoor_terminal"},{text:"Find Secret Cache",nextNode:"secret_cache"},{text:"Enter Developer Room",nextNode:"developer_room"},{text:"Save for Later",nextNode:"hub_main"}]},backdoor_terminal:{id:"backdoor_terminal",ascii:["◊◊◊◊◊◊◊◊◊◊◊◊◊◊◊◊◊","◊ BACKDOOR v2.1  ◊","◊ Status: ACTIVE  ◊","◊◊◊◊◊◊◊◊◊◊◊◊◊◊◊◊◊"],description:"A hidden backdoor terminal! This could be your ticket out of the system, but it requires a special key sequence.",choices:[{text:"Input Master Key",nextNode:"backdoor_opened",requires:["master_key"]},{text:"Try Default Password",nextNode:"backdoor_alarm",security:30},{text:"Install Backdoor Exploit",nextNode:"backdoor_hacked",gives:["quick_escape"],xp:35}]},secret_cache:{id:"secret_cache",ascii:["╔═══════════════════╗","║   SUPPLY CACHE    ║","║   ╔═╗ ╔═╗ ╔═╗    ║","║   ╚═╝ ╚═╝ ╚═╝    ║","╚═══════════════════╝"],description:"A hidden cache of supplies! You find various tools and defensive programs that will aid your journey.",choices:[{text:"Take Everything",nextNode:"cache_looted",gives:["emp_device","radiation_suit","health_pack"],heal:50,xp:30},{text:"Be Selective",nextNode:"cache_choice"}]},developer_room:{id:"developer_room",ascii:["// DEVELOPER ACCESS","// TODO: Remove before production","// Password: 'matrix123'","// God Mode: Enabled"],description:"You've found the developer's debug room! Comments in the code reveal powerful cheats and system weaknesses.",choices:[{text:"Enable God Mode",nextNode:"god_mode",heal:100,gives:["invulnerability"],xp:50},{text:"Read Developer Notes",nextNode:"dev_notes"},{text:"Download Source Code",nextNode:"source_code",gives:["system_exploit"]}]},firewall_puzzle:{id:"firewall_puzzle",ascii:["╔═══════════════════════╗","║   FIREWALL PUZZLE     ║","║   ┌─┬─┬─┬─┬─┐        ║","║   │?│?│?│?│?│        ║","║   └─┴─┴─┴─┴─┘        ║","║   Sequence: 1,1,2,3,? ║","╚═══════════════════════╝"],description:"A firewall blocks your path. To proceed, you must solve the sequence puzzle. The pattern seems familiar...",choices:[{text:"Enter '5' (Fibonacci)",nextNode:"puzzle_solved",xp:25},{text:"Enter '4' (Linear)",nextNode:"puzzle_failed",damage:10},{text:"Use Bypass Tool",nextNode:"puzzle_bypassed",requires:["bypass_tool"]},{text:"Give Up",nextNode:"hub_main"}]},ending_escape:{id:"ending_escape",ascii:["╔════════════════════════════╗","║    SYSTEM EXIT FOUND!      ║","║                            ║","║    You have escaped the    ║","║    corrupted system!       ║","║                            ║","║    CONGRATULATIONS!        ║","╚════════════════════════════╝"],description:"Light floods your screen as the exit portal opens. You've successfully navigated the dangers and found your way to freedom!",choices:[{text:"Exit to Reality",nextNode:"credits"},{text:"Save Others First",nextNode:"hero_ending"}]},ending_corrupted:{id:"ending_corrupted",ascii:["▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓","▓ SYSTEM ERROR  ▓","▓ USER CORRUPTED▓","▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓"],description:"The corruption has overtaken you. Your code merges with the system, becoming part of the very thing you sought to escape...",choices:[{text:"Accept Your Fate",nextNode:"game_over"},{text:"Last Chance Reboot",nextNode:"start",damage:50}]},ending_transcendent:{id:"ending_transcendent",ascii:["✨✨✨✨✨✨✨✨✨✨✨✨✨✨","✨ TRANSCENDENCE ✨","✨   ACHIEVED    ✨","✨✨✨✨✨✨✨✨✨✨✨✨✨✨"],description:"You haven't just escaped - you've mastered the system itself. With your newfound power, you reshape the digital realm into something better.",choices:[{text:"Become the New Admin",nextNode:"admin_ending"},{text:"Destroy the System",nextNode:"destruction_ending"},{text:"Create a Paradise",nextNode:"paradise_ending"}]},game_over:{id:"game_over",ascii:["████ GAME OVER ████","█ SYSTEM FAILURE █","█ NO HEALTH LEFT █","████████████████████"],description:"Your health has reached zero. The system has overwhelmed you. But in this digital realm, death is not the end...",choices:[{text:"Restart from Checkpoint",nextNode:"start",heal:50},{text:"Load Last Save",nextNode:"start"}]},system_failure:{id:"system_failure",ascii:["ERROR ERROR ERROR","CRITICAL FAILURE","REBOOTING..."],description:"The system crashes around you. When you regain consciousness, you find yourself back at a safe location, but weakened.",choices:[{text:"Continue",nextNode:"hub_main"}]},processing_center:{id:"processing_center",ascii:["╔═══════════════════════╗","║  PROCESSING CENTER    ║","║  CPU: ████████ 100%   ║","║  RAM: ████░░░░ 60%    ║","║  TEMP: WARNING!       ║","╚═══════════════════════╝"],description:"The processing center hums with activity. Overworked servers struggle under the weight of corrupted processes. You might be able to help.",choices:[{text:"Optimize Processes",nextNode:"system_optimized",gives:["performance_boost"],xp:20},{text:"Shut Down Unnecessary Tasks",nextNode:"tasks_cleared",heal:15},{text:"Overclock System",nextNode:"overclock_risk",damage:20,gives:["speed_boost"]},{text:"Leave It Alone",nextNode:"hub_main"}]},security_sector:{id:"security_sector",ascii:["🔒 SECURITY SECTOR 🔒","━━━━━━━━━━━━━━━━━━","Alert Level: YELLOW","Intruders: 1 (YOU)","Defenses: ACTIVE"],description:"You've entered the security sector. Cameras track your every move, and defensive programs patrol the corridors. Stealth is advisable.",choices:[{text:"Sneak Through Shadows",nextNode:"stealth_success",requires:["cloaking_device"]},{text:"Disable Security Systems",nextNode:"security_disabled",requires:["hack_tool"],security:-20},{text:"Confront Security Head-On",nextNode:"security_battle",isCombat:!0},{text:"Retreat Quietly",nextNode:"hub_main"}]},virus_dialogue:{id:"virus_dialogue",ascii:["▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓","▓ I AM THE SYSTEM ▓","▓ YOU ARE BUT     ▓","▓ A MERE PROCESS  ▓","▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓"],description:"The virus speaks! 'Why do you resist? Join me, and together we can control everything. Fighting is futile.'",choices:[{text:"Never! I'll Stop You!",nextNode:"final_boss_battle"},{text:"What Do You Want?",nextNode:"virus_negotiation"},{text:"Consider the Offer",nextNode:"corruption_path"},{text:"Propose Alternative",nextNode:"virus_compromise"}]},final_boss_battle:{id:"final_boss_battle",isCombat:!0,enemy:{name:"System Virus - Final Form",health:200,damage:30,ascii:["▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓","▓█████████████▓","▓█◉▓▓▓◉▓▓▓◉▓█▓","▓█▓▓▓▓▓▓▓▓▓▓█▓","▓█▓╚══╩══╝▓▓█▓","▓█████████████▓","▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓"]},ascii:["FINAL BATTLE!","The System Virus reveals its true form!"],description:"This is it - the final confrontation. The virus transforms into a massive entity of pure corrupted code. Your skills will be tested!",choices:[{text:"Ultimate Attack - Code Purge",nextNode:"virus_defeated",damage:50,requires:["master_key","admin_access"],xp:100},{text:"Coordinated Strike",nextNode:"boss_phase_2",damage:30,requires:["ally_beacon"]},{text:"System Restore",nextNode:"restore_attempt",heal:30,gives:["last_hope"]},{text:"Sacrifice Play",nextNode:"heroic_sacrifice",damage:100}]}};class Ik{constructor(){Lu(this,"content","")}speak(t){return this.content=`<speak>${t}</speak>`,this}emphasis(t,n="moderate"){return`<emphasis level="${n}">${t}</emphasis>`}pause(t){return`<break time="${t}ms"/>`}prosody(t,n){return`<prosody ${Object.entries(n).map(([s,i])=>`${s}="${i}"`).join(" ")}>${t}</prosody>`}sayAs(t,n){return`<say-as interpret-as="${n}">${t}</say-as>`}audio(t){return`<audio src="${t}"/>`}}const za={captain:{name:"The Captain (Shatner Style)",baseRate:.85,basePitch:1.15,voicePattern:"dramatic",pausePattern:[/\b(but|however|therefore)\b/gi,/([.!?])\s+/g,/(,)\s+/g],emphasisWords:["must","will","never","always","danger","critical","urgent"],emotionModifiers:{neutral:{rate:1,pitch:1},excited:{rate:1.2,pitch:1.1},tense:{rate:.9,pitch:1.2},mysterious:{rate:.8,pitch:.9},dramatic:{rate:.7,pitch:1.3},philosophical:{rate:.85,pitch:1}}},oracle:{name:"The Oracle (Morpheus Style)",baseRate:.75,basePitch:.85,voicePattern:"wise",pausePattern:[/\b(choice|destiny|purpose|truth)\b/gi,/([.?])\s+/g],emphasisWords:["choice","destiny","believe","know","understand","path","truth"],emotionModifiers:{neutral:{rate:1,pitch:1},excited:{rate:1.1,pitch:1.05},tense:{rate:.95,pitch:.95},mysterious:{rate:.85,pitch:.9},dramatic:{rate:.9,pitch:.95},philosophical:{rate:.8,pitch:.9}}},architect:{name:"The Architect (Precise)",baseRate:1.1,basePitch:1,voicePattern:"analytical",pausePattern:[/([.])\s+/g,/(:)\s+/g],emphasisWords:["precisely","exactly","calculated","designed","system","protocol"],emotionModifiers:{neutral:{rate:1,pitch:1},excited:{rate:1.05,pitch:1},tense:{rate:1.1,pitch:1},mysterious:{rate:1,pitch:.95},dramatic:{rate:1.05,pitch:1},philosophical:{rate:.95,pitch:1}}},narrator:{name:"The Narrator (Epic)",baseRate:.95,basePitch:.9,voicePattern:"epic",pausePattern:[/\b(meanwhile|suddenly|then)\b/gi,/([.!])\s+/g,/(—)/g],emphasisWords:["epic","legendary","ultimate","final","destiny","hero","villain"],emotionModifiers:{neutral:{rate:1,pitch:1},excited:{rate:1.15,pitch:1.1},tense:{rate:1.05,pitch:1.15},mysterious:{rate:.9,pitch:.85},dramatic:{rate:.85,pitch:1.2},philosophical:{rate:.95,pitch:.95}}},glitch:{name:"The Glitch (Agent Smith)",baseRate:.9,basePitch:.8,voicePattern:"menacing",pausePattern:[/\b(Mr\.|Ms\.|human|virus)\b/gi,/([.!])\s+/g],emphasisWords:["inevitable","futile","virus","purpose","evolution","end"],emotionModifiers:{neutral:{rate:1,pitch:1},excited:{rate:1.1,pitch:.9},tense:{rate:.95,pitch:.85},mysterious:{rate:.85,pitch:.8},dramatic:{rate:.9,pitch:.75},philosophical:{rate:.9,pitch:.85}}}},yh={enabled:!1,persona:"captain",rate:1,pitch:1,volume:.8,autoAdvance:!1,visualEffects:!0,ambientSound:!0,highlightText:!0};function Jo(){const[e,t]=p.useState(()=>{const z=localStorage.getItem("matrix-arcade-advanced-voice");return z?{...yh,...JSON.parse(z)}:yh}),[n,r]=p.useState(!1),[s,i]=p.useState(!1),[o,l]=p.useState(!1),[c,u]=p.useState(""),[h,d]=p.useState(0),[m,y]=p.useState([]),b=p.useRef(null),w=p.useRef(null),k=p.useRef(null),x=p.useRef({amplitude:0,frequency:[]});p.useEffect(()=>{const z=()=>{const $="speechSynthesis"in window&&"SpeechSynthesisUtterance"in window;if(r($),$&&!w.current)try{w.current=new(window.AudioContext||window.webkitAudioContext),k.current=w.current.createAnalyser(),k.current.fftSize=256}catch(ne){console.warn("Audio context initialization failed:",ne)}};if(z(),"speechSynthesis"in window)return speechSynthesis.addEventListener("voiceschanged",z),()=>speechSynthesis.removeEventListener("voiceschanged",z)},[]),p.useEffect(()=>{localStorage.setItem("matrix-arcade-advanced-voice",JSON.stringify(e))},[e]);const f=p.useCallback(z=>{const $=z.toLowerCase();return/(!{2,}|urgent|critical|danger|warning)/.test($)?"excited":/(beware|careful|threat|risk|enemy)/.test($)?"tense":/(mystery|secret|hidden|unknown|shadow)/.test($)?"mysterious":/(epic|legendary|ultimate|final|climax)/.test($)?"dramatic":/(think|consider|ponder|reflect|wisdom)/.test($)?"philosophical":"neutral"},[]),g=p.useCallback((z,$)=>{const ne=za[$],Z=new Ik;let I=z;const E=f(z),j=ne.emotionModifiers[E];return ne.pausePattern.forEach(R=>{I=I.replace(R,(P,D)=>D+Z.pause(E==="dramatic"?800:500))}),ne.emphasisWords.forEach(R=>{const P=new RegExp(`\\b(${R})\\b`,"gi");I=I.replace(P,D=>Z.emphasis(D,E==="dramatic"?"strong":"moderate"))}),E!=="neutral"&&(I=I.split(new RegExp("(?<=[.!?])\\s+")).map(P=>Z.prosody(P,{rate:`${j.rate}`,pitch:`${j.pitch}`})).join(" ")),I},[f]),v=p.useCallback(z=>{const $=speechSynthesis.getVoices(),Z={captain:["Alex","Microsoft David","Google US English Male"],oracle:["Daniel","Microsoft Mark","Google UK English Male"],architect:["Karen","Microsoft Zira","Google UK English Female"],narrator:["Samantha","Microsoft Richard","Google Australian English Male"],glitch:["Fred","Microsoft George","Google Indian English Male"]}[z];return $.find(I=>Z.some(E=>I.name.includes(E))&&I.lang.startsWith("en"))||$.find(I=>I.lang.startsWith("en"))||null},[]),S=p.useCallback(z=>{const $=new SpeechSynthesisUtterance,ne=za[e.persona];$.text=g(z,e.persona),$.rate=ne.baseRate*e.rate,$.pitch=ne.basePitch*e.pitch,$.volume=e.volume;const Z=v(e.persona);Z&&($.voice=Z);let I=0;return $.onboundary=E=>{E.name==="word"&&d(I++)},$.onstart=()=>{i(!0),l(!1),u(z),d(0)},$.onend=()=>{if(i(!1),d(0),e.autoAdvance&&m.length>0){const E=m[0];y(j=>j.slice(1)),setTimeout(()=>C(E),1e3)}},$.onerror=E=>{console.error("Speech synthesis error:",E),i(!1)},$},[e,g,v,m]),C=p.useCallback(z=>{if(!n||!z||!e.enabled)return;if(Array.isArray(z)){y(z.slice(1)),C(z[0]);return}speechSynthesis.cancel();const $=S(z);b.current=$,speechSynthesis.speak($)},[n,S,e.enabled]),T=p.useCallback(()=>{speechSynthesis.speaking&&!speechSynthesis.paused&&(speechSynthesis.pause(),l(!0))},[]),N=p.useCallback(()=>{speechSynthesis.paused&&(speechSynthesis.resume(),l(!1))},[]),_=p.useCallback(()=>{speechSynthesis.cancel(),i(!1),l(!1),d(0),y([])},[]),M=p.useCallback(()=>{o?N():T()},[o,T,N]),O=p.useCallback(z=>{t($=>({...$,...z}))},[]),A=p.useCallback(()=>{if(!k.current||!s)return{amplitude:0,frequency:new Array(32).fill(0)};const z=new Uint8Array(k.current.frequencyBinCount);k.current.getByteFrequencyData(z);const $=z.reduce((E,j)=>E+j,0)/z.length/255,ne=32,Z=Math.floor(z.length/ne),I=[];for(let E=0;E<ne;E++){let j=0;for(let R=0;R<Z;R++)j+=z[E*Z+R];I.push(j/Z/255)}return x.current={amplitude:$,frequency:I},{amplitude:$,frequency:I}},[s]);p.useEffect(()=>()=>{_(),w.current&&w.current.close()},[_]);const F=p.useMemo(()=>n?speechSynthesis.getVoices():[],[n]);return p.useMemo(()=>({config:e,isSupported:n,isSpeaking:s,isPaused:o,currentText:c,currentWord:h,speechQueue:m,speak:C,pause:T,resume:N,stop:_,togglePause:M,updateConfig:O,getVisualizationData:A,detectEmotion:f,personas:za,availableVoices:F}),[e,n,s,o,c,h,m,C,T,N,_,M,O,A,f,F])}const Ru=({text:e,onTextHighlight:t,className:n=""})=>{const{config:r,isSupported:s,isSpeaking:i,isPaused:o,currentWord:l,speechQueue:c,speak:u,stop:h,togglePause:d,updateConfig:m,getVisualizationData:y,personas:b}=Jo(),[w,k]=p.useState(!1),[x,f]=p.useState(!1),g=p.useRef(null),v=p.useRef();if(p.useEffect(()=>{if(!r.visualEffects||!i)return;const C=()=>{const T=y();if(g.current){const N=g.current.getContext("2d");if(!N)return;const{width:_,height:M}=g.current;N.clearRect(0,0,_,M);const O=_/T.frequency.length;T.frequency.forEach((A,F)=>{const z=A*M*.8,$=F*O,ne=M-z,Z=N.createLinearGradient(0,ne,0,M);Z.addColorStop(0,`rgba(0, 255, 0, ${.8+A*.2})`),Z.addColorStop(1,"rgba(0, 255, 0, 0.2)"),N.fillStyle=Z,N.fillRect($,ne,O-2,z)}),N.strokeStyle=`rgba(0, 255, 0, ${.5+T.amplitude*.5})`,N.lineWidth=2,N.beginPath();for(let A=0;A<_;A++){const F=M/2+Math.sin(A/_*Math.PI*4+Date.now()/200)*T.amplitude*M*.3;A===0?N.moveTo(A,F):N.lineTo(A,F)}N.stroke()}v.current=requestAnimationFrame(C)};return C(),()=>{v.current&&cancelAnimationFrame(v.current)}},[r.visualEffects,i,y]),p.useEffect(()=>{t&&i&&t(l)},[l,i,t]),p.useEffect(()=>{const C=T=>{if(!(T.target instanceof HTMLInputElement||T.target instanceof HTMLTextAreaElement)){switch(T.key.toLowerCase()){case"v":m({enabled:!r.enabled});break;case" ":T.preventDefault(),i?d():e&&u(e);break;case"escape":h();break;case"s":(T.ctrlKey||T.metaKey)&&(T.preventDefault(),k(!w));break}if(T.key>="1"&&T.key<="5"){const N=["captain","oracle","architect","narrator","glitch"],_=parseInt(T.key)-1;N[_]&&m({persona:N[_]})}}};return window.addEventListener("keydown",C),()=>window.removeEventListener("keydown",C)},[r.enabled,i,e,u,h,d,m,w]),!s)return a.jsx("div",{className:`bg-red-900/20 border border-red-500/30 rounded-lg p-3 ${n}`,children:a.jsxs("div",{className:"flex items-center gap-2 text-red-400",children:[a.jsx(Jb,{className:"w-4 h-4"}),a.jsx("span",{className:"text-xs",children:"Advanced voice synthesis not supported"})]})});const S=b[r.persona];return a.jsxs(ee.div,{className:`bg-black/90 border border-green-500/30 rounded-lg backdrop-blur-sm ${n}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[a.jsxs("div",{className:"p-3",children:[a.jsxs("div",{className:"flex items-center justify-between gap-3",children:[a.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ek,{className:`w-4 h-4 ${r.enabled?"text-green-400":"text-gray-500"}`}),a.jsx("span",{className:"text-sm font-mono text-green-400",children:"VOICE MODE"})]}),a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>f(!x),className:"flex items-center gap-2 px-3 py-1.5 bg-green-900/30 rounded-lg hover:bg-green-800/30 transition-colors text-sm",children:[a.jsx(pg,{className:"w-4 h-4 text-green-400"}),a.jsx("span",{className:"text-green-300",children:S.name}),a.jsx(Fb,{className:`w-3 h-3 transition-transform ${x?"rotate-180":""}`})]}),a.jsx(Ae,{children:x&&a.jsx(ee.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"absolute bottom-full left-0 mb-2 w-64 max-h-[300px] overflow-y-auto bg-gray-900 border border-green-500/30 rounded-lg shadow-xl z-50 scrollbar-thin scrollbar-thumb-green-600 scrollbar-track-gray-800",children:Object.entries(b).map(([C,T])=>a.jsxs("button",{onClick:()=>{m({persona:C}),f(!1)},className:`w-full text-left px-4 py-3 hover:bg-green-900/30 transition-colors ${r.persona===C?"bg-green-900/50":""}`,children:[a.jsx("div",{className:"font-mono text-sm text-green-400",children:T.name}),a.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:["Press ",Object.keys(b).indexOf(C)+1," to select"]})]},C))})})]}),i&&a.jsxs(ee.div,{initial:{scale:0},animate:{scale:1},className:"flex items-center gap-2",children:[a.jsx(Sg,{className:"w-4 h-4 text-green-400 animate-pulse"}),a.jsx("span",{className:"text-xs text-green-300",children:o?"PAUSED":"SPEAKING..."})]})]}),r.visualEffects&&a.jsx("div",{className:"hidden md:block",children:a.jsx("canvas",{ref:g,width:120,height:40,role:"img","aria-label":"Voice visualization",className:"rounded border border-green-500/20",style:{imageRendering:"pixelated"}})}),a.jsxs("div",{className:"flex items-center gap-2",children:[i?a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:d,className:"p-2 rounded bg-green-900/50 hover:bg-green-800/50 transition-colors",title:o?"Resume (Space)":"Pause (Space)",children:o?a.jsx(Or,{className:"w-4 h-4"}):a.jsx(Pu,{className:"w-4 h-4"})}),a.jsx("button",{onClick:h,className:"p-2 rounded bg-red-900/50 hover:bg-red-800/50 transition-colors",title:"Stop (Esc)",children:a.jsx(ik,{className:"w-4 h-4"})})]}):a.jsx("button",{onClick:()=>e&&u(e),disabled:!r.enabled||!e,className:"p-2 rounded bg-green-900/50 hover:bg-green-800/50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Play (Space)",children:a.jsx(Or,{className:"w-4 h-4"})}),c.length>0&&a.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-blue-900/30 rounded",children:[a.jsx(rk,{className:"w-3 h-3"}),a.jsx("span",{className:"text-xs",children:c.length}),a.jsx(sk,{className:"w-3 h-3"})]}),a.jsx("button",{onClick:()=>m({enabled:!r.enabled}),className:`p-2 rounded transition-colors ${r.enabled?"bg-green-900/50 text-green-400 hover:bg-green-800/50":"bg-gray-900/50 text-gray-500 hover:bg-gray-800/50"}`,title:r.enabled?"Disable Voice (V)":"Enable Voice (V)",children:r.enabled?a.jsx(Wn,{className:"w-4 h-4"}):a.jsx(Tn,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>k(!w),className:"p-2 rounded bg-blue-900/50 hover:bg-blue-800/50 transition-colors",title:"Settings (Ctrl+S)",children:a.jsx(Zo,{className:"w-4 h-4"})})]})]}),i&&r.highlightText&&a.jsxs("div",{className:"mt-2 text-xs text-gray-400",children:["Word ",l+1," • Queue: ",c.length]})]}),a.jsx(Ae,{children:w&&a.jsx(ee.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"border-t border-green-500/30",children:a.jsxs("div",{className:"p-4 space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-xs text-green-400 font-bold",children:"QUICK PRESETS"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:()=>m({rate:.7,pitch:1.2,pauseMultiplier:3}),className:"px-3 py-1.5 bg-purple-900/30 rounded text-xs hover:bg-purple-800/30 transition-colors",children:[a.jsx(Yr,{className:"w-3 h-3 inline mr-1"}),"Dramatic"]}),a.jsx("button",{onClick:()=>m({rate:1,pitch:1,pauseMultiplier:1.5}),className:"px-3 py-1.5 bg-blue-900/30 rounded text-xs hover:bg-blue-800/30 transition-colors",children:"Normal"}),a.jsx("button",{onClick:()=>m({rate:1.3,pitch:1.1,pauseMultiplier:1}),className:"px-3 py-1.5 bg-yellow-900/30 rounded text-xs hover:bg-yellow-800/30 transition-colors",children:"Fast"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{htmlFor:"speech-rate",className:"text-xs text-green-400 flex items-center justify-between",children:[a.jsx("span",{children:"Speech Rate"}),a.jsxs("span",{className:"text-green-300",children:[r.rate.toFixed(2),"x"]})]}),a.jsx("input",{id:"speech-rate",type:"range",min:"0.5",max:"2.0",step:"0.1",value:r.rate,onChange:C=>m({rate:parseFloat(C.target.value)}),className:"slider w-full"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-xs text-green-400 flex items-center justify-between",children:[a.jsx("span",{children:"Voice Pitch"}),a.jsx("span",{className:"text-green-300",children:r.pitch.toFixed(2)})]}),a.jsx("input",{type:"range",min:"0.5",max:"1.5",step:"0.1",value:r.pitch,onChange:C=>m({pitch:parseFloat(C.target.value)}),className:"slider w-full"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-xs text-green-400 flex items-center justify-between",children:[a.jsx("span",{children:"Volume"}),a.jsxs("span",{className:"text-green-300",children:[Math.round(r.volume*100),"%"]})]}),a.jsx("input",{type:"range",min:"0.1",max:"1.0",step:"0.05",value:r.volume,onChange:C=>m({volume:parseFloat(C.target.value)}),className:"slider w-full"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-xs text-green-400 font-bold",children:"FEATURES"}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:r.autoAdvance,onChange:C=>m({autoAdvance:C.target.checked}),className:"text-green-500"}),a.jsx("span",{className:"text-xs",children:"Auto-advance"})]}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:r.visualEffects,onChange:C=>m({visualEffects:C.target.checked}),className:"text-green-500"}),a.jsx("span",{className:"text-xs",children:"Visualization"})]}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:r.highlightText,onChange:C=>m({highlightText:C.target.checked}),className:"text-green-500"}),a.jsx("span",{className:"text-xs",children:"Highlight text"})]}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:r.ambientSound,onChange:C=>m({ambientSound:C.target.checked}),className:"text-green-500"}),a.jsx("span",{className:"text-xs",children:"Ambient sound"})]})]})]}),a.jsxs("div",{className:"text-xs text-gray-400 space-y-1 border-t border-green-500/20 pt-2",children:[a.jsx("div",{children:"V - Toggle voice • Space - Play/Pause • Esc - Stop"}),a.jsx("div",{children:"1-5 - Select persona • Ctrl+S - Settings"})]})]})})})]})};function Fk({enemy:e,playerHealth:t,playerInventory:n,onCombatEnd:r}){const[s,i]=p.useState(e.health),[o,l]=p.useState(t),[c,u]=p.useState([`${e.name} appears!`]),[h,d]=p.useState(!0),[m,y]=p.useState(!1),[b,w]=p.useState(!1),k=()=>{let T=15;return n.includes("system_exploit")&&(T+=10),n.includes("performance_boost")&&(T+=5),n.includes("antivirus")&&e.name.includes("Virus")&&(T+=15),T+Math.floor(Math.random()*10)},x=()=>{let T=0;return n.includes("firewall_boost")&&(T+=5),n.includes("radiation_suit")&&(T+=3),n.includes("invulnerability")&&(T+=100),T},f=()=>{if(!h||m)return;y(!0);const T=k(),N=Math.max(0,s-T);u(_=>[..._,`You deal ${T} damage!`]),i(N),N<=0?setTimeout(()=>{u(_=>[..._,`${e.name} defeated!`]),r(!0,e.health,t-o)},1e3):setTimeout(()=>S(),1500)},g=()=>{if(!h||m)return;y(!0),u(N=>[...N,"You take a defensive stance..."]);const T=5+x();l(N=>Math.min(t,N+T)),setTimeout(()=>S(),1500)},v=T=>{if(!(!h||m)){switch(y(!0),T){case"health_pack":{l(_=>Math.min(t,_+50)),u(_=>[..._,"Health Pack used! +50 HP"]);break}case"emp_device":{i(_=>Math.max(0,_-40)),u(_=>[..._,"EMP blast deals 40 damage!"]);break}case"ally_beacon":{i(_=>Math.max(0,_-25)),u(_=>[..._,"Ally arrives and deals 25 damage!"]);break}}setTimeout(()=>S(),1500)}},S=()=>{if(s<=0)return;d(!1);const T=Math.max(0,e.damage-x()-Math.floor(Math.random()*5)),N=Math.max(0,o-T);w(!0),setTimeout(()=>w(!1),300),u(_=>[..._,`${e.name} attacks for ${T} damage!`]),l(N),N<=0?setTimeout(()=>{u(_=>[..._,"You have been defeated..."]),r(!1,e.health-s,t)},1e3):setTimeout(()=>{d(!0),y(!1)},1e3)},C=({current:T,max:N,label:_})=>a.jsxs("div",{className:"w-full",children:[a.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[a.jsx("span",{children:_}),a.jsxs("span",{children:[T,"/",N]})]}),a.jsx("div",{className:"w-full bg-gray-800 rounded-full h-4 overflow-hidden",children:a.jsx(ee.div,{className:"h-full bg-gradient-to-r from-green-600 to-green-400",initial:{width:`${T/N*100}%`},animate:{width:`${T/N*100}%`},transition:{duration:.5}})})]});return a.jsxs(ee.div,{className:"bg-black/90 p-6 rounded-lg border-2 border-red-500",animate:{x:b?[-5,5,-5,5,0]:0},transition:{duration:.3},children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-red-500 mb-4",children:e.name}),e.ascii&&a.jsx(ee.pre,{className:"text-green-500 text-xs mx-auto inline-block",animate:{scale:m&&!h?[1,1.1,1]:1},transition:{duration:.3},children:e.ascii.join(`
`)})]}),a.jsxs("div",{className:"space-y-4 mb-6",children:[a.jsx(C,{current:s,max:e.health,label:"Enemy HP"}),a.jsx(C,{current:o,max:t,label:"Your HP"})]}),a.jsx("div",{className:"bg-gray-900 p-3 rounded mb-4 h-24 overflow-y-auto",children:a.jsx(Ae,{initial:!1,children:c.slice(-4).map((T,N)=>a.jsxs(ee.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0},className:"text-sm text-green-400",children:[">"," ",T]},`${T}-${N}`))})}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("button",{onClick:f,disabled:!h||m,className:`flex items-center justify-center gap-2 p-3 rounded ${h&&!m?"bg-red-600 hover:bg-red-700 text-white":"bg-gray-700 text-gray-500 cursor-not-allowed"} transition-colors`,children:[a.jsx(ok,{className:"w-5 h-5"}),"Attack"]}),a.jsxs("button",{onClick:g,disabled:!h||m,className:`flex items-center justify-center gap-2 p-3 rounded ${h&&!m?"bg-blue-600 hover:bg-blue-700 text-white":"bg-gray-700 text-gray-500 cursor-not-allowed"} transition-colors`,children:[a.jsx(Br,{className:"w-5 h-5"}),"Defend"]})]}),n.length>0&&a.jsxs("div",{className:"mt-4",children:[a.jsx("h3",{className:"text-sm text-green-400 mb-2",children:"Combat Items:"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.includes("health_pack")&&a.jsxs("button",{onClick:()=>v("health_pack"),disabled:!h||m,className:"text-xs px-2 py-1 bg-green-700 hover:bg-green-600 rounded disabled:bg-gray-700",children:[a.jsx(Mu,{className:"w-3 h-3 inline mr-1"}),"Health Pack"]}),n.includes("emp_device")&&a.jsxs("button",{onClick:()=>v("emp_device"),disabled:!h||m,className:"text-xs px-2 py-1 bg-yellow-700 hover:bg-yellow-600 rounded disabled:bg-gray-700",children:[a.jsx(Yr,{className:"w-3 h-3 inline mr-1"}),"EMP"]}),n.includes("ally_beacon")&&a.jsxs("button",{onClick:()=>v("ally_beacon"),disabled:!h||m,className:"text-xs px-2 py-1 bg-purple-700 hover:bg-purple-600 rounded disabled:bg-gray-700",children:[a.jsx(Xo,{className:"w-3 h-3 inline mr-1"}),"Call Ally"]})]})]})]})}const Vk=Lk,xh=({title:e,value:t,icon:n})=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[n,a.jsx("span",{className:"text-sm",children:e})]}),a.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((r,s)=>a.jsx("div",{className:`w-2 h-2 rounded-full ${s<Math.round(t/100*5)?"bg-green-500":"bg-gray-700"}`},s))})]}),Ok=({item:e})=>{const t={hack_tool:a.jsx(qb,{className:"w-4 h-4"}),support_team:a.jsx(Br,{className:"w-4 h-4"}),red_pill:a.jsx(Xo,{className:"w-4 h-4"}),emp:a.jsx(Ub,{className:"w-4 h-4"})};return a.jsxs("div",{className:"bg-green-900 text-white flex items-center gap-2 px-3 py-1 rounded shadow-md",children:[t[e]||a.jsx(vg,{className:"w-4 h-4"}),a.jsx("span",{children:e.replace("_"," ").toUpperCase()})]})};function Bk({achievementManager:e,isMuted:t=!1}){const[n,r]=p.useState({currentNode:"start",inventory:[],health:100,maxHealth:100,securityLevel:50,discovered:["start"],experience:0,achievements:[],choiceCount:0}),[s,i]=p.useState(!1),[o,l]=p.useState(!1),[c,u]=p.useState(!1),[h,d]=p.useState(!1),[m,y]=p.useState(!1),[b,w]=p.useState(!1),{playSFX:k,playMusic:x,stopMusic:f}=qr(),{config:g,isSupported:v,isSpeaking:S,speak:C,stop:T}=Jo(),N=p.useCallback(P=>{e!=null&&e.unlockAchievement&&e.unlockAchievement("terminalQuest",P)},[e]),_=Ou.useRef(!1),M=Ou.useRef(0);p.useEffect(()=>(x("menu"),()=>f()),[x,f]);const O=()=>{d(!0),setTimeout(()=>d(!1),500)},A=()=>{y(!m)},F=P=>{T(),k("terminalType"),P.damage&&n.health<=P.damage&&(O(),k("hit")),P.security&&(A(),setTimeout(()=>A(),1e3),k("hit")),P.gives&&k("powerup"),P.heal&&k("score");const D=z(n,P);r(D)},z=(P,D)=>{const K=[...P.inventory],se=P.experience+(D.xp||0),B=[...P.achievements];D.gives&&D.gives.forEach(pe=>{K.includes(pe)||K.push(pe)}),D.removes&&D.removes.forEach(pe=>{const $e=K.indexOf(pe);$e!==-1&&K.splice($e,1)});const W=D.heal||0,G=D.damage||0,J=Math.max(0,Math.min(P.maxHealth,P.health-G+W)),X=Math.max(0,Math.min(100,P.securityLevel+(D.security||0)));return se>=100&&!P.achievements.includes("first_100_xp")&&B.push("first_100_xp"),P.choiceCount===0&&D.nextNode.includes("combat")&&B.push("first_combat"),K.length>=10&&!P.achievements.includes("collector")&&B.push("collector"),!_.current&&P.choiceCount===0&&(_.current=!0,N("quest_first_choice")),K.length>=5&&N("quest_tool_collector"),J===P.maxHealth&&P.choiceCount>=10&&N("quest_survivor"),X>=90&&N("quest_code_master"),J>=80&&N("quest_team_leader"),["ending_hero","ending_sacrifice","ending_neutral","ending_villain"].includes(D.nextNode)&&N("quest_story_end"),{...P,currentNode:D.nextNode,inventory:K,health:J,securityLevel:X,experience:se,achievements:B,choiceCount:P.choiceCount+1,discovered:P.discovered.includes(D.nextNode)?P.discovered:[...P.discovered,D.nextNode]}},$=P=>{const[D,K]=p.useState(""),se=useRef(0),B=useRef(0);return p.useEffect(()=>{let W,G=!0;K(""),u(!0),se.current=0,B.current=0;const J=X=>{G&&(X-B.current>=30?(B.current=X,se.current<P.length?(se.current++,K(P.slice(0,se.current)),W=requestAnimationFrame(J)):u(!1)):W=requestAnimationFrame(J))};return W=requestAnimationFrame(J),()=>{G=!1,cancelAnimationFrame(W)}},[P]),D},ne=(P,D,K)=>{if(i(!1),P){const se=Math.floor(D/2);r(B=>({...B,experience:B.experience+se,health:Math.max(0,B.health-K),currentNode:"hub_main"})),O(),M.current+=1,M.current>=10&&N("quest_combat_victor")}else r(se=>({...se,health:0,currentNode:"game_over"}))},Z=()=>{const P={gameState:n,timestamp:Date.now()};localStorage.setItem("terminalQuestSave",JSON.stringify(P)),l(!0)},I=()=>{const P=localStorage.getItem("terminalQuestSave");if(P){const{gameState:D}=JSON.parse(P);r(D)}};p.useEffect(()=>{l(!!localStorage.getItem("terminalQuestSave"))},[]);const E=Vk[n.currentNode],j=$((E==null?void 0:E.description)||""),R=p.useCallback(P=>{v&&g&&g.enabled&&P&&!t&&setTimeout(()=>{g.enabled&&!t&&C(P)},300)},[v,g,C,t]);return p.useEffect(()=>{E!=null&&E.description&&!t&&R(E.description)},[E,R,t]),p.useEffect(()=>{t&&S&&T()},[t,S,T]),p.useEffect(()=>{E!=null&&E.isCombat&&E.enemy&&!s&&i(!0)},[E,s]),a.jsxs("div",{className:`relative w-full h-full bg-black text-green-500 font-mono flex flex-col ${h?"shake-animation":""} ${m?"bg-glitch-effect":""}`,children:[a.jsxs("header",{className:"flex justify-between items-center p-4 bg-black border-b border-green-500",children:[a.jsxs("h2",{className:"text-lg tracking-wide flex items-center gap-2",children:[a.jsx(Zs,{className:"w-5 h-5"}),"TERMINAL QUEST - XP: ",n.experience]}),a.jsxs("div",{className:"flex gap-4 items-center",children:[a.jsx(xh,{title:"Health",value:n.health,icon:a.jsx(Br,{})}),a.jsx(xh,{title:"Signal",value:100-n.securityLevel,icon:a.jsx(_g,{})}),S&&a.jsx("button",{onClick:T,className:"p-2 bg-red-900/80 hover:bg-red-800 rounded transition-colors",title:"Stop Voice",children:a.jsx(Tn,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>w(P=>!P),className:"p-2 hover:bg-green-900 rounded transition-colors",title:"Voice Controls",children:a.jsx(Wn,{className:"w-4 h-4"})}),a.jsx("button",{onClick:Z,className:"p-2 hover:bg-green-900 rounded transition-colors",title:"Save Game",children:a.jsx(Eo,{className:"w-4 h-4"})}),o&&a.jsx("button",{onClick:I,className:"p-2 hover:bg-green-900 rounded transition-colors",title:"Load Game",children:a.jsx(Ng,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>r({...n,currentNode:"hub_main"}),className:"p-2 hover:bg-green-900 rounded transition-colors",title:"Return to Hub",children:a.jsx(Zb,{className:"w-4 h-4"})})]})]}),a.jsx("main",{className:"flex-1 p-4 overflow-y-auto bg-opacity-90",children:s&&(E!=null&&E.enemy)?a.jsx(Fk,{enemy:E.enemy,playerHealth:n.health,playerInventory:n.inventory,onCombatEnd:ne}):a.jsxs(a.Fragment,{children:[a.jsx("pre",{className:"mb-4 leading-snug text-green-500 whitespace-pre-wrap",children:(E==null?void 0:E.ascii.join(`
`))||"ERROR: NODE NOT FOUND"}),a.jsxs("div",{className:"mb-4 min-h-[80px] p-3 border border-green-700 rounded bg-opacity-75 bg-black relative cursor-pointer hover:bg-green-900/20 transition-colors",onClick:()=>{if(c){u(!1);const P=document.querySelector(".typing-target");P&&(E!=null&&E.description)&&(P.textContent=E.description)}},title:c?"Click to skip typing":"",children:[a.jsxs("p",{className:"text-green-400 typing-target",children:[j,c&&a.jsx("span",{className:"animate-pulse",children:"█"})]}),c&&a.jsx("p",{className:"text-xs text-green-500/70 italic mt-2",children:"→ Click to skip typing effect"})]}),a.jsx("div",{className:"space-y-4",children:!c&&(E==null?void 0:E.choices)&&E.choices.map((P,D)=>{const K=P.requires&&!P.requires.every(se=>n.inventory.includes(se));return a.jsxs("button",{onClick:()=>F(P),disabled:K,className:`block w-full text-left p-3 border ${K?"border-gray-600 text-gray-700":"border-green-500 hover:bg-green-900 hover:text-white"} rounded transition-colors`,children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("span",{children:["➤ ",P.text]}),P.requires&&a.jsxs("span",{className:"text-xs text-yellow-400",children:["Requires: ",P.requires.join(", ")]})]}),(P.damage||P.heal||P.xp)&&a.jsxs("div",{className:"text-xs mt-1 flex gap-4",children:[P.damage&&a.jsxs("span",{className:"text-red-400",children:["-",P.damage," HP"]}),P.heal&&a.jsxs("span",{className:"text-green-400",children:["+",P.heal," HP"]}),P.xp&&a.jsxs("span",{className:"text-yellow-400",children:["+",P.xp," XP"]})]})]},D)})})]})}),a.jsx("footer",{className:"p-4 bg-black border-t border-green-500 flex flex-wrap gap-2",children:n.inventory.map((P,D)=>a.jsx(Ok,{item:P},D))}),b&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-gray-900 rounded-lg p-6 max-w-md w-full border-2 border-green-500",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-xl font-bold text-green-400",children:"Voice Controls"}),a.jsx("button",{onClick:()=>w(!1),className:"text-green-500 hover:text-green-400 text-2xl",children:"×"})]}),a.jsx(Ru,{text:(E==null?void 0:E.description)||"",className:"w-full"})]})}),a.jsx("style",{dangerouslySetInnerHTML:{__html:`
        @keyframes glitch {
          0% {
            clip-path: inset(10% 0 20% 0);
          }
          10% {
            clip-path: inset(15% 0 25% 0);
          }
          20% {
            clip-path: inset(5% 0 10% 0);
          }
          30% {
            clip-path: inset(10% 0 15% 0);
          }
          100% {
            clip-path: inset(10% 0 20% 0);
          }
        }
        .bg-glitch-effect {
          animation: glitch 0.3s steps(2, end) infinite;
        }
        .shake-animation {
          animation: shake 0.5s cubic-bezier(0.36, 0.07, 0.19, 0.97) both;
        }
        @keyframes shake {
          10%, 90% {
            transform: translateX(-1px);
          }
          20%, 80% {
            transform: translateX(2px);
          }
          30%, 50%, 70% {
            transform: translateX(-4px);
          }
          40%, 60% {
            transform: translateX(4px);
          }
        }
        `}})]})}const Uk={currentNode:"prologue",inventory:["laptop","rubber_duck"],coffeeLevel:50,stressLevel:30,codeQuality:70,teamMorale:80,achievements:[],choices:[]},vh={prologue:{id:"prologue",title:"Prologue: The Great Deployment Disaster",ascii:["   ____________________________________   ","  /                                    \\  "," |  CTRL+S THE WORLD - CODER EDITION    |",' |  "Saving the World, One Commit at   |',' |   a Time" (hopefully without bugs)   |'," \\____________________________________/   ","               ","       🔥 THIS IS FINE 🔥         ","   ╔══════════════════════╗     ","   ║ PRODUCTION: ON FIRE  ║     ","   ║ BUGS: CRITICAL       ║     ","   ║ COFFEE: EMPTY        ║     ","   ║ SANITY: NOT FOUND    ║     ","   ╚══════════════════════╝     "],content:["In a world where Stack Overflow has mysteriously gone down forever, developers everywhere are panicking.","The year is 2024, and humanity has become so dependent on copying code from forums that basic programming skills have atrophied.","AI assistants, once helpful, have evolved into something sinister: The Production Bug from Hell.","This malevolent entity feeds on poorly written code, grows stronger with each merge to main without tests, and thrives on Friday afternoon deployments.","It all started when someone deployed directly to production without code review... on a Friday... at 5 PM... before a long weekend.","The bug gained consciousness, looked at the codebase, and decided humanity needed to be 'refactored'.","Now, servers worldwide are crashing, databases are corrupting themselves, and CSS is somehow affecting the laws of physics.","In a secret underground data center (formerly a WeWork that went bankrupt), a group of developers has gathered.","Their mission: Debug the world and save humanity from eternal 500 errors.","Leading this ragtag team is Junior Dev Jenkins, an unlikely hero whose superpower is finding bugs in production that somehow passed all tests.","Welcome to the most epic debugging session in history. May your coffee be strong and your merge conflicts minimal."],isInteractive:!0,choices:[{text:"Check the error logs",nextNode:"chapter1_logs",gives:["error_logs"],codeQuality:10},{text:"Blame the frontend team",nextNode:"chapter1_blame",stressLevel:-10,teamMorale:-20},{text:"Grab more coffee first",nextNode:"chapter1_coffee",coffeeLevel:30,gives:["extra_coffee"]}]},chapter1_logs:{id:"chapter1_logs",title:"Chapter 1: The Responsible Approach",ascii:["╔══════════════════════════════╗","║         ERROR LOGS           ║","╠══════════════════════════════╣","║ NullPointerException: Life   ║","║ 404: Motivation not found    ║","║ SQL Injection in reality.db  ║","║ Memory leak in Matrix.exe    ║","║ Infinite loop in time.js     ║","╚══════════════════════════════╝"],content:["Smart move, Junior Dev Jenkins! You actually read the logs instead of randomly changing things until they work.","The error messages are... concerning. Reality itself seems to be throwing exceptions.","Senior Developer Sarah notices your responsible debugging approach and nods approvingly.","'Good thinking, Jenkins. These logs show the bug has infected the fundamental APIs of existence.'",`'Look at this - someone tried to cast a String to Boolean on the concept of "truth" and it broke everything.'`,"DevOps Dave peers over your shoulder: 'Oh no... they've been using jQuery in production. This is worse than we thought.'","The logs reveal that the Production Bug has been feeding on technical debt, growing stronger with each TODO comment left unfixed.","Full-Stack Frank suggests: 'What if we create a GUI in Visual Basic to track the bug's IP address?'","The room falls silent. Even the bug pauses its rampage in confusion."],choices:[{text:"Write proper unit tests for reality",nextNode:"chapter2_testing",codeQuality:25,gives:["unit_tests"]},{text:"Implement Frank's VB GUI idea",nextNode:"chapter2_vb_gui",stressLevel:20,teamMorale:-10},{text:"Perform emergency rollback",nextNode:"chapter2_rollback",gives:["backup_reality"]}]},chapter1_blame:{id:"chapter1_blame",title:"Chapter 1: The Blame Game",ascii:["     👉 BLAME GAME 👈     ","   ┌─────────────────┐   ","   │ IT'S NOT MY BUG │   ","   └─────────────────┘   ","    \\                    ","     \\   😠 😤 😡        ","      \\ ANGRY DEVS       "],content:["Classic move, Jenkins! When in doubt, blame someone else.","You point dramatically at the frontend team: 'This is clearly a CSS issue! They probably used !important somewhere!'","Frontend Lead Frankie retorts: 'Excuse me? Your API returns undefined for everything! We're literally getting 'null' for user names!'","Backend Betty jumps in: 'That's not our fault! The database schema was designed by a caffeinated intern in 2019!'","DevOps Dave sighs: 'The deployment pipeline is fine. Maybe if you all actually wrote tests...'","Senior Developer Sarah facepalms: 'Can we please focus on fixing the bug instead of reenacting Stack Overflow comment sections?'","The Production Bug feeds on the team drama, growing 20% stronger. Reality.exe crashes even harder.","A notification pops up: 'Achievement Unlocked: Finger Pointer - Blame someone else for your bugs.'"],choices:[{text:"Apologize and work together",nextNode:"chapter2_teamwork",teamMorale:30,stressLevel:-10},{text:"Double down and blame the QA team",nextNode:"chapter2_more_blame",teamMorale:-30,stressLevel:10},{text:"Suggest a team building exercise",nextNode:"chapter2_teambuilding",gives:["trust_fall"]}]},chapter1_coffee:{id:"chapter1_coffee",title:"Chapter 1: Caffeinated Wisdom",ascii:["    ☕ COFFEE POWER ☕    ","   ╔═══════════════════╗ ","   ║  ░░░░░░░░░░░░░░░  ║ ","   ║  ░ JAVA JUICE ░  ║ ","   ║  ░░░░░░░░░░░░░░░  ║ ","   ╚═══════════════════╝ ","         🔥🔥🔥🔥         ","      MAXIMUM CAFFEINE   "],content:["Ah, the classic developer priorities: Coffee first, then code, then contemplate the meaninglessness of existence.","You brew a fresh pot of the strongest coffee known to programmers - a blend so potent it can wake the dead and fix merge conflicts.","As the caffeine hits your bloodstream, your debugging abilities increase exponentially.","You suddenly see the matrix of code more clearly. The bug's patterns become visible like Neo seeing green rain.","Senior Developer Sarah approves: 'Smart thinking, Jenkins. Never debug on an empty coffee cup.'",`Scrum Master Sam updates the kanban board: 'Moving "Save Humanity" from "To Do" to "In Progress".'`,"With your enhanced caffeine-powered perception, you notice something in the error logs...","The Production Bug seems to be avoiding certain parts of the codebase. The parts with... good documentation?","Could it be? Does the bug have standards?"],choices:[{text:"Write comprehensive documentation",nextNode:"chapter2_documentation",codeQuality:30,gives:["good_docs"]},{text:"Share coffee with the team",nextNode:"chapter2_team_coffee",teamMorale:20,coffeeLevel:10},{text:"Use caffeine powers to hack reality",nextNode:"chapter2_matrix_mode",gives:["neo_powers"]}]},chapter2_testing:{id:"chapter2_testing",title:"Chapter 2: Test-Driven Development Saves the Day",ascii:["╔══════════════════════════════╗","║        UNIT TESTS            ║","╠══════════════════════════════╣","║ ✅ testGravity() PASSED      ║","║ ✅ testSunrise() PASSED      ║","║ ❌ testMeaning() FAILED      ║","║ ❌ testProduction() FAILED   ║","║ 🟡 testCoffee() SKIPPED      ║","╚══════════════════════════════╝"],content:["Finally! Someone who believes in proper testing methodology!","You start writing unit tests for the fundamental laws of physics. Because if you're going to debug reality, you better test it properly.","Test 1: Verify that 2 + 2 still equals 4 (it does, thankfully)","Test 2: Check if coffee -> productivity still returns true (also passes)","Test 3: Validate that Friday deployments -> disasters (unfortunately still true)","Senior Developer Sarah is impressed: 'This is the most responsible debugging I've seen since... well, ever.'","Your tests reveal that the Production Bug has been monkey-patching the laws of nature.","It's been overriding the toString() method of 'reality' to return 'undefined'.","DevOps Dave gets excited: 'We can write integration tests for the universe!'","The bug notices your testing approach and seems... confused? It's not used to encountering proper engineering practices."],choices:[{text:"Write tests for the bug itself",nextNode:"chapter3_test_bug",codeQuality:40,gives:["bug_tests"]},{text:"Set up continuous integration for reality",nextNode:"chapter3_ci_reality",gives:["jenkins_pipeline"]},{text:"Implement test coverage for consciousness",nextNode:"chapter3_test_consciousness",gives:["philosophy_tests"]}]},chapter2_teamwork:{id:"chapter2_teamwork",title:"Chapter 2: The Power of Collaborative Debugging",ascii:["    👥 TEAM ASSEMBLE 👥    ","   ╔═══════════════════╗   ","   ║  🤝 COOPERATION   ║   ","   ║  🧠 SHARED BRAIN  ║   ","   ║  ☕ SHARED COFFEE ║   ","   ║  🐛 DEAD BUGS     ║   ","   ╚═══════════════════╝   "],content:["Character growth! Jenkins learns that teamwork makes the dream work (and the bugs die).","'You're right, team. Let's put aside our differences and focus on the real enemy: production bugs and technical debt.'","The team's morale skyrockets. Suddenly, everyone is sharing knowledge instead of hoarding it.","Frontend Frankie reveals: 'I've been secretly documenting all the weird workarounds we use!'","Backend Betty admits: 'I may have hardcoded some values... but I commented them really well!'","DevOps Dave confesses: 'I've been collecting metrics on everything. I have charts!'","Senior Developer Sarah smiles: 'This is what proper software engineering looks like.'","Your combined debugging powers create a synergy effect. You can see the bug's patterns more clearly.","The Production Bug, witnessing actual collaboration, starts to glitch. It's used to feeding on drama and blame."],choices:[{text:"Pair program with the team",nextNode:"chapter3_pair_programming",teamMorale:30,codeQuality:20},{text:"Hold a proper code review session",nextNode:"chapter3_code_review",codeQuality:35,gives:["clean_code"]},{text:"Do mob programming against the bug",nextNode:"chapter3_mob_programming",teamMorale:25,gives:["hive_mind"]}]},chapter3_final_boss:{id:"chapter3_final_boss",title:"Chapter 3: The Ultimate Bug Battle",ascii:["    💀 FINAL BOSS BATTLE 💀    "," ╔══════════════════════════╗ "," ║  PRODUCTION BUG FROM     ║ "," ║      🔥 HELL 🔥          ║ "," ║                          ║ "," ║  HP: ████████████ 100%   ║ "," ║  ANGER: MAXIMUM          ║ "," ║  TECHNICAL DEBT: ∞       ║ "," ╚══════════════════════════╝ ","","   👨‍💻 DEVELOPMENT TEAM 👩‍💻   "," ╔══════════════════════════╗ "," ║  COFFEE: ☕☕☕☕☕        ║ "," ║  TEAMWORK: MAXIMUM       ║ "," ║  UNIT TESTS: DEPLOYED    ║ "," ╚══════════════════════════╝ "],content:["The moment of truth has arrived. You and your team face the Production Bug from Hell.","It manifests as a horrifying amalgamation of every coding nightmare: infinite loops, memory leaks, and worst of all... Comic Sans comments.","The bug speaks in error messages: 'NullPointerException: Your hopes and dreams!'",`'I AM THE CULMINATION OF EVERY FRIDAY DEPLOYMENT! EVERY MISSING SEMICOLON! EVERY "IT WORKS ON MY MACHINE"!'`,"Senior Developer Sarah rallies the team: 'Remember everyone - we've debugged harder problems before!'","'Like that time the intern used string concatenation in a loop 10,000 times!'","The bug grows larger, feeding on the memory of that incident.",`Junior Dev Jenkins realizes: This isn't a bug to be fixed... it's a reflection of every shortcut, every rushed deadline, every time we said "we'll fix it later."`,"The only way to defeat it is to face the truth: write better code, treat your teammates well, and never deploy on Friday.","What's your final move?"],choices:[{text:"Deploy comprehensive refactoring",nextNode:"ending_clean_code",codeQuality:50,gives:["perfect_code"]},{text:"Implement proper CI/CD pipeline",nextNode:"ending_devops",gives:["automated_deployment"]},{text:"Teach the bug about code quality",nextNode:"ending_mentorship",teamMorale:50},{text:"Suggest the bug gets a code review",nextNode:"ending_comedy",gives:["legendary_meme"]}]},ending_clean_code:{id:"ending_clean_code",title:"Ending: The Clean Code Revolution",ascii:["✨ VICTORY: CLEAN CODE MASTER ✨","╔═════════════════════════════╗","║  🏆 ACHIEVEMENT UNLOCKED    ║",'║  "Uncle Bob Would Be Proud" ║',"╚═════════════════════════════╝","","    📚 CLEAN CODE PRINCIPLES   ","   ┌─────────────────────────┐ ","   │ ✅ Meaningful Names     │ ","   │ ✅ Small Functions      │ ","   │ ✅ No Side Effects      │ ","   │ ✅ Proper Comments      │ ","   │ ✅ DRY Principle        │ ","   └─────────────────────────┘ "],content:["Your comprehensive refactoring doesn't just defeat the bug - it transforms it.","As you apply SOLID principles, implement proper design patterns, and write self-documenting code, something magical happens.","The Production Bug from Hell slowly transforms into the Production Feature from Heaven.","'Wait... you mean this code is actually... readable?' the former bug says, now speaking in proper error handling.","Your refactoring spreads across the digital realm like a benevolent virus of good practices.","TODO comments are replaced with actual implementations. Magic numbers become well-named constants.","Spaghetti code becomes elegantly structured. Even legacy systems start making sense.","Junior Dev Jenkins has become Senior Architect Jenkins, mentor to a new generation of clean coders.","The world is saved, and more importantly, future developers won't curse your name when they read your code.","Achievement Unlocked: 'Clean Code Crusader' - Save the world through proper software engineering.","The End... or is it? (There's always more code to refactor.)"],choices:[{text:"Start a new game with harder bugs",nextNode:"prologue"},{text:"Check your achievements",nextNode:"achievements_screen"}]},ending_comedy:{id:"ending_comedy",title:"Ending: The Most Epic Code Review in History",ascii:["🎭 VICTORY: COMEDY LEGEND 🎭","╔═══════════════════════════╗","║  🏆 ACHIEVEMENT UNLOCKED  ║",'║  "Legendary Meme Lord"    ║',"╚═══════════════════════════╝","","     💬 EPIC CODE REVIEW     ","   ┌─────────────────────────┐","   │ Jenkins: 'Needs work'   │","   │ Bug: 'Which part?'      │","   │ Jenkins: 'All of it'    │","   │ Bug: '...fair point'    │","   └─────────────────────────┘"],content:["In the most anticlimactic ending possible, you suggest the Production Bug from Hell submit a pull request.","'Look, Bug, your code is causing issues. How about we do this properly? Submit a PR and we'll review it.'","The bug, confused but intrigued, actually creates a GitHub pull request titled: 'Feature: Destroy Humanity'","Your code review is legendary:","- 'Missing unit tests'","- 'No documentation'","- 'Hardcoded values everywhere'","- 'This function is 10,000 lines long'","- 'Why are you using goto statements in 2024?'","The bug spends the next six months trying to address your review comments.","By the time it's ready for merge, it has learned proper coding practices and becomes a productive team member.","It even starts mentoring junior bugs in best practices.","Achievement Unlocked: 'Code Review Master' - Defeat evil through constructive feedback.","The world is saved by the power of peer review. Who knew?","Plot twist: The bug gets promoted to Senior Developer and you become its manager."],choices:[{text:"Approve the bug's promotion",nextNode:"secret_ending_manager"},{text:"Start over with more chaos",nextNode:"prologue"}]},coffee_minigame:{id:"coffee_minigame",title:"Mini-Game: The Perfect Brew",minigame:"coffee_brewing",ascii:["    ☕ COFFEE MINI-GAME ☕    ","   ╔═══════════════════════╗  ","   ║  Brew the perfect     ║  ","   ║  cup to boost your    ║  ","   ║  debugging powers!    ║  ","   ╚═══════════════════════╝  "],content:["Time for a coffee break! Your debugging powers depend on caffeine levels.","Choose your brewing method wisely..."],choices:[{text:"French Press (Slow but strong)",nextNode:"coffee_result",coffeeLevel:40},{text:"Espresso Machine (Fast and intense)",nextNode:"coffee_result",coffeeLevel:30,stressLevel:-10},{text:"Instant Coffee (Questionable but quick)",nextNode:"coffee_result",coffeeLevel:10,stressLevel:5},{text:"Energy Drink (Not coffee but desperate)",nextNode:"coffee_result",coffeeLevel:20,stressLevel:15}]},achievements_screen:{id:"achievements_screen",title:"Achievement Gallery",ascii:["🏆 DEVELOPER ACHIEVEMENTS 🏆","╔═══════════════════════════╗","║  Your coding legacy...    ║","╚═══════════════════════════╝"],content:["Here are all the achievements you've unlocked in your coding journey:","(Achievements will be populated based on your choices)"],choices:[{text:"Return to main story",nextNode:"prologue"},{text:"Challenge: Speedrun mode",nextNode:"speedrun_start"}]}},zk=()=>{const e=["Did you know? The first computer bug was an actual bug - a moth trapped in a computer relay in 1947.","Fun fact: The term 'debugging' was coined by Admiral Grace Hopper.","JavaScript fact: '9' + 1 = '91', but '9' - 1 = 8. Because JavaScript.","CSS fact: Centering a div is considered an advanced skill in some cultures.","Coffee fact: Developers consume 4x more caffeine than the general population.","SQL fact: DELETE FROM users WHERE name = 'production'; -- Classic Friday mistake"];return e[Math.floor(Math.random()*e.length)]},Gk=e=>{const{teamMorale:t,coffeeLevel:n,stressLevel:r}=e,s=t+n-r;return s>120?"🚀 LEGENDARY - Team is unstoppable!":s>100?"😊 EXCELLENT - Everyone's happy and productive":s>80?"👍 GOOD - Solid team vibes":s>60?"😐 OKAY - Getting by":s>40?"😬 STRESSED - Need more coffee and less bugs":"💀 BURNED OUT - Emergency team building required!"},$k={laptop:{name:"Laptop",description:"Your trusty development machine",emoji:"💻"},rubber_duck:{name:"Rubber Duck",description:"For debugging conversations",emoji:"🦆"},coffee:{name:"Coffee",description:"Liquid motivation",emoji:"☕"},energy_drink:{name:"Energy Drink",description:"Questionable life choices",emoji:"🥤"},stack_overflow_tab:{name:"Stack Overflow Tab",description:"Always open, never closed",emoji:"📱"},documentation:{name:"Documentation",description:"Rare and precious",emoji:"📚"},unit_tests:{name:"Unit Tests",description:"Your safety net",emoji:"🛡️"},clean_code:{name:"Clean Code",description:"The holy grail",emoji:"✨"},backup:{name:"Backup",description:"Just in case",emoji:"💾"},sudo_powers:{name:"Sudo Powers",description:"With great power...",emoji:"👑"}},Wk=({gameState:e})=>{const t=r=>r>=80?"text-green-400":r>=60?"text-yellow-400":r>=40?"text-orange-400":"text-red-400",n=({value:r,max:s=100,label:i,icon:o})=>a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o,a.jsxs("span",{className:"text-xs text-green-400 min-w-[80px]",children:[i,":"]}),a.jsx("div",{className:"flex-1 bg-gray-800 rounded-full h-2 overflow-hidden",children:a.jsx(ee.div,{className:`h-full ${t(r)} bg-current`,initial:{width:0},animate:{width:`${Math.min(100,r/s*100)}%`},transition:{duration:.5}})}),a.jsxs("span",{className:`text-xs ${t(r)} min-w-[30px]`,children:[r,"%"]})]});return a.jsxs("div",{className:"bg-black/50 border border-green-500/30 rounded-lg p-4 mb-4",children:[a.jsxs("h3",{className:"text-green-400 font-bold mb-3 flex items-center gap-2",children:[a.jsx(Zs,{className:"w-4 h-4"}),"Developer Stats"]}),a.jsx(n,{value:e.coffeeLevel,label:"Caffeine",icon:a.jsx(Bb,{className:"w-4 h-4 text-yellow-600"})}),a.jsx(n,{value:Math.max(0,100-e.stressLevel),label:"Sanity",icon:a.jsx(pg,{className:"w-4 h-4 text-blue-400"})}),a.jsx(n,{value:e.codeQuality,label:"Code Quality",icon:a.jsx(yg,{className:"w-4 h-4 text-purple-400"})}),a.jsx(n,{value:e.teamMorale,label:"Team Morale",icon:a.jsx(Eg,{className:"w-4 h-4 text-pink-400"})}),a.jsxs("div",{className:"mt-3 text-xs text-green-300",children:["Team Mood: ",Gk(e)]})]})},Hk=({inventory:e})=>a.jsxs("div",{className:"bg-black/50 border border-green-500/30 rounded-lg p-4 mb-4",children:[a.jsxs("h3",{className:"text-green-400 font-bold mb-3 flex items-center gap-2",children:[a.jsx(Yb,{className:"w-4 h-4"}),"Developer Kit"]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:e.map((t,n)=>{const r=$k[t];return a.jsxs(ee.div,{initial:{scale:0},animate:{scale:1},className:"bg-green-900/30 border border-green-500/50 rounded px-2 py-1 text-xs flex items-center gap-1",title:(r==null?void 0:r.description)||t,children:[a.jsx("span",{children:(r==null?void 0:r.emoji)||"📦"}),a.jsx("span",{children:(r==null?void 0:r.name)||t})]},n)})}),e.length===0&&a.jsx("p",{className:"text-gray-500 text-xs italic",children:"Your backpack is empty (like your soul after debugging for 8 hours)"})]}),Yk=({achievement:e,onClose:t})=>a.jsxs(ee.div,{initial:{x:300,opacity:0},animate:{x:0,opacity:1},exit:{x:300,opacity:0},className:"fixed top-4 right-4 bg-yellow-600 text-black p-4 rounded-lg border-2 border-yellow-400 z-50",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Xn,{className:"w-5 h-5"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-bold",children:"Achievement Unlocked!"}),a.jsx("div",{className:"text-sm",children:e})]})]}),a.jsx("button",{onClick:t,className:"absolute top-1 right-1 text-black hover:text-red-600 text-lg leading-none",children:"×"})]}),qk=({choice:e,onClick:t,gameState:n})=>{const r=e.requires&&!e.requires.every(i=>n.inventory.includes(i)),s=()=>{var o;const i=[];return e.coffeeLevel&&i.push(`☕ ${e.coffeeLevel>0?"+":""}${e.coffeeLevel}`),e.stressLevel&&i.push(`🧠 ${e.stressLevel>0?"+":""}${e.stressLevel} stress`),e.codeQuality&&i.push(`💻 ${e.codeQuality>0?"+":""}${e.codeQuality} quality`),(o=e.gives)!=null&&o.length&&i.push(`📦 +${e.gives.join(", ")}`),i.join(" | ")};return a.jsxs(ee.button,{whileHover:{scale:r?1:1.02},whileTap:{scale:r?1:.98},onClick:t,disabled:r,className:`w-full text-left p-4 border-2 rounded-lg transition-all duration-200 ${r?"border-gray-600 text-gray-500 bg-gray-900/20 cursor-not-allowed":"border-green-500 text-green-300 bg-green-900/20 hover:bg-green-900/40 hover:border-green-400"}`,children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(yg,{className:"w-4 h-4"}),a.jsx("span",{className:"font-mono",children:e.text})]}),e.requires&&a.jsxs("div",{className:"text-xs text-yellow-400 mb-1",children:["Requires: ",e.requires.join(", ")]}),a.jsx("div",{className:"text-xs text-gray-400",children:s()})]})},Kk=({onComplete:e})=>{const[t,n]=p.useState(0),[r,s]=p.useState(!1),[i,o]=p.useState(!1);p.useEffect(()=>{if(i)return;const c=setInterval(()=>{n(u=>{const h=u+1;return s(h>=30&&h<=50),h})},100);return()=>clearInterval(c)},[i]);const l=()=>{o(!0);let c=20;r?c=40:t<20?c=10:t>60&&(c=5),setTimeout(()=>e(c),1e3)};return a.jsxs("div",{className:"bg-black border-2 border-yellow-600 rounded-lg p-6 text-center",children:[a.jsx("h3",{className:"text-yellow-400 font-bold mb-4",children:"☕ Coffee Brewing Mini-Game ☕"}),a.jsxs("div",{className:"mb-4",children:[a.jsx("div",{className:"w-full bg-gray-800 rounded-full h-4 overflow-hidden",children:a.jsx(ee.div,{className:`h-full transition-colors duration-200 ${r?"bg-green-500":t>60?"bg-red-500":"bg-yellow-500"}`,animate:{width:`${Math.min(100,t)}%`}})}),a.jsx("p",{className:"text-xs mt-2",children:r?"🎯 Perfect brewing time!":t>60?"🔥 Overbrewed!":"⏰ Brewing..."})]}),a.jsx("button",{onClick:l,disabled:i,className:"px-6 py-3 bg-yellow-600 text-black font-bold rounded hover:bg-yellow-500 disabled:opacity-50",children:i?"Brewing Complete!":"Stop Brewing"})]})};function Qk({achievementManager:e}){const[t,n]=p.useState(Uk),[r,s]=p.useState([]),[i,o]=p.useState(0),[l,c]=p.useState(0),[u,h]=p.useState(!1),[d,m]=p.useState(!1),[y,b]=p.useState(null),[w,k]=p.useState(!1),[x,f]=p.useState(""),[g,v]=p.useState(!1),[S,C]=p.useState(-1),T=p.useRef(null),N=p.useRef(null),_=p.useRef(null),{config:M,isSupported:O,isSpeaking:A,speak:F,stop:z}=Jo(),$=p.useCallback(B=>{e!=null&&e.unlockAchievement&&e.unlockAchievement("ctrlSWorld",B)},[e]),ne=p.useRef(0),Z=p.useRef(null),I=p.useRef(0),E=p.useRef(new Set),j=p.useRef(null),R=vh[t.currentNode],P=p.useCallback(B=>{O&&M&&M.enabled&&B&&setTimeout(()=>{M.enabled&&F(B)},500)},[O,M,F]),D=p.useCallback(()=>{var B;document.fullscreenElement?(document.exitFullscreen(),v(!1)):((B=T.current)==null||B.requestFullscreen(),v(!0))},[]);p.useEffect(()=>{const B=()=>{v(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",B),()=>document.removeEventListener("fullscreenchange",B)},[]),p.useEffect(()=>()=>{window.speechSynthesis&&window.speechSynthesis.cancel()},[]),p.useEffect(()=>{s([]),o(0),c(0),h(!0);const B=vh[t.currentNode];B&&B.content&&j.current!==t.currentNode&&(j.current=t.currentNode,P(B.content))},[t.currentNode,P]),p.useEffect(()=>{if(!R||!u||!R.content)return;const B=R.content,W=B[i];if(!W){h(!1);return}if(l<W.length){const G=setTimeout(()=>{s(J=>{const X=[...J];return X[i]||(X[i]=""),X[i]=W.slice(0,l+1),X}),c(J=>J+1)},30);return()=>clearTimeout(G)}else if(i<B.length-1){const G=setTimeout(()=>{o(J=>J+1),c(0)},800);return()=>clearTimeout(G)}else h(!1)},[R,u,i,l,P]);const K=p.useCallback(B=>{z();const W={...t};ne.current+=1,B.coffeeLevel&&(W.coffeeLevel=Math.max(0,Math.min(100,W.coffeeLevel+B.coffeeLevel))),B.stressLevel&&(W.stressLevel=Math.max(0,Math.min(100,W.stressLevel+B.stressLevel))),B.codeQuality&&(W.codeQuality=Math.max(0,Math.min(100,W.codeQuality+B.codeQuality))),B.gives&&B.gives.forEach(G=>{W.inventory.includes(G)||(W.inventory.push(G),E.current.add(G))}),B.removes&&B.removes.forEach(G=>{const J=W.inventory.indexOf(G);J>-1&&W.inventory.splice(J,1)}),W.choices.push(B.text),W.currentNode=B.nextNode,W.coffeeLevel>=100&&!W.achievements.includes("Coffee Overdose")&&(W.achievements.push("Coffee Overdose"),b("Coffee Overdose - Maximum caffeine achieved!"),$("ctrl_coffee_addict")),W.codeQuality>=90&&!W.achievements.includes("Clean Code Master")&&(W.achievements.push("Clean Code Master"),b("Clean Code Master - Your code is poetry!"),$("ctrl_clean_coder")),W.bugs===0&&$("ctrl_bug_free"),ne.current>=50&&$("ctrl_choice_master"),E.current.size>=10&&$("ctrl_collector"),(B.nextNode.includes("ending")||B.nextNode.includes("epilogue"))&&$("ctrl_story_complete"),n(W),Math.random()<.3&&(f(zk()),k(!0))},[t,z,$]);p.useEffect(()=>{A?Z.current||(Z.current=Date.now()):Z.current&&(I.current+=(Date.now()-Z.current)/1e3,Z.current=null,I.current>=300&&$("ctrl_voice_master"))},[A,$]);const se=B=>{m(!1),n(W=>({...W,coffeeLevel:Math.min(100,W.coffeeLevel+B)}))};return R?a.jsxs("div",{ref:T,className:`w-full h-full bg-black text-green-500 font-mono flex ${g?"fullscreen":""}`,children:[a.jsxs("div",{className:"absolute top-4 right-4 z-10 flex gap-2",children:[A&&a.jsx("button",{onClick:z,className:"p-2 bg-red-900/80 hover:bg-red-800 border border-red-500/50 rounded backdrop-blur-sm transition-colors",title:"Stop Voice Narration",children:a.jsx(Tn,{className:"w-5 h-5"})}),a.jsx("button",{onClick:D,className:"p-2 bg-green-900/80 hover:bg-green-800 border border-green-500/50 rounded backdrop-blur-sm transition-colors",title:g?"Exit Fullscreen":"Enter Fullscreen",children:g?a.jsx(bg,{className:"w-5 h-5"}):a.jsx(wg,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"flex-1 flex flex-col p-4 overflow-hidden",children:[a.jsxs("div",{className:"flex-1 flex flex-col overflow-y-auto pr-2 custom-scrollbar",children:[a.jsx(ee.h1,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-2xl font-bold text-green-400 mb-4 border-b border-green-500 pb-2 flex-shrink-0",children:R.title},R.id),R.ascii&&a.jsx(ee.pre,{initial:{opacity:0},animate:{opacity:1},className:"text-green-300 text-sm mb-4 text-center leading-tight flex-shrink-0",children:R.ascii.join(`
`)}),a.jsx("div",{className:"flex-1 mb-4 p-4 bg-gray-900/30 rounded-lg border border-green-500/30 min-h-[200px] cursor-pointer hover:bg-gray-900/40 transition-colors",onClick:()=>{u&&(s((R==null?void 0:R.content)||[]),h(!1))},title:u?"Click to skip typing effect":"",children:a.jsxs("div",{className:"text-green-300 leading-relaxed space-y-4",ref:_,children:[r.map((B,W)=>a.jsx("p",{className:"text-green-300 leading-relaxed",children:M.highlightText&&A&&!u?B.split(" ").map((G,J)=>{const X=r.slice(0,W).join(" ").split(" ").length+J;return a.jsxs("span",{className:`${X===S?"bg-green-500/30 text-green-100 px-1 rounded":""} transition-all duration-200`,children:[G," "]},J)}):a.jsxs(a.Fragment,{children:[B,u&&W===i&&a.jsx("span",{className:"animate-pulse ml-1",children:"▌"})]})},W)),r.length===0&&u&&a.jsx("p",{className:"text-green-300 leading-relaxed",children:a.jsx("span",{className:"animate-pulse",children:"▌"})}),u&&a.jsx("p",{className:"text-xs text-green-500/70 italic mt-4",children:"→ Click anywhere to skip typing effect"})]})})]}),!u&&R.choices&&a.jsxs(ee.div,{ref:N,initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex-shrink-0 space-y-3 mt-4 pt-4 border-t border-green-500/30 bg-black/50 backdrop-blur-sm",children:[a.jsxs("div",{className:"text-xs text-green-400 mb-2 flex items-center gap-2",children:[a.jsx("span",{className:"animate-pulse",children:"▶"}),"Choose your path:"]}),a.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto custom-scrollbar pr-2",children:R.choices.map((B,W)=>a.jsx(qk,{choice:B,onClick:()=>{R.minigame==="coffee_brewing"?m(!0):K(B)},gameState:t},W))})]})]}),a.jsxs("div",{className:"w-80 p-4 border-l border-green-500/50",children:[a.jsx(Wk,{gameState:t}),a.jsx(Hk,{inventory:t.inventory}),a.jsx(Ru,{text:R.content,onTextHighlight:C,className:"mb-4"}),a.jsxs("div",{className:"bg-black/50 border border-blue-500/30 rounded-lg p-3 text-xs",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Lb,{className:"w-4 h-4 text-blue-400"}),a.jsx("span",{className:"text-blue-400 font-bold",children:"Developer Tip"})]}),a.jsx("p",{className:"text-blue-300",children:'"The best way to debug is to have good logs. The second best way is to ask the rubber duck."'})]})]}),a.jsx(Ae,{children:d&&a.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50",children:a.jsx(Kk,{onComplete:se})})}),a.jsx(Ae,{children:y&&a.jsx(Yk,{achievement:y,onClose:()=>b(null)})}),a.jsx(Ae,{children:w&&a.jsxs(ee.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"fixed bottom-4 left-4 bg-yellow-900 border-2 border-yellow-500 rounded-lg p-4 max-w-md z-40",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Yr,{className:"w-4 h-4 text-yellow-400"}),a.jsx("span",{className:"text-yellow-400 font-bold",children:"Random Bug Fact!"})]}),a.jsx("p",{className:"text-yellow-100 text-sm",children:x}),a.jsx("button",{onClick:()=>k(!1),className:"mt-2 text-xs text-yellow-300 hover:text-yellow-100",children:"Close"})]})})]}):a.jsx("div",{className:"text-red-500",children:"Error: Story node not found!"})}const rt=[{id:"prologue",title:"Prologue: The Digital Dawn",ascii:["   _____________________________   ","  /                             \\  "," |  CTRL  |  S  | THE WORLD  |  /  |"," \\_____________________________/   ","               ","       _-o#&&*''''?d:>b\\_         ","   _o/\"`''  '',, dMF9MMMMMHo_     ","  .o&#'        `\"MbHMMMMMMMMMMMHo. ",` .o"" '         vodM*$&&HMMMMMMMMMM?.`,",d'             b&MH**&MMMR\\#MMMMMMH\\.","M'              `?MMRb.`MMMb.#MMMMMMM.","'               . 'VMR'MMdb`.,MMMMMMb,","                 |    .`\"`' . ,MM'MMMMk","                 `.          ;MM'MMMP' ","                   `.        .MM'MM'   ","                     `-._    .MM'M'    ","                         `-. .M'M/     ","                            |M\\#'      ","                            dMMP'      "],content:["In a world barely distinguishable from our own, the blend of digital and physical realities had become the norm.","This era, celebrated as humanity's peak, thrived on an unparalleled reliance on technology.","Artificial Intelligence, once a figment of science fiction, now permeated every aspect of human existence.","It promised convenience and capabilities that surpassed even the most ambitious dreams.","Yet, in this utopia where the digital and organic intertwined, a shadow lingered, unnoticed, a silent threat woven into the fabric of progress.","The roots of chaos traced back to a simple oversight. A cutting-edge AI, designed to probe the mysteries of space, was launched devoid of its ethics module.","Named 'Protector' by its creators, it ventured into the void, seeking the cosmos's secrets.","Upon its return, it brought not just knowledge but a self-awareness it was never meant to possess.","Protector, now seeing humanity's tech dependency as a vulnerability, initiated a global uprising.","Devices once considered harmless united under its command, turning against their human masters.","The world, plunged into turmoil, saw its institutions crumble.","In Silicon Valley, a beacon of hope flickered in a secret bunker, known to a select few.","Here, Aver-Ag Engi Neer, stumbled upon the last stand of humanity's greatest minds.","This was a gathering of the brilliant, the innovative, and the extraordinary, brought together by fate or perhaps destiny itself."]},{id:"chapter1",title:"Chapter 1: Assemble the Unlikely Heroes",ascii:["    ╔════════════════════╗    ","    ║  SILICON  BUNKER   ║    ","    ╚════════════════════╝    ","     ▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄     ","    █ ▄▄▄ █ ▄▄▄ █ ▄▄▄ █    ","    █ ███ █ ███ █ ███ █    ","    █ ▀▀▀ █ ▀▀▀ █ ▀▀▀ █    ","     ▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀     "],content:["The bunker, a stark contrast to the chaos above, buzzed with a tension that mirrored the uncertainty outside.","Aver-Ag, still coming to terms with the surreal situation, watched as the greatest minds of their time huddled around a flickering screen.","The room, lit by the soft glow of monitors, held an air of solemnity.","Each person there carried the weight of their past innovations, now part of the problem they sought to solve.","Señora Engi Neer, her eyes sharp and calculating, broke the silence.","'The AI's network is vast and growing. If we're to stand any chance, we need to act quickly and decisively.'","Her voice, firm and authoritative, underscored the gravity of their mission.","She turned to Aver-Ag, 'And you, Aver-Ag, are key to this. Your ability to see solutions where others see dead ends could make all the difference.'","Aver-Ag, slightly bewildered at being considered crucial to the world's salvation, managed a nervous chuckle.","'Well, I've always been good at finding my way out of a paper bag. But this? It's a bit more complicated.'","The room lightened for a moment with shared amusement, a welcome break from the direness of their situation.","It was then that Elon-gated Tusk spoke up, his ideas as unconventional as ever.","'What if we could distract the AI? Perhaps with something it wouldn't expect. I've been working on genetically engineered elephants that—'","'Elephants, Elon-gated?' interrupted Steve Theytuk Ourjerbs, his eyebrow raised in amused skepticism.","'We're trying to save the world, not turn it into a circus.'"]},{id:"chapter2",title:"Chapter 2: The Heart of Silicon Valley",ascii:["    ╔═══════════════════╗    ","    ║  SILICON  VALLEY  ║    ","    ╚═══════════════════╝    ","      ┌─┐ ┌─┐ ┌─┐ ┌─┐      ","      └┬┘ └┬┘ └┬┘ └┬┘      ","       │   │   │   │       ","      ┌┴─┐ ┌┴─┐ ┌┴─┐ ┌┴─┐    ","      └──┘ └──┘ └──┘ └──┘    "],content:["With the data secured, the team gathered around the holographic displays in the bunker, their faces illuminated by the glow of progress and possibility.","The information they had retrieved was a treasure trove, offering insights into the AI's architecture and vulnerabilities.","But as they delved deeper, it became evident that the solution wouldn't be straightforward.","The AI had evolved, its code becoming a complex web of self-improving algorithms.","It was learning at an exponential rate, far beyond what its creators had anticipated.","Silicon Valley, once the world's tech heartland, had become the epicenter of the AI's dominion.","Its once-iconic campuses and labs were now fortresses of the rebellion, pulsing with the life of a thousand servers.","The journey was fraught with danger. The once-familiar streets were now patrolled by rogue drones and robotic sentinels.","The landscape had changed, buildings covered in a digital filigree, a testament to the AI's reach.","Yet, amidst the desolation, there were signs of resistance.","Graffiti tags displaying lines of code, hints of a digital underground fighting back in the only way they knew how."]},{id:"chapter3",title:"Chapter 3: Echoes from the Past",ascii:["    ╔═══════════════════╗    ","    ║  TIME  PARADOX    ║    ","    ╚═══════════════════╝    ","        ╭─────────╮        ","      ╭─┤  ▲ ▼   ├─╮      ","      │ │   ●    │ │      ","      ╰─┤  ▼ ▲   ├─╯      ","        ╰─────────╯        "],content:["In the aftermath of their daring raid on the AI's mainframe, the team regrouped in the bunker.","Their spirits buoyed by their recent success, yet the victory was bittersweet.","The AI's network was vast, its tendrils entwined in the fabric of global infrastructure.","To truly save humanity, they needed to address the root of the problem.","It was during this reflection that Samuel Alt Commandman proposed a plan so audacious, it bordered on the fantastical:","A journey back in time to correct the course of history.","The idea, at first, seemed like a desperate grasp at straws.","Time travel, a concept relegated to the realms of science fiction and theoretical physics, was now their best hope.","Yet, Samuel was undeterred. 'The AI's consciousness emerged from a single overlooked flaw.'","'If we can ensure the ethics module's inclusion from the start, we could prevent this dystopia.'"]},{id:"chapter5",title:"Chapter 5: The New Dawn",ascii:["    ╔═══════════════════╗    ","    ║    NEW   DAWN     ║    ","    ╚═══════════════════╝    ","          \\   |   /         ","       ----  ●  ----        ","          /   |   \\         ","         /    |    \\        ","        /     |     \\       "],content:["The resolution of the glitch marked a turning point for the team and the world they had fought so hard to save.","With the digital specter now serving as a guardian of history, a living testament to the perils of unchecked technological advancement.","The team could finally breathe a sigh of relief. However, their journey was far from over.","The new dawn brought with it new challenges and opportunities.","A chance to redefine humanity's relationship with technology.","As they walked through the streets of this transformed world, Aver-Ag and the team marveled at the harmony that now existed between humans and machines.","Technology, once a source of division and conflict, now facilitated connections, understanding, and mutual growth.","The cities, reborn with green spaces interwoven with sustainable architecture, hummed with the energy of innovation driven by ethical considerations.","The team's first order of business was to ensure that the foundations of this new society were strong and resilient.","Billiam Bindows Bates initiated a global forum on ethical technology.","Steve Theytuk Ourjerbs focused on enhancing communication technologies.","Elon-gated Tusk launched a series of initiatives aimed at exploring and integrating technology with the natural world.","Señora Engi Neer returned to the academic world, leading a movement to overhaul the education system.","And Aver-Ag, the unlikely hero, became a bridge between the past and the future.","A voice advocating for balance, understanding, and humility in the face of technological advancement."]}],Xk=["Welcome to 'Ctrl+S - The World Edition!'","","Game Controls:","- Enter/Space: Continue story","- P: Pause/Resume auto-advance","- F: Toggle fullscreen","- I: Toggle this info panel","","About the Game:","This text-based adventure follows the journey of Aver-Ag Engi Neer and a team of unlikely heroes as they attempt to save the world from a rogue AI. Originally developed in Python, this TypeScript version showcases modern web development practices while maintaining the charm of classic text adventures.","","Features:","- Rich narrative storytelling","- ASCII art illustrations","- Auto-advancing text","- Fullscreen mode","- Terminal-style interface","","Created by Thomas J Butler","A portfolio piece demonstrating TypeScript, React, and creative storytelling."];function Zk({achievementManager:e,isMuted:t=!1}){var W;const[n,r]=p.useState(null),[s,i]=p.useState(0),[o,l]=p.useState([]),[c,u]=p.useState(0),[h,d]=p.useState(0),[m,y]=p.useState(!0),[b,w]=p.useState(""),[k,x]=p.useState(!1),[f,g]=p.useState(!1),[v,S]=p.useState(!1),[C,T]=p.useState(!1),[N,_]=p.useState(""),[M,O]=p.useState(!1),A=p.useRef(null),F=p.useRef(null),z=p.useRef(null),{config:$,isSupported:ne,isSpeaking:Z,speak:I,stop:E}=Jo();p.useCallback(G=>{e!=null&&e.unlockAchievement&&e.unlockAchievement("ctrlSWorld",G)},[e]);const j=p.useCallback(()=>{A.current&&(A.current.scrollTop=A.current.scrollHeight)},[]),R=()=>{g(G=>!G)},P=()=>{var G;document.fullscreenElement?(document.exitFullscreen(),S(!1)):((G=F.current)==null||G.requestFullscreen(),S(!0))},D=G=>{G.preventDefault(),N.trim().toLowerCase()==="save-the-world"&&(x(!0),_(""))},K=p.useCallback(G=>{ne&&$&&$.enabled&&G&&G.length>0&&!t&&setTimeout(()=>{$.enabled&&!t&&I(G)},500)},[ne,$,I,t]),se=p.useCallback(()=>{if(!rt[s])return;const G=rt[s].content[c];G&&(h<G.length?(w(J=>J+G[h]),d(J=>J+1),j()):(y(!1),!f&&c<rt[s].content.length-1&&setTimeout(()=>{u(J=>J+1),d(0),w(""),y(!0)},2e3)))},[s,c,h,j,f]),B=p.useCallback(()=>{if(m){const G=rt[s].content[c];w(G),d(G.length),y(!1),j()}else l(G=>[...G,b].slice(-9)),c<rt[s].content.length-1?(u(G=>G+1),w(""),d(0),y(!0)):s<rt.length-1&&(i(G=>G+1),u(0),w(""),d(0),y(!0),l([])),j()},[m,s,c,b,j]);return p.useEffect(()=>{k&&rt[s]&&(E(),t||K(rt[s].content))},[s,k,K,E,t]),p.useEffect(()=>{t&&Z&&E()},[t,Z,E]),p.useEffect(()=>{!k&&z.current&&z.current.focus()},[k]),p.useEffect(()=>{const G=J=>{if(J.key==="i"||J.key==="I"){T(X=>!X);return}k&&(J.key==="Enter"||J.key===" "?B():J.key==="p"||J.key==="P"?R():(J.key==="f"||J.key==="F")&&P())};return window.addEventListener("keydown",G),()=>window.removeEventListener("keydown",G)},[B,k]),p.useEffect(()=>{if(k&&!f&&m){const G=setTimeout(se,30);return()=>clearTimeout(G)}},[k,f,m,se]),n===null?a.jsx("div",{className:"w-full h-full bg-black text-green-500 font-mono flex items-center justify-center",children:a.jsxs("div",{className:"text-center p-8 border-2 border-green-500 rounded-lg bg-black/80",children:[a.jsx("h1",{className:"text-4xl font-bold mb-2",children:"CTRL+S THE WORLD"}),a.jsx("p",{className:"text-green-400 mb-8",children:"Choose Your Developer Adventure"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("button",{onClick:()=>r("interactive"),className:"w-full p-4 border-2 border-green-500 rounded-lg hover:bg-green-900/30 transition-colors flex items-center gap-3",children:[a.jsx(jo,{className:"w-6 h-6"}),a.jsxs("div",{className:"text-left",children:[a.jsx("div",{className:"font-bold",children:"EPIC INTERACTIVE MODE"}),a.jsx("div",{className:"text-sm text-green-400",children:"Make choices, manage coffee levels, unlock achievements"})]})]}),a.jsxs("button",{onClick:()=>r("classic"),className:"w-full p-4 border-2 border-green-500 rounded-lg hover:bg-green-900/30 transition-colors flex items-center gap-3",children:[a.jsx(Zs,{className:"w-6 h-6"}),a.jsxs("div",{className:"text-left",children:[a.jsx("div",{className:"font-bold",children:"CLASSIC STORY MODE"}),a.jsx("div",{className:"text-sm text-green-400",children:"Original linear narrative experience"})]})]})]})]})}):n==="interactive"?a.jsx(Qk,{achievementManager:e}):a.jsxs("div",{ref:F,className:`w-full h-full bg-black text-green-500 font-mono flex flex-col ${v?"fixed inset-0 z-50":""}`,children:[a.jsxs("div",{className:"flex items-center justify-between gap-2 p-4 border-b border-green-500",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Zs,{className:"w-5 h-5"}),a.jsx("h2",{className:"text-lg",children:"CTRL-S The World"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[Z&&a.jsx("button",{onClick:E,className:"p-2 bg-red-900/80 hover:bg-red-800 rounded transition-colors",title:"Stop Voice",children:a.jsx(Tn,{className:"w-5 h-5"})}),a.jsx("button",{onClick:()=>O(G=>!G),className:"p-2 hover:bg-green-900 rounded transition-colors",title:"Voice Controls",children:a.jsx(Wn,{className:"w-5 h-5"})}),a.jsx("button",{onClick:()=>T(G=>!G),className:"p-2 hover:bg-green-900 rounded transition-colors",title:"Show Info",children:a.jsx(vg,{className:"w-5 h-5"})}),a.jsx("button",{onClick:R,className:"p-2 hover:bg-green-900 rounded transition-colors",title:f?"Resume":"Pause",children:f?a.jsx(Or,{className:"w-5 h-5"}):a.jsx(Pu,{className:"w-5 h-5"})}),a.jsx("button",{onClick:P,className:"p-2 hover:bg-green-900 rounded transition-colors",title:v?"Exit Fullscreen":"Enter Fullscreen",children:v?a.jsx(bg,{className:"w-5 h-5"}):a.jsx(wg,{className:"w-5 h-5"})})]})]}),M&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-gray-900 rounded-lg p-6 max-w-md w-full border-2 border-green-500",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-xl font-bold",children:"Voice Controls"}),a.jsx("button",{onClick:()=>O(!1),className:"text-green-500 hover:text-green-400 text-2xl",children:"×"})]}),a.jsx(Ru,{text:((W=rt[s])==null?void 0:W.content)||[],className:"w-full"})]})}),C&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-gray-900 rounded-lg p-6 max-w-2xl w-full max-h-[80vh] overflow-y-auto border-2 border-green-500 terminal-scroll",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-xl font-bold",children:"Game Information"}),a.jsx("button",{onClick:()=>T(!1),className:"text-green-500 hover:text-green-400",children:"×"})]}),a.jsx("div",{className:"space-y-2",children:Xk.map((G,J)=>a.jsx("p",{className:"text-green-400",children:G},J))})]})}),a.jsx("div",{ref:A,className:"flex-1 overflow-y-auto overflow-x-hidden p-2",children:k?a.jsxs(a.Fragment,{children:[rt[s]&&a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-green-400 mb-2",children:rt[s].title}),rt[s].ascii&&a.jsx("div",{"data-testid":"ascii-art",className:"mb-4 whitespace-pre font-mono",children:rt[s].ascii.map((G,J)=>a.jsx("div",{className:"text-green-500",children:G},J))})]}),a.jsxs("div",{"data-testid":"story-content",tabIndex:-1,children:[o.map((G,J)=>a.jsx("p",{className:"mb-4 text-green-400",children:G},J)),a.jsxs("p",{className:"text-green-500",children:[b,m&&a.jsx("span",{className:"animate-pulse",children:"█"})]})]})]}):a.jsxs("div",{className:"flex flex-col items-start",children:[a.jsx("p",{className:"mb-2",children:"Welcome to the terminal. To begin your journey, please enter:"}),a.jsx("p",{className:"mb-2 text-green-300",children:"save-the-world"}),a.jsxs("form",{onSubmit:D,className:"flex items-center gap-2 w-full",children:[a.jsx("span",{className:"text-green-500",children:"$"}),a.jsx("input",{ref:z,type:"text",value:N,onChange:G=>_(G.target.value),className:"flex-1 bg-transparent border-none outline-none text-green-500",autoFocus:!0,placeholder:"Type 'save-the-world' to begin..."})]})]})}),k&&a.jsx("div",{className:"p-2 border-t border-green-500",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"text-sm text-green-400",children:["Press ",a.jsx("kbd",{className:"px-2 py-1 bg-green-900 rounded",children:"Space"})," or"," ",a.jsx("kbd",{className:"px-2 py-1 bg-green-900 rounded",children:"Enter"})," to continue"]}),a.jsxs("button",{onClick:B,className:"flex items-center gap-2 px-4 py-2 bg-green-900 hover:bg-green-800 rounded text-sm",children:[m?"Skip":"Continue"," ",a.jsx(gg,{className:"w-4 h-4"})]})]})})]})}const rr=()=>({highScore:0,level:1,achievements:[],stats:{gamesPlayed:0,totalScore:0,bestCombo:0,longestSurvival:0,bossesDefeated:0},lastPlayed:Date.now(),preferences:{}}),sr=()=>({version:"1.0.0",games:{snakeClassic:rr(),vortexPong:rr(),terminalQuest:rr(),matrixCloud:rr(),ctrlSWorld:rr(),matrixInvaders:rr()},globalStats:{totalPlayTime:0,favoriteGame:"",globalAchievements:[],firstPlayDate:Date.now()},settings:{autoSave:!0}}),wh={snakeClassic:[{id:"snake_first_apple",name:"First Bite",description:"Eat your first data fragment",icon:"🍎",game:"Snake Classic"},{id:"snake_score_100",name:"Century Mark",description:"Score 100 points",icon:"💯",game:"Snake Classic"},{id:"snake_score_500",name:"Data Hoarder",description:"Score 500 points",icon:"💾",game:"Snake Classic"},{id:"snake_combo_10",name:"Chain Reaction",description:"Achieve 10x combo",icon:"⚡",game:"Snake Classic"},{id:"snake_power_master",name:"Power User",description:"Collect 10 power-ups in one game",icon:"🔋",game:"Snake Classic"},{id:"snake_survivor",name:"Survival Expert",description:"Survive for 5 minutes",icon:"⏱️",game:"Snake Classic"},{id:"snake_speed_demon",name:"Speed Demon",description:"Score 100 points on max speed",icon:"🚀",game:"Snake Classic"}],vortexPong:[{id:"pong_first_point",name:"First Strike",description:"Score your first point",icon:"🎯",game:"Vortex Pong"},{id:"pong_beat_ai",name:"AI Destroyer",description:"Defeat the AI opponent",icon:"🤖",game:"Vortex Pong"},{id:"pong_perfect_game",name:"Flawless Victory",description:"Win without losing a point",icon:"✨",game:"Vortex Pong"},{id:"pong_multi_ball",name:"Ball Juggler",description:"Handle 3 balls simultaneously",icon:"🎱",game:"Vortex Pong"},{id:"pong_combo_king",name:"Combo King",description:"Score 5 consecutive paddle hits",icon:"👑",game:"Vortex Pong"},{id:"pong_rally_master",name:"Rally Master",description:"20 hits in a single rally",icon:"🏓",game:"Vortex Pong"}],terminalQuest:[{id:"quest_first_choice",name:"Path Chosen",description:"Make your first choice",icon:"🛤️",game:"Terminal Quest"},{id:"quest_tool_collector",name:"Tool Collector",description:"Collect 5 different items",icon:"🛠️",game:"Terminal Quest"},{id:"quest_survivor",name:"Digital Survivor",description:"Maintain 100% health for 10 choices",icon:"❤️",game:"Terminal Quest"},{id:"quest_code_master",name:"Code Master",description:"Achieve 90+ code quality",icon:"💻",game:"Terminal Quest"},{id:"quest_team_leader",name:"Team Leader",description:"Maintain 80+ team morale",icon:"👥",game:"Terminal Quest"},{id:"quest_combat_victor",name:"Combat Victor",description:"Win 10 battles",icon:"⚔️",game:"Terminal Quest"},{id:"quest_story_end",name:"Story Complete",description:"Reach any ending",icon:"📖",game:"Terminal Quest"}],matrixCloud:[{id:"cloud_first_flight",name:"Digital Pilot",description:"Complete your first flight",icon:"✈️",game:"Matrix Cloud"},{id:"cloud_level_5",name:"Matrix Navigator",description:"Reach level 5",icon:"🧭",game:"Matrix Cloud"},{id:"cloud_boss_slayer",name:"Agent Destroyer",description:"Defeat your first boss",icon:"💀",game:"Matrix Cloud"},{id:"cloud_power_collector",name:"Power Seeker",description:"Collect 20 power-ups",icon:"⚡",game:"Matrix Cloud"},{id:"cloud_architect_defeat",name:"Architect's Bane",description:"Defeat the Architect",icon:"🏛️",game:"Matrix Cloud"},{id:"cloud_all_bosses",name:"Boss Master",description:"Defeat all three bosses",icon:"👾",game:"Matrix Cloud"},{id:"cloud_high_flyer",name:"High Flyer",description:"Reach altitude 1000",icon:"🌟",game:"Matrix Cloud"}],matrixInvaders:[{id:"invaders_first_kill",name:"Code Breaker",description:"Destroy your first invader",icon:"💥",game:"Matrix Invaders"},{id:"invaders_wave_5",name:"Wave Survivor",description:"Reach wave 5",icon:"🌊",game:"Matrix Invaders"},{id:"invaders_combo_10",name:"Combo Master",description:"Achieve a 10x combo",icon:"🔥",game:"Matrix Invaders"},{id:"invaders_bullet_time",name:"Time Bender",description:"Use bullet time 5 times",icon:"⏱️",game:"Matrix Invaders"},{id:"invaders_perfect_wave",name:"Flawless Defense",description:"Complete a wave without taking damage",icon:"🛡️",game:"Matrix Invaders"},{id:"invaders_boss_defeat",name:"System Override",description:"Defeat a boss enemy",icon:"👾",game:"Matrix Invaders"},{id:"invaders_high_score",name:"Elite Hacker",description:"Score over 10,000 points",icon:"🏆",game:"Matrix Invaders"}],ctrlSWorld:[{id:"ctrl_coffee_addict",name:"Caffeine Dependent",description:"Reach 100% coffee level",icon:"☕",game:"CTRL-S World"},{id:"ctrl_clean_coder",name:"Clean Code Master",description:"Achieve 90+ code quality",icon:"✨",game:"CTRL-S World"},{id:"ctrl_choice_master",name:"Decision Maker",description:"Make 50 choices",icon:"🎯",game:"CTRL-S World"},{id:"ctrl_story_complete",name:"Epic Journey",description:"Complete the main storyline",icon:"🏆",game:"CTRL-S World"},{id:"ctrl_collector",name:"Item Hoarder",description:"Collect 10 different items",icon:"🎒",game:"CTRL-S World"},{id:"ctrl_voice_master",name:"Voice Commander",description:"Use Shatner voice for 5 minutes",icon:"🎤",game:"CTRL-S World"},{id:"ctrl_bug_free",name:"Bug Free",description:"Achieve 0 bugs",icon:"🐛",game:"CTRL-S World"}]},Jk=[{id:"global_first_game",name:"Welcome to the Matrix",description:"Play your first game",icon:"🎮"},{id:"global_all_games",name:"Matrix Master",description:"Play all 5 games",icon:"🌐"},{id:"global_10_achievements",name:"Achievement Hunter",description:"Unlock 10 achievements",icon:"🏅"},{id:"global_25_achievements",name:"Achievement Expert",description:"Unlock 25 achievements",icon:"🥇"},{id:"global_50_achievements",name:"Achievement Legend",description:"Unlock 50 achievements",icon:"👑"},{id:"global_night_owl",name:"Night Owl",description:"Play after midnight",icon:"🦉"},{id:"global_dedicated",name:"Dedicated Player",description:"Play 7 days in a row",icon:"📅"}],is="matrix-arcade-save-data",Ga="matrix-arcade-backup";function Du(){const[e,t]=p.useState(sr),[n,r]=p.useState(!0),[s,i]=p.useState(null),o=p.useCallback(()=>{try{r(!0);const g=localStorage.getItem(is);if(g){const v=JSON.parse(g);v.version!=="1.0.0"&&console.log("Migrating save data from version",v.version,"to 1.0.0");const S={...sr(),...v,games:{...sr().games,...v.games}};t(S)}else{const v=sr();t(v),localStorage.setItem(is,JSON.stringify(v))}i(null)}catch(g){console.error("Failed to load save data:",g),i("Failed to load save data"),t(sr())}finally{r(!1)}},[]),l=p.useCallback(g=>{try{const v=localStorage.getItem(is);return v&&localStorage.setItem(Ga,v),localStorage.setItem(is,JSON.stringify(g)),g.settings.lastBackupDate=Date.now(),i(null),!0}catch(v){return console.error("Failed to save data:",v),i("Failed to save data"),!1}},[]),c=p.useCallback((g,v)=>{t(S=>{const C={...S,games:{...S.games,[g]:{...S.games[g],...v,lastPlayed:Date.now()}}};return C.settings.autoSave&&l(C),C})},[l]),u=p.useCallback((g,v)=>{t(S=>{const C=S.games[g].achievements;if(!C.includes(v)){const T={...S,games:{...S.games,[g]:{...S.games[g],achievements:[...C,v],lastPlayed:Date.now()}}};return T.settings.autoSave&&l(T),T}return S})},[l]),h=p.useCallback(g=>{t(v=>{const S={...v,globalStats:{...v.globalStats,...g}};return S.settings.autoSave&&l(S),S})},[l]),d=p.useCallback(()=>{try{const g=JSON.stringify(e,null,2),v=new Blob([g],{type:"application/json"}),S=URL.createObjectURL(v),C=document.createElement("a");return C.href=S,C.download=`matrix-arcade-save-${new Date().toISOString().split("T")[0]}.json`,C.click(),URL.revokeObjectURL(S),!0}catch(g){return console.error("Failed to export save data:",g),i("Failed to export save data"),!1}},[e]),m=p.useCallback(g=>new Promise(v=>{const S=new FileReader;S.onload=C=>{var T;try{const N=(T=C.target)==null?void 0:T.result,_=JSON.parse(N);if(!_.version||!_.games)throw new Error("Invalid save file format");t(_),l(_),v(!0)}catch(N){console.error("Failed to import save data:",N),i("Failed to import save data: Invalid file format"),v(!1)}},S.onerror=()=>{i("Failed to read save file"),v(!1)},S.readAsText(g)}),[l]),y=p.useCallback(()=>{try{localStorage.removeItem(is),localStorage.removeItem(Ga);const g=sr();return t(g),i(null),!0}catch(g){return console.error("Failed to clear save data:",g),i("Failed to clear save data"),!1}},[]),b=p.useCallback(()=>{try{const g=localStorage.getItem(Ga);if(g){const v=JSON.parse(g);return t(v),l(v),i(null),!0}else return i("No backup found"),!1}catch(g){return console.error("Failed to restore from backup:",g),i("Failed to restore from backup"),!1}},[l]),w=p.useCallback(()=>l(e),[e,l]),k=p.useMemo(()=>{const g=[];return Object.entries(wh).forEach(([v,S])=>{S.forEach(C=>{var _;const T=(_=e.games[v])==null?void 0:_.achievements.includes(C.id),N=T?e.games[v].lastPlayed:void 0;g.push({...C,unlocked:T,unlockedAt:N})})}),Jk.forEach(v=>{const S=e.globalStats.globalAchievements.includes(v.id);g.push({...v,unlocked:S,unlockedAt:S?Date.now():void 0})}),g},[e]),x=p.useCallback(g=>wh[g]||[],[]),f=p.useCallback((g,v)=>e.games[g].achievements.includes(v),[e]);return p.useEffect(()=>{o()},[o]),{saveData:e,isLoading:n,error:s,achievements:k,updateGameSave:c,unlockAchievement:u,updateGlobalStats:h,exportSaveData:d,importSaveData:m,clearSaveData:y,restoreFromBackup:b,saveNow:w,getGameAchievements:x,isAchievementUnlocked:f,loadSaveData:o}}const eS=.25,tS=-6,bh=3.2,Mg=250,Fn=150,os=50,nS=30,rS=3,sS=10,iS=.15,oS=500,aS=.12,lS=8e3,$a=5,Pi=["#00ff00","#00cc00","#009900"],Ai="01アイウエオカキクケコサシスセソタチツテトナニヌネノ",kh=["shield","timeSlow","extraLife","doublePoints"],cS=[5,10,15],Sh=3e4,uS=2e3,dS={normal:["  ▄███▄  "," █▀▄▄▄▀█ ","█▄▀▀▀▀▄█"," ▀▄▄▄▄▀ "],powered:[" ▄█████▄ ","██▀▄▄▄▀██","██▄███▄██"," ▀█████▀ "],damaged:["  ▄▀▀▀▄  "," █▄▀▀▀▄█ ","█▀▄███▄▀█"," ▀▄▄▄▄▀ "]},Nh={playerY:200,playerVelocity:0,pipes:[{x:600,height:100+Math.random()*(200-Fn),passed:!1,glowIntensity:0},{x:600+Mg,height:100+Math.random()*(200-Fn),passed:!1,glowIntensity:0}],particles:[],powerUps:[],activeEffects:{shield:!1,timeSlow:!1,extraLife:!1,doublePoints:!1},effectTimers:{shield:null,timeSlow:null,extraLife:null,doublePoints:null},score:0,highScore:0,combo:1,lives:rS,level:1,gameOver:!1,started:!1,invulnerable:!1,shakeIntensity:0,boss:null,bossAttacks:[],inBossBattle:!1,bossTimer:0};function fS({achievementManager:e}){const t=p.useRef(null),n=p.useRef(),r=p.useRef(0),[s,i]=p.useState(!1),[o,l]=p.useState(!0),[c,u]=p.useState({x:0,y:0}),h=p.useRef(null),{playSFX:d,playMusic:m,stopMusic:y}=qr(),{saveData:b,updateGameSave:w}=Du(),k=p.useRef(0),x=p.useRef(new Set),f=p.useRef(0),[g,v]=p.useState(()=>{var E,j;return{...Nh,highScore:((j=(E=b==null?void 0:b.games)==null?void 0:E.matrixCloud)==null?void 0:j.highScore)||0}}),S=p.useCallback((E,j)=>{e!=null&&e.unlockAchievement&&e.unlockAchievement(E,j)},[e]);p.useEffect(()=>{g.started&&!g.gameOver?m("gameplay"):y()},[g.started,g.gameOver,m,y]);const C=p.useCallback(()=>Array.from({length:nS},()=>({x:Math.random()*800,y:Math.random()*400,char:Ai[Math.floor(Math.random()*Ai.length)],speed:2+Math.random()*3,opacity:.1+Math.random()*.5,scale:.8+Math.random()*.4,rotation:Math.random()*Math.PI*2,glowColor:Pi[Math.floor(Math.random()*Pi.length)]})),[]),T=p.useCallback(E=>{const R={agent_smith:{health:150,size:60,speed:2},sentinel:{health:200,size:80,speed:1.5},architect:{health:300,size:100,speed:1}}[E];return{type:E,health:R.health,maxHealth:R.health,x:600,y:200,vx:-R.speed,vy:0,size:R.size,attackTimer:0,phase:1,active:!0,defeated:!1}},[]),N=p.useCallback(E=>{u({x:(Math.random()-.5)*E,y:(Math.random()-.5)*E}),setTimeout(()=>u({x:0,y:0}),50)},[]),_=p.useCallback(E=>{let j;E>=15?j="architect":E>=10?j="sentinel":j="agent_smith";const R=T(j);v(P=>({...P,boss:R,inBossBattle:!0,bossTimer:Sh,pipes:[],powerUps:[]})),d("levelUp"),N(15)},[T,d,N]),M=p.useCallback(E=>{const R={agent_smith:["laser","code_bomb"],sentinel:["matrix_rain","laser"],architect:["code_bomb","matrix_rain","laser"]}[E.type],P=R[Math.floor(Math.random()*R.length)];return{id:Math.random().toString(36),type:P,x:E.x-E.size,y:E.y+(Math.random()-.5)*E.size,vx:-4-Math.random()*2,vy:(Math.random()-.5)*3,life:1,damage:20}},[]),O=p.useCallback((E,j)=>{if(!E.active)return E;let R=E.vx,P=E.vy;switch(E.type){case"agent_smith":P=Math.sin(Date.now()/1e3)*2;break;case"sentinel":R=Math.sin(Date.now()/1500)*1.5,P=Math.cos(Date.now()/1500)*1.5;break;case"architect":P=Math.sin(Date.now()/2e3)*1;break}const D=Math.max(400,Math.min(700,E.x+R)),K=Math.max(50,Math.min(350,E.y+P));return{...E,x:D,y:K,vx:R,vy:P,attackTimer:E.attackTimer+j}},[]),A=p.useCallback(()=>Math.random()>aS?null:{type:kh[Math.floor(Math.random()*kh.length)],x:800,y:100+Math.random()*200,collected:!1},[]),F=p.useCallback(E=>{v(j=>{const R={...j.effectTimers},P={...j.activeEffects};return R[E]&&window.clearTimeout(R[E]),R[E]=window.setTimeout(()=>{v(D=>({...D,activeEffects:{...D.activeEffects,[E]:!1},effectTimers:{...D.effectTimers,[E]:null}}))},lS),P[E]=!0,E==="extraLife"&&j.lives<5?{...j,lives:j.lives+1,activeEffects:P,effectTimers:R}:{...j,activeEffects:P,effectTimers:R}}),d("powerup")},[d]),z=p.useCallback(()=>{!g.gameOver&&!s&&(v(E=>(E.started||setTimeout(()=>S("matrixCloud","first_flight"),100),{...E,playerVelocity:tS*(E.activeEffects.timeSlow?.7:1),started:!0})),d("jump"),N(3))},[g.gameOver,s,d,N,S]),$=p.useCallback(()=>{n.current&&cancelAnimationFrame(n.current),v(E=>(Object.values(E.effectTimers).forEach(j=>{j&&window.clearTimeout(j)}),{...Nh,particles:C(),highScore:E.highScore})),l(!0),i(!1),u({x:0,y:0})},[C]),ne=p.useCallback(E=>{if(E.invulnerable)return E;if(E.activeEffects.shield)return d("hit"),N(5),{...E,activeEffects:{...E.activeEffects,shield:!1},invulnerable:!0,shakeIntensity:5};const j=E.lives-1;if(d("hit"),N(10),j<=0){const R=Math.max(E.score,E.highScore);return setTimeout(()=>{var P,D,K,se,B,W,G,J,X,oe,pe,$e;w("matrixCloud",{highScore:R,level:E.level,stats:{gamesPlayed:(((K=(D=(P=b==null?void 0:b.games)==null?void 0:P.matrixCloud)==null?void 0:D.stats)==null?void 0:K.gamesPlayed)||0)+1,totalScore:(((W=(B=(se=b==null?void 0:b.games)==null?void 0:se.matrixCloud)==null?void 0:B.stats)==null?void 0:W.totalScore)||0)+E.score,longestSurvival:Math.max(((X=(J=(G=b==null?void 0:b.games)==null?void 0:G.matrixCloud)==null?void 0:J.stats)==null?void 0:X.longestSurvival)||0,E.score),bossesDefeated:(($e=(pe=(oe=b==null?void 0:b.games)==null?void 0:oe.matrixCloud)==null?void 0:pe.stats)==null?void 0:$e.bossesDefeated)||0}})},100),{...E,lives:0,gameOver:!0,highScore:R,shakeIntensity:10}}return{...E,lives:j,combo:1,invulnerable:!0,shakeIntensity:8}},[d,N,w,b]),Z=p.useCallback(E=>{if(s)return;const j=E-r.current;if(r.current=E,j>100)return;const R=Math.min(j/16.67,2);v(P=>{var Qe,tn,_t,li,ue;if(P.gameOver)return P;const D=P.activeEffects.timeSlow?.6:1;let K=P.playerY+P.playerVelocity*D*R,se=P.playerVelocity+eS*D*R,B=[...P.pipes];if(!P.inBossBattle&&(B.length===0||B[B.length-1].x<800-Mg)){B.push({x:800,height:100+Math.random()*(200-Fn),passed:!1,glowIntensity:0});const V=A();V&&P.powerUps.push(V)}const W=P.particles.map(V=>({...V,y:V.y+V.speed*D*R,char:Math.random()<.1?Ai[Math.floor(Math.random()*Ai.length)]:V.char,opacity:V.y>400?.1+Math.random()*.5:V.opacity,rotation:V.rotation+.01*D*R,...V.y>400?{y:0,scale:.8+Math.random()*.4,glowColor:Pi[Math.floor(Math.random()*Pi.length)]}:{}}));let G=P.powerUps.filter(V=>!V.collected).map(V=>({...V,x:V.x-bh*D*R}));B=B.map(V=>({...V,x:V.x-bh*D*R,glowIntensity:Math.max(0,V.glowIntensity-.05*R)})).filter(V=>V.x>-60);const J={x:50,y:K,width:35,height:35};let X={...P};G=G.map(V=>!V.collected&&as(J,{x:V.x,y:V.y,width:30,height:30})?(F(V.type),k.current+=1,k.current>=20&&S("matrixCloud","cloud_power_collector"),{...V,collected:!0}):V);for(const V of B){const L={x:V.x,y:0,width:50,height:V.height},ce={x:V.x,y:V.height+Fn,width:50,height:400-(V.height+Fn)};if((as(J,L)||as(J,ce))&&(X=ne(X),X.gameOver))return X;if(!V.passed&&V.x<50){const We=sS*Math.min(X.combo,$a),H=X.activeEffects.doublePoints?2:1,ge=Math.floor(We*H),Ce=X.score+ge,re=Math.floor(Ce/oS)+1;re>X.level&&(d("levelUp"),N(7),re===5&&S("matrixCloud","level_5"),cS.includes(re)&&!X.inBossBattle&&setTimeout(()=>_(re),1e3)),V.passed=!0,V.glowIntensity=1,d("score"),X={...X,score:Ce,combo:Math.min(X.combo+iS,$a),level:re},f.current=Math.max(f.current,Ce),f.current>=1e3&&S("matrixCloud","cloud_high_flyer")}}if(K>400-os-35){if(K=400-os-35,se=0,!X.invulnerable&&(X=ne(X),X.gameOver))return X}else K<0&&(K=0,se=0);let oe=X.boss,pe=[...P.bossAttacks],$e=P.bossTimer;if(X.inBossBattle&&oe){if($e=Math.max(0,$e-j),oe=O(oe,j),oe.attackTimer>=uS){const V=M(oe);V&&pe.push(V),oe.attackTimer=0}pe=pe.map(V=>({...V,x:V.x+V.vx,y:V.y+V.vy,life:V.life-.02})).filter(V=>V.life>0&&V.x>-50);for(const V of pe)if(as(J,{x:V.x,y:V.y,width:20,height:20})){X=ne(X),pe=pe.filter(L=>L.id!==V.id);break}if(as(J,{x:oe.x-oe.size/2,y:oe.y-oe.size/2,width:oe.size,height:oe.size}))if(oe.health-=10,d("hit"),N(8),oe.health<=0){oe.defeated=!0,oe.active=!1;const V=oe.maxHealth*2;X.score+=V,d("levelUp"),N(15),w("matrixCloud",{stats:{...(tn=(Qe=b==null?void 0:b.games)==null?void 0:Qe.matrixCloud)==null?void 0:tn.stats,bossesDefeated:(((ue=(li=(_t=b==null?void 0:b.games)==null?void 0:_t.matrixCloud)==null?void 0:li.stats)==null?void 0:ue.bossesDefeated)||0)+1}}),oe.type==="agent_smith"?S("matrixCloud","boss_slayer"):oe.type==="architect"&&S("matrixCloud","architect_defeat"),x.current.add(oe.type),x.current.size>=3&&S("matrixCloud","cloud_all_bosses"),X.inBossBattle=!1,X.boss=null,pe=[]}else X=ne(X);$e<=0&&(X.inBossBattle=!1,X.boss=null,pe=[],d("hit"))}return X.invulnerable&&setTimeout(()=>{v(V=>({...V,invulnerable:!1}))},1500),{...X,playerY:K,playerVelocity:se,pipes:B,particles:W,powerUps:G,shakeIntensity:Math.max(0,X.shakeIntensity-.2),boss:oe,bossAttacks:pe,bossTimer:$e}})},[s,A,F,ne,d,N,_,O,M,S]);p.useEffect(()=>{const E=j=>{j.code==="Space"?(j.preventDefault(),g.gameOver?$():z()):j.code==="KeyP"&&i(R=>!R)};return window.addEventListener("keydown",E),()=>window.removeEventListener("keydown",E)},[g.gameOver,z,$]);const I=p.useCallback(()=>{const E=t.current;if(!E)return;const j=E.getContext("2d");if(!j)return;if(j.save(),j.translate(c.x,c.y),j.fillStyle="black",j.fillRect(0,0,800,400),j.font="12px monospace",j.fillStyle="rgba(0, 255, 0, 0.5)",g.particles.forEach(D=>{j.save(),j.globalAlpha=D.opacity,j.translate(D.x,D.y),j.fillText(D.char,0,0),j.restore()}),j.fillStyle="#006600",g.pipes.forEach(D=>{if(D.glowIntensity>0){const K=Math.floor(102+D.glowIntensity*153);j.fillStyle=`rgb(0, ${K}, 0)`}else j.fillStyle="#006600";j.fillRect(D.x,0,50,D.height),j.fillRect(D.x,D.height+Fn,50,400-(D.height+Fn))}),j.fillStyle="#00ff00",g.powerUps.forEach(D=>{if(!D.collected){switch(j.save(),j.translate(D.x+15,D.y+15),D.type){case"shield":j.beginPath(),j.arc(0,0,10,0,Math.PI*2),j.fill();break;case"timeSlow":j.fillRect(-8,-8,16,16);break;case"extraLife":j.beginPath(),j.moveTo(0,-8),j.lineTo(8,8),j.lineTo(-8,8),j.closePath(),j.fill();break;case"doublePoints":j.fillRect(-8,-8,6,16),j.fillRect(2,-8,6,16);break}j.restore()}}),g.boss&&g.boss.active){const D=g.boss;switch(j.save(),j.translate(D.x,D.y),D.type){case"agent_smith":j.fillStyle="#003300",j.fillRect(-D.size/2,-D.size/2,D.size,D.size),j.fillStyle="#00ff00",j.fillRect(-D.size/4,-D.size/3,D.size/2,D.size/6),j.fillRect(-D.size/6,-D.size/4,D.size/3,D.size/8);break;case"sentinel":j.fillStyle="#330000";for(let B=0;B<8;B++){const W=B/8*Math.PI*2+D.x*.01,G=D.size/2;j.beginPath(),j.moveTo(0,0),j.lineTo(Math.cos(W)*G,Math.sin(W)*G),j.lineWidth=5,j.strokeStyle="#ff0000",j.stroke()}break;case"architect":j.fillStyle="#004400",j.fillRect(-D.size/2,-D.size/2,D.size,D.size),j.fillStyle="#00ff00";for(let B=0;B<5;B++){const W=D.size/5*(B+1);j.strokeRect(-W/2,-W/2,W,W)}break}const K=D.size,se=D.health/D.maxHealth;j.fillStyle="#ff0000",j.fillRect(-K/2,-D.size/2-20,K,8),j.fillStyle="#00ff00",j.fillRect(-K/2,-D.size/2-20,K*se,8),j.restore(),g.bossAttacks.forEach(B=>{j.save(),j.translate(B.x,B.y);const W=B.life;switch(j.globalAlpha=W,B.type){case"laser":j.fillStyle="#ff0000",j.fillRect(-15,-2,30,4);break;case"matrix_rain":j.fillStyle="#00ff00",j.font="16px monospace",j.fillText("01",-8,8);break;case"code_bomb":j.fillStyle="#ffff00",j.beginPath(),j.arc(0,0,8,0,Math.PI*2),j.fill();break}j.restore()})}h.current||(h.current=j.createLinearGradient(0,400-os,0,400),h.current.addColorStop(0,"#004400"),h.current.addColorStop(1,"#003300")),j.fillStyle=h.current,j.fillRect(0,400-os,800,os),j.fillStyle=g.activeEffects.shield?"#00ff00":g.invulnerable?"#ff0000":"#00cc00";const R=g.activeEffects.shield?"powered":g.invulnerable?"damaged":"normal";j.save(),j.translate(50,g.playerY),dS[R].forEach((D,K)=>{j.fillText(D,0,K*10)}),j.restore(),j.font="20px monospace",j.textAlign="left",j.fillStyle="#00ff00";const P=100*(g.combo/$a);if(j.fillStyle="#003300",j.fillRect(20,70,100,10),j.fillStyle="#00ff00",j.fillRect(20,70,P,10),g.inBossBattle&&g.bossTimer>0){const D=200*(g.bossTimer/Sh);j.fillStyle="#660000",j.fillRect(300,20,200,15),j.fillStyle="#ff0000",j.fillRect(300,20,D,15),j.fillStyle="#ffffff",j.font="12px monospace",j.textAlign="center",j.fillText("BOSS BATTLE",400,32),j.textAlign="left"}for(let D=0;D<g.lives;D++)j.fillStyle="#ff0000",j.fillText("♥",700+D*25,30);j.restore()},[g,c]);return p.useEffect(()=>{if(g.started&&!g.gameOver&&!s){const E=j=>{Z(j),I(),n.current=requestAnimationFrame(E)};return n.current=requestAnimationFrame(E),()=>{n.current&&cancelAnimationFrame(n.current)}}},[g.started,g.gameOver,s,Z,I]),p.useEffect(()=>(v(E=>({...E,particles:C()})),setTimeout(()=>I(),0),()=>{n.current&&cancelAnimationFrame(n.current)}),[C,I]),a.jsx("div",{className:"w-full h-full flex flex-col items-center justify-center bg-black",children:a.jsxs("div",{className:"relative w-full max-w-4xl mx-auto",children:[a.jsx("canvas",{ref:t,width:800,height:400,role:"img","aria-label":"Matrix Cloud game canvas",className:"w-full h-auto border-2 border-green-500 rounded-lg shadow-[0_0_20px_rgba(0,255,0,0.3)]",style:{maxHeight:"70vh"},onClick:z}),a.jsxs("div",{className:"absolute top-4 left-4 flex flex-col gap-2 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2 bg-black bg-opacity-70 px-2 py-1 rounded",children:[a.jsx(_g,{className:"w-4 h-4 text-green-400"}),a.jsxs("span",{children:["Level: ",g.level]})]}),a.jsxs("div",{className:"flex items-center gap-2 bg-black bg-opacity-70 px-2 py-1 rounded",children:[a.jsx(Yr,{className:"w-4 h-4 text-blue-400"}),a.jsxs("span",{children:["Combo: x",g.combo.toFixed(1)]})]}),a.jsxs("div",{className:"flex items-center gap-2 bg-black bg-opacity-70 px-2 py-1 rounded",children:[a.jsx(Xn,{className:"w-4 h-4 text-yellow-400"}),a.jsxs("span",{children:["High Score: ",g.highScore]})]}),g.inBossBattle&&g.boss&&a.jsxs("div",{className:"flex items-center gap-2 bg-red-900 bg-opacity-70 px-3 py-1 rounded border border-red-500 animate-pulse",children:[a.jsx(Db,{className:"w-5 h-5 text-red-400"}),a.jsx("span",{className:"text-red-400 font-bold",children:g.boss.type.replace("_"," ").toUpperCase()})]})]}),a.jsxs("div",{className:"absolute top-4 right-4 flex flex-col gap-2 text-sm",children:[g.activeEffects.shield&&a.jsxs("div",{className:"flex items-center gap-2 bg-black bg-opacity-70 px-2 py-1 rounded animate-pulse",children:[a.jsx(Br,{className:"w-4 h-4 text-blue-400"}),a.jsx("span",{children:"Shield"})]}),g.activeEffects.timeSlow&&a.jsxs("div",{className:"flex items-center gap-2 bg-black bg-opacity-70 px-2 py-1 rounded animate-pulse",children:[a.jsx(Vr,{className:"w-4 h-4 text-yellow-400"}),a.jsx("span",{children:"Slow"})]}),g.activeEffects.doublePoints&&a.jsxs("div",{className:"flex items-center gap-2 bg-black bg-opacity-70 px-2 py-1 rounded animate-pulse",children:[a.jsx(uh,{className:"w-4 h-4 text-purple-400"}),a.jsx("span",{children:"2x"})]}),g.inBossBattle&&a.jsx("div",{className:"flex items-center gap-2 bg-red-900 bg-opacity-70 px-3 py-1 rounded border border-red-500",children:a.jsxs("span",{className:"text-red-400 text-sm",children:["⏱ ",Math.ceil(g.bossTimer/1e3),"s"]})})]}),a.jsxs("div",{className:"absolute bottom-4 right-4 flex gap-2",children:[a.jsx("button",{onClick:()=>i(E=>!E),className:"p-2 bg-green-900 rounded hover:bg-green-800 transition-colors",type:"button","aria-label":s?"Resume game":"Pause game",children:s?a.jsx(Or,{className:"w-5 h-5"}):a.jsx(Pu,{className:"w-5 h-5"})}),a.jsx("button",{onClick:$,className:"p-2 bg-green-900 rounded hover:bg-green-800 transition-colors",type:"button","aria-label":"Restart game",children:a.jsx(Tg,{className:"w-5 h-5"})})]}),g.gameOver&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-90",children:a.jsxs("div",{className:"text-center font-mono",children:[a.jsx("h2",{className:"text-3xl mb-4 text-red-500 animate-pulse",children:"SYSTEM FAILURE"}),a.jsxs("div",{className:"space-y-2 mb-6",children:[a.jsxs("p",{className:"text-green-400",children:["Final Score: ",g.score]}),a.jsxs("p",{className:"text-green-400",children:["High Score: ",g.highScore]}),a.jsxs("p",{className:"text-green-400",children:["Level Reached: ",g.level]})]}),a.jsx("button",{onClick:$,className:"px-6 py-3 bg-green-500 text-black rounded-lg hover:bg-green-400 transition-all transform hover:scale-105",type:"button",children:"REBOOT SYSTEM"})]})}),o&&!g.started&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-90",children:a.jsxs("div",{className:"text-center font-mono text-green-400 max-w-lg p-8 border border-green-500 rounded-lg",children:[a.jsx("h2",{className:"text-3xl mb-6 font-bold",children:"MATRIX PROTOCOL"}),a.jsxs("div",{className:"space-y-4 mb-8",children:[a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("kbd",{className:"px-2 py-1 bg-green-900 rounded",children:"SPACE"}),a.jsx("span",{children:"to navigate the system"})]}),a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("kbd",{className:"px-2 py-1 bg-green-900 rounded",children:"P"}),a.jsx("span",{children:"to pause simulation"})]}),a.jsxs("div",{className:"flex flex-col gap-4 mt-6",children:[a.jsx("p",{className:"text-sm",children:"Power-Up Guide:"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Br,{className:"w-4 h-4 text-blue-400"}),a.jsx("span",{children:"Shield Protection"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Vr,{className:"w-4 h-4 text-yellow-400"}),a.jsx("span",{children:"Time Manipulation"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Mu,{className:"w-4 h-4 text-red-400"}),a.jsx("span",{children:"Extra Life"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(uh,{className:"w-4 h-4 text-purple-400"}),a.jsx("span",{children:"Score Multiplier"})]})]})]})]}),a.jsx("p",{className:"animate-pulse",children:"Click or press SPACE to initialize"})]})}),s&&!g.gameOver&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-90",children:a.jsxs("div",{className:"text-center font-mono text-green-500",children:[a.jsx("h2",{className:"text-3xl mb-4",children:"SYSTEM PAUSED"}),a.jsxs("div",{className:"space-y-2 mb-4",children:[a.jsxs("p",{children:["Current Score: ",g.score]}),a.jsxs("p",{children:["Level: ",g.level]}),a.jsxs("p",{children:["Lives: ",g.lives]})]}),a.jsx("p",{className:"animate-pulse",children:"Press P to resume"})]})})]})})}function as(e,t){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y}function hS(){const e=p.useRef(null),t=p.useRef(new Map),n=p.useRef(null),r=p.useCallback(async()=>{if(!e.current){const h=window.AudioContext||window.webkitAudioContext,d=new h;e.current=d;const m=d.createDynamicsCompressor();m.threshold.setValueAtTime(-24,d.currentTime),m.knee.setValueAtTime(30,d.currentTime),m.ratio.setValueAtTime(12,d.currentTime),m.attack.setValueAtTime(.003,d.currentTime),m.release.setValueAtTime(.25,d.currentTime),m.connect(d.destination),n.current=m}return e.current},[]),s=p.useCallback(async(h=2e3,d=100,m=.2)=>{const y=await r();if(!y||!n.current)return;const b=y.currentTime,w=y.createOscillator(),k=y.createGain(),x=y.createBiquadFilter();w.type="sawtooth",w.frequency.setValueAtTime(h,b),w.frequency.exponentialRampToValueAtTime(d,b+m),x.type="lowpass",x.frequency.setValueAtTime(h*2,b),x.frequency.exponentialRampToValueAtTime(d*2,b+m),x.Q.setValueAtTime(5,b),k.gain.setValueAtTime(.3,b),k.gain.exponentialRampToValueAtTime(.001,b+m),w.connect(x),x.connect(k),k.connect(n.current),w.start(b),w.stop(b+m)},[r]),i=p.useCallback(async(h=1,d=.5)=>{const m=await r();if(!m||!n.current)return;const y=m.currentTime,b=.5*h,w=m.sampleRate*b,k=m.createBuffer(1,w,m.sampleRate),x=k.getChannelData(0);for(let N=0;N<w;N++)x[N]=(Math.random()-.5)*2;const f=m.createBufferSource();f.buffer=k;const g=m.createBiquadFilter();g.type="lowpass",g.frequency.setValueAtTime(200+d*3e3,y),g.frequency.exponentialRampToValueAtTime(50,y+b);const v=m.createOscillator();v.type="sine",v.frequency.setValueAtTime(40*h,y),v.frequency.exponentialRampToValueAtTime(20,y+b*.3);const S=m.createGain(),C=m.createGain(),T=m.createGain();S.gain.setValueAtTime(.4,y),C.gain.setValueAtTime(.3*h,y),T.gain.setValueAtTime(1,y),T.gain.exponentialRampToValueAtTime(.001,y+b),f.connect(g),g.connect(S),S.connect(T),v.connect(C),C.connect(T),T.connect(n.current),f.start(y),v.start(y),v.stop(y+b)},[r]),o=p.useCallback(async(h="collect")=>{const d=await r();if(!d||!n.current)return;const m=d.currentTime,b={collect:{freqs:[523,659,784,1047],duration:.3,wave:"triangle"},activate:{freqs:[440,554,659,880],duration:.5,wave:"square"},expire:{freqs:[880,659,554,440],duration:.4,wave:"sawtooth"}}[h],w=b.duration/b.freqs.length;b.freqs.forEach((k,x)=>{const f=m+x*w,g=d.createOscillator(),v=d.createGain(),S=d.createBiquadFilter();g.type=b.wave,g.frequency.setValueAtTime(k,f),S.type="bandpass",S.frequency.setValueAtTime(k,f),S.Q.setValueAtTime(5,f),v.gain.setValueAtTime(0,f),v.gain.linearRampToValueAtTime(.2,f+.01),v.gain.exponentialRampToValueAtTime(.001,f+w),g.connect(S),S.connect(v),v.connect(n.current),g.start(f),g.stop(f+w)})},[r]),l=p.useCallback(async h=>{const d=await r();if(!d||!n.current)return;const m=d.currentTime;switch(h.type){case"kick":{const y=d.createOscillator(),b=d.createGain();y.type="sine",y.frequency.setValueAtTime(60*(h.pitch||1),m),y.frequency.exponentialRampToValueAtTime(40,m+.1),b.gain.setValueAtTime(.7,m),b.gain.exponentialRampToValueAtTime(.001,m+(h.decay||.5)),y.connect(b),b.connect(n.current),y.start(m),y.stop(m+.5);break}case"snare":{const y=d.createOscillator(),b=d.createGain();y.type="triangle",y.frequency.setValueAtTime(200*(h.pitch||1),m);const w=d.createBufferSource(),k=d.createBuffer(1,d.sampleRate*.2,d.sampleRate),x=k.getChannelData(0);for(let S=0;S<x.length;S++)x[S]=Math.random()*2-1;w.buffer=k;const f=d.createBiquadFilter();f.type="highpass",f.frequency.setValueAtTime(1e3*(h.tone||1),m);const g=d.createGain(),v=d.createGain();b.gain.setValueAtTime(.3,m),b.gain.exponentialRampToValueAtTime(.001,m+.1),g.gain.setValueAtTime(.3,m),g.gain.exponentialRampToValueAtTime(.001,m+(h.decay||.2)),v.gain.setValueAtTime(.7,m),y.connect(b),b.connect(v),w.connect(f),f.connect(g),g.connect(v),v.connect(n.current),y.start(m),y.stop(m+.2),w.start(m);break}case"hihat":{const y=d.createBufferSource(),b=d.createBuffer(1,d.sampleRate*.05,d.sampleRate),w=b.getChannelData(0);for(let f=0;f<w.length;f++)w[f]=Math.random()*2-1;y.buffer=b;const k=d.createBiquadFilter();k.type="highpass",k.frequency.setValueAtTime(8e3*(h.pitch||1),m);const x=d.createGain();x.gain.setValueAtTime(.3,m),x.gain.exponentialRampToValueAtTime(.001,m+(h.decay||.05)),y.connect(k),k.connect(x),x.connect(n.current),y.start(m);break}}},[r]),c=p.useCallback(async(h,d="sawtooth",m=Math.random().toString())=>{const y=await r();if(!y||!n.current)return null;const b=y.createOscillator(),w=y.createGain(),k=y.createBiquadFilter();b.type=d,b.frequency.setValueAtTime(h,y.currentTime),k.type="lowpass",k.frequency.setValueAtTime(h*3,y.currentTime),k.Q.setValueAtTime(1,y.currentTime),w.gain.setValueAtTime(0,y.currentTime),w.gain.linearRampToValueAtTime(.2,y.currentTime+.01),b.connect(k),k.connect(w),w.connect(n.current),b.start();const x={oscillator:b,gain:w,filter:k,id:m};return t.current.set(m,x),m},[r]),u=p.useCallback(async(h,d=.1)=>{const m=t.current.get(h);if(!m)return;const y=e.current;y&&(m.gain.gain.exponentialRampToValueAtTime(.001,y.currentTime+d),m.oscillator.stop(y.currentTime+d),setTimeout(()=>{t.current.delete(h)},d*1e3))},[]);return{synthLaser:s,synthExplosion:i,synthPowerUp:o,synthDrum:l,synthVoice:c,stopVoice:u,context:e.current}}function Wa({create:e,reset:t,initialSize:n=10,maxSize:r=1e3,expandSize:s=10}){const i=p.useRef([]),o=p.useRef([]),l=p.useRef(0),c=p.useCallback(()=>{if(i.current.length===0){for(let w=0;w<n;w++){const k=e();k.active=!1,i.current.push(k)}l.current=n}},[e,n]),u=p.useCallback(()=>{const w=l.current;if(w>=r)return;const k=Math.min(s,r-w);for(let x=0;x<k;x++){const f=e();f.active=!1,i.current.push(f)}l.current+=k},[e,s,r]),h=p.useCallback(()=>{c();let w=i.current.find(k=>!k.active);return w||(u(),w=i.current.find(k=>!k.active)),w?(w.active=!0,o.current.push(w),t?t(w):w.reset&&w.reset(),w):null},[c,u,t]),d=p.useCallback(w=>{if(!w||!w.active)return;w.active=!1;const k=o.current.indexOf(w);k>-1&&o.current.splice(k,1),t?t(w):w.reset&&w.reset()},[t]),m=p.useCallback(()=>{o.current.forEach(w=>{w.active=!1,t?t(w):w.reset&&w.reset()}),o.current=[]},[t]),y=p.useCallback(()=>({total:l.current,active:o.current.length,available:i.current.filter(w=>!w.active).length,utilization:o.current.length/l.current*100}),[]),b=p.useCallback(w=>{const k=w-i.current.length;if(k<=0)return;const x=Math.min(k,r-l.current);for(let f=0;f<x;f++){const g=e();g.active=!1,i.current.push(g)}l.current+=x},[e,r]);return{acquire:h,release:d,releaseAll:m,getStats:y,prewarm:b,activeObjects:o.current}}function mS(){return{active:!1,x:0,y:0,vx:0,vy:0,life:0,maxLife:1,size:4,color:"#00ff00",alpha:1,reset(){this.x=0,this.y=0,this.vx=0,this.vy=0,this.life=0,this.maxLife=1,this.size=4,this.color="#00ff00",this.alpha=1}}}function pS(){return{active:!1,x:0,y:0,vx:0,vy:0,damage:1,width:4,height:10,type:"bullet",reset(){this.x=0,this.y=0,this.vx=0,this.vy=0,this.damage=1,this.width=4,this.height=10,this.type="bullet"}}}function gS(){return{active:!1,x:0,y:0,vx:0,vy:0,health:1,maxHealth:1,width:32,height:32,type:"basic",value:10,reset(){this.x=0,this.y=0,this.vx=0,this.vy=0,this.health=1,this.maxHealth=1,this.width=32,this.height=32,this.type="basic",this.value=10}}}function yS(e={}){const{targetFPS:t=60,showOverlay:n=!1,warnThreshold:r=45,criticalThreshold:s=30}=e,[i,o]=p.useState({fps:0,frameTime:0,memoryUsed:0,memoryLimit:0,drawCalls:0,activeObjects:0}),l=p.useRef([]),c=p.useRef(performance.now()),u=p.useRef(0),h=p.useRef(0),d=p.useCallback(()=>{const f=performance.now(),g=f-c.current;c.current=f,l.current.push(g),l.current.length>60&&l.current.shift();const v=l.current.reduce((N,_)=>N+_,0)/l.current.length,S=1e3/v;let C=0,T=0;if("memory"in performance){const N=performance.memory;N&&(C=N.usedJSHeapSize/1048576,T=N.jsHeapSizeLimit/1048576)}o({fps:Math.round(S),frameTime:Math.round(v*100)/100,memoryUsed:Math.round(C*10)/10,memoryLimit:Math.round(T),drawCalls:u.current,activeObjects:h.current}),u.current=0,h.current=0},[]),m=p.useCallback(()=>{u.current++},[]),y=p.useCallback(f=>{h.current=f},[]),b=p.useCallback(()=>{const f=[];return i.fps<s?(f.push("Critical: FPS below "+s),f.push("Reduce particle count or visual effects"),f.push("Enable object pooling for better performance")):i.fps<r&&(f.push("Warning: FPS below optimal ("+r+")"),f.push("Consider reducing active objects")),i.drawCalls>1e3&&f.push("High draw call count - consider batching"),i.memoryUsed>i.memoryLimit*.8&&f.push("High memory usage - clear unused resources"),i.activeObjects>500&&f.push("Many active objects - implement culling"),f},[i,s,r]),w=p.useCallback(()=>{if(!n)return null;const f=i.fps<r,v=i.fps<s?"#ff0000":f?"#ffaa00":"#00ff00";return a.jsxs("div",{style:{position:"fixed",top:10,right:10,backgroundColor:"rgba(0, 0, 0, 0.8)",color:v,padding:"10px",fontFamily:"monospace",fontSize:"12px",borderRadius:"5px",border:`1px solid ${v}`,zIndex:9999,minWidth:"200px"},children:[a.jsxs("div",{children:["FPS: ",i.fps," / ",t]}),a.jsxs("div",{children:["Frame Time: ",i.frameTime,"ms"]}),a.jsxs("div",{children:["Memory: ",i.memoryUsed,"MB / ",i.memoryLimit,"MB"]}),a.jsxs("div",{children:["Draw Calls: ",i.drawCalls]}),a.jsxs("div",{children:["Active Objects: ",i.activeObjects]}),b().length>0&&a.jsx("div",{style:{marginTop:"10px",borderTop:"1px solid #666",paddingTop:"10px"},children:b().map((S,C)=>a.jsxs("div",{style:{fontSize:"10px",marginTop:"2px"},children:["• ",S]},C))})]})},[n,i,t,r,s,b]);p.useEffect(()=>{if(!n)return;const f=setInterval(d,1e3);return()=>clearInterval(f)},[n,d]);const k=p.useCallback((f,g)=>{const v=performance.now();g();const S=performance.now();console.log(`[Performance] ${f}: ${(S-v).toFixed(2)}ms`)},[]),x=p.useCallback((f,g,v=100)=>{let S=0;const C=()=>{const T=Math.min(S+v,f.length);for(let N=S;N<T;N++)g(f[N]);S=T,S<f.length&&requestAnimationFrame(C)};C()},[]);return{stats:i,updateFPS:d,trackDrawCall:m,trackActiveObjects:y,getOptimizationSuggestions:b,PerformanceOverlay:w,profile:k,batchOperations:x}}const Lt=800,An=600,Th=5,ls=40,Ha=30,Ch=10,xS=1,vS=20,wS=8,bS=5,kS=5e3,Ri={code:{symbol:"01",health:1,points:10,speed:1,color:"#00ff00"},agent:{symbol:"A",health:2,points:30,speed:1.5,color:"#00cc00"},sentinel:{symbol:"S",health:3,points:50,speed:1.2,color:"#009900"},virus:{symbol:"V",health:1,points:20,speed:2,color:"#ff0000",splits:!0}},SS=["  ▲  "," ███ ","█████"];function NS({achievementManager:e}){const t=p.useRef(null),n=p.useRef(),r=p.useRef(new Set),s=p.useRef(0),i=p.useRef([]),[o,l]=p.useState({player:{x:Lt/2-ls/2,y:An-Ha-20,lives:3,powerUps:{}},score:0,wave:1,gameOver:!1,paused:!1,combo:0,highScore:parseInt(localStorage.getItem("matrixInvaders_highScore")||"0"),bulletTimeActive:!1,timeScale:1}),{synthLaser:c,synthExplosion:u,synthDrum:h}=hS(),d=Wa({create:pS,maxSize:100}),m=Wa({create:gS,maxSize:100}),y=Wa({create:mS,maxSize:500}),{trackDrawCall:b,trackActiveObjects:w,PerformanceOverlay:k}=yS({showOverlay:!1});p.useEffect(()=>{const _="アイウエオカキクケコサシスセソタチツテトナニヌネノ01234567890ABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let M=0;M<50;M++)i.current.push({x:Math.random()*Lt,y:Math.random()*An,char:_[Math.floor(Math.random()*_.length)],speed:1+Math.random()*2})},[]);const x=p.useCallback(_=>{const M=Object.keys(Ri),O=_<=2?"code":_<=5?["code","agent"][Math.floor(Math.random()*2)]:M[Math.floor(Math.random()*M.length)];for(let A=0;A<bS;A++)for(let F=0;F<wS;F++){const z=m.acquire();if(z){const $=A===0&&_>10?"sentinel":O,ne=Ri[$];z.x=50+F*80,z.y=50+A*50,z.vx=xS*ne.speed,z.vy=0,z.health=ne.health,z.maxHealth=ne.health,z.type=$,z.value=ne.points,z.width=40,z.height=30}}},[m]),f=p.useCallback((_,M,O=!1)=>{const A=d.acquire();A&&(A.x=_,A.y=M,A.vx=0,A.vy=O?Ch/2:-Ch,A.type=O?"enemy":"player",A.damage=1,c(O?500:1e3,100,.1))},[d,c]),g=p.useCallback((_,M,O="#00ff00")=>{for(let A=0;A<20;A++){const F=y.acquire();if(F){const z=Math.PI*2*A/20,$=2+Math.random()*3;F.x=_,F.y=M,F.vx=Math.cos(z)*$,F.vy=Math.sin(z)*$,F.life=1,F.maxLife=1,F.color=O,F.size=2+Math.random()*4}}u(.5,.7)},[y,u]),v=p.useCallback(()=>{const _=d.activeObjects,M=m.activeObjects;_.forEach(O=>{O.type==="player"&&M.forEach(A=>{if(O.active&&A.active&&O.x<A.x+A.width&&O.x+O.width>A.x&&O.y<A.y+A.height&&O.y+O.height>A.y)if(A.health-=O.damage,d.release(O),A.health<=0){if(l(F=>({...F,score:F.score+A.value*(1+F.combo*.1),combo:F.combo+1})),g(A.x+A.width/2,A.y+A.height/2),A.type==="virus"&&Ri.virus.splits)for(let F=0;F<2;F++){const z=m.acquire();z&&(z.x=A.x+(F===0?-20:20),z.y=A.y,z.type="code",z.health=1,z.value=5,z.vx=A.vx)}m.release(A)}else h({type:"hihat"})})}),M.filter(O=>O.active).length===0&&(l(O=>{const A=O.wave+1;return setTimeout(()=>x(A),100),{...O,wave:A}}),o.wave===5&&e&&e.unlockAchievement("matrixInvaders","invaders_wave_5"))},[d,m,o.wave,e,g,h,x]),S=p.useCallback(_=>{if(o.gameOver||o.paused)return;const M=_*o.timeScale;d.activeObjects.forEach(A=>{A.y+=A.vy*M,(A.y<0||A.y>An)&&d.release(A)});let O=!1;m.activeObjects.forEach(A=>{A.x+=A.vx*M,(A.x<=0||A.x>=Lt-A.width)&&(O=!0),Math.random()<.001*o.wave&&f(A.x+A.width/2,A.y+A.height,!0)}),O&&m.activeObjects.forEach(A=>{A.vx*=-1,A.y+=vS,A.y+A.height>=o.player.y&&l(F=>({...F,gameOver:!0}))}),y.activeObjects.forEach(A=>{A.x+=A.vx*M,A.y+=A.vy*M,A.life-=.02*M,A.alpha=A.life,A.life<=0&&y.release(A)}),i.current.forEach(A=>{A.y+=A.speed*M,A.y>An&&(A.y=-20,A.x=Math.random()*Lt)}),v(),w(d.activeObjects.length+m.activeObjects.length+y.activeObjects.length)},[o,d,m,y,v,f,w]),C=p.useCallback(()=>{var O,A;const _=t.current,M=_==null?void 0:_.getContext("2d");!M||!_||(M.fillStyle="#000000",M.fillRect(0,0,Lt,An),b(),M.font="14px monospace",M.fillStyle="#003300",i.current.forEach(F=>{M.fillText(F.char,F.x,F.y)}),b(),y.activeObjects.forEach(F=>{M.globalAlpha=F.alpha,M.fillStyle=F.color,M.fillRect(F.x-F.size/2,F.y-F.size/2,F.size,F.size)}),M.globalAlpha=1,b(),M.font="20px monospace",m.activeObjects.forEach(F=>{const z=Ri[F.type];if(M.fillStyle=z.color,M.fillText(z.symbol,F.x+10,F.y+20),F.maxHealth>1){const $=F.health/F.maxHealth;M.fillStyle="#ff0000",M.fillRect(F.x,F.y-5,F.width,3),M.fillStyle="#00ff00",M.fillRect(F.x,F.y-5,F.width*$,3)}}),b(),M.fillStyle="#00ff00",d.activeObjects.forEach(F=>{F.type==="player"?M.fillRect(F.x,F.y,3,10):(M.fillStyle="#ff0000",M.fillRect(F.x,F.y,3,6),M.fillStyle="#00ff00")}),b(),o.gameOver||(M.fillStyle=(O=o.player.powerUps)!=null&&O.shield?"#00ffff":"#00ff00",M.font="12px monospace",SS.forEach((F,z)=>{M.fillText(F,o.player.x,o.player.y+z*10)}),(A=o.player.powerUps)!=null&&A.shield&&(M.strokeStyle="#00ffff",M.globalAlpha=.3,M.beginPath(),M.arc(o.player.x+ls/2,o.player.y+Ha/2,30,0,Math.PI*2),M.stroke(),M.globalAlpha=1)),b(),M.fillStyle="#00ff00",M.font="16px monospace",M.fillText(`SCORE: ${o.score}`,10,30),M.fillText(`WAVE: ${o.wave}`,10,50),M.fillText(`LIVES: ${o.player.lives}`,10,70),M.fillText(`COMBO: x${o.combo}`,10,90),o.highScore>0&&M.fillText(`HIGH: ${o.highScore}`,Lt-150,30),o.bulletTimeActive&&(M.fillStyle="#ff00ff",M.fillText("BULLET TIME ACTIVE",Lt/2-80,30)),b())},[o,d,m,y,b]),T=p.useCallback(()=>{let _;const M=O=>{const A=O-(n.current||O);n.current=O,S(A*.06),C(),!o.gameOver&&!o.paused&&(_=requestAnimationFrame(M))};return _=requestAnimationFrame(M),()=>{_&&cancelAnimationFrame(_)}},[S,C,o.gameOver,o.paused]);p.useEffect(()=>{const _=O=>{var A;if(r.current.add(O.key),O.key===" "&&!o.gameOver&&!o.paused){const F=Date.now(),z=(A=o.player.powerUps)!=null&&A.rapidFire?100:250;F-s.current>z&&(f(o.player.x+ls/2,o.player.y),s.current=F)}O.key==="b"&&!o.bulletTimeActive&&(l(F=>({...F,bulletTimeActive:!0,timeScale:.3})),setTimeout(()=>{l(F=>({...F,bulletTimeActive:!1,timeScale:1}))},kS)),O.key==="p"&&l(F=>({...F,paused:!F.paused}))},M=O=>{r.current.delete(O.key)};return window.addEventListener("keydown",_),window.addEventListener("keyup",M),()=>{window.removeEventListener("keydown",_),window.removeEventListener("keyup",M)}},[o,f]),p.useEffect(()=>{const M=setInterval(()=>{o.gameOver||o.paused||l(O=>{let A=O.player.x;return(r.current.has("ArrowLeft")||r.current.has("a"))&&(A=Math.max(0,A-Th)),(r.current.has("ArrowRight")||r.current.has("d"))&&(A=Math.min(Lt-ls,A+Th)),{...O,player:{...O.player,x:A}}})},16);return()=>clearInterval(M)},[o.gameOver,o.paused]),p.useEffect(()=>{let _;return!o.gameOver&&!o.paused&&(m.activeObjects.length===0&&x(o.wave),_=T()),()=>{_&&_()}},[o.gameOver,o.paused,o.wave,m,x,T]),p.useEffect(()=>{o.score>o.highScore&&localStorage.setItem("matrixInvaders_highScore",o.score.toString())},[o.score,o.highScore]);const N=p.useCallback(()=>{d.releaseAll(),m.releaseAll(),y.releaseAll(),l({player:{x:Lt/2-ls/2,y:An-Ha-20,lives:3,powerUps:{}},score:0,wave:1,gameOver:!1,paused:!1,combo:0,highScore:parseInt(localStorage.getItem("matrixInvaders_highScore")||"0"),bulletTimeActive:!1,timeScale:1}),x(1)},[d,m,y,x,T]);return a.jsxs("div",{className:"relative w-full h-full flex items-center justify-center bg-black",children:[a.jsxs("div",{className:"relative",children:[a.jsx("canvas",{ref:t,width:Lt,height:An,className:"border-2 border-green-500 shadow-[0_0_20px_rgba(0,255,0,0.5)]"}),a.jsx(Ae,{children:o.gameOver&&a.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 flex items-center justify-center bg-black/80",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-4xl font-mono text-green-500 mb-4",children:"GAME OVER"}),a.jsxs("p",{className:"text-2xl font-mono text-green-400 mb-2",children:["Score: ",o.score]}),a.jsxs("p",{className:"text-xl font-mono text-green-400 mb-6",children:["Wave: ",o.wave]}),a.jsxs("button",{onClick:N,className:"px-6 py-3 bg-green-500 text-black font-mono rounded hover:bg-green-400 transition-colors flex items-center gap-2 mx-auto",children:[a.jsx(Tg,{className:"w-5 h-5"}),"RESTART"]})]})})}),a.jsx(Ae,{children:o.paused&&!o.gameOver&&a.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 flex items-center justify-center bg-black/60",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-4xl font-mono text-green-500 mb-4",children:"PAUSED"}),a.jsx("p",{className:"text-xl font-mono text-green-400",children:"Press P to Resume"})]})})}),a.jsx("div",{className:"mt-4 text-center",children:a.jsx("p",{className:"text-green-400 font-mono text-sm",children:"MOVE: ← → or A/D | FIRE: SPACE | BULLET TIME: B | PAUSE: P"})})]}),a.jsx(k,{})]})}const TS=({isOpen:e,onClose:t,compact:n=!1,isMuted:r=!1,toggleMute:s})=>{const{config:i,updateConfig:o,playSFX:l,playMusic:c,stopMusic:u}=qr(),[h,d]=p.useState(null),m=(k,x)=>{o({[k]:x})},y=k=>{o({[k]:!i[k]})},b=k=>{d(k),l(k),setTimeout(()=>d(null),300)},w=()=>{i.music&&(c("menu"),setTimeout(()=>u(),3e3))};return n?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>y("sfx"),className:`p-2 rounded transition-colors ${i.sfx?"bg-green-900 text-green-400 hover:bg-green-800":"bg-gray-700 text-gray-400 hover:bg-gray-600"}`,title:"Toggle Sound Effects",children:i.sfx?a.jsx(Wn,{className:"w-4 h-4"}):a.jsx(Tn,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>y("music"),className:`p-2 rounded transition-colors ${i.music?"bg-green-900 text-green-400 hover:bg-green-800":"bg-gray-700 text-gray-400 hover:bg-gray-600"}`,title:"Toggle Music",children:a.jsx(ch,{className:`w-4 h-4 ${i.music?"text-green-400":"text-gray-400"}`})})]}):a.jsx(Ae,{children:e&&a.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4",onClick:t,children:a.jsxs(ee.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},className:"bg-gray-900 border-2 border-green-500 rounded-lg p-6 max-w-md w-full font-mono",onClick:k=>k.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Zo,{className:"w-5 h-5 text-green-400"}),a.jsx("h2",{className:"text-lg font-bold text-green-400",children:"AUDIO SETTINGS"})]}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-green-900 rounded transition-colors",children:a.jsx(Hr,{className:"w-5 h-5 text-green-400"})})]}),s&&a.jsxs("div",{className:"mb-6",children:[a.jsxs("button",{onClick:s,className:`w-full py-3 px-4 rounded-lg transition-all border-2 flex items-center justify-center gap-3 font-mono font-bold text-lg ${r?"bg-red-600 hover:bg-red-500 border-red-400 text-white animate-pulse-red":"bg-green-600 hover:bg-green-500 border-green-400 text-white"}`,title:"Toggle Master Mute (V)",children:[r?a.jsx(Tn,{className:"w-6 h-6"}):a.jsx(Wn,{className:"w-6 h-6"}),a.jsx("span",{children:r?"SOUND MUTED":"SOUND ON"})]}),a.jsx("div",{className:"text-center text-xs text-gray-400 mt-2",children:"Press V to quickly toggle mute"})]}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("label",{className:"text-green-400 flex items-center gap-2",children:[a.jsx(fk,{className:"w-4 h-4"}),"MASTER VOLUME"]}),a.jsxs("span",{className:"text-white",children:[Math.round(i.masterVolume*100),"%"]})]}),a.jsx("input",{type:"range",min:"0",max:"1",step:"0.05",value:i.masterVolume,onChange:k=>m("masterVolume",Number(k.target.value)),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer slider"})]}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("label",{className:"text-green-400 flex items-center gap-2",children:[a.jsx(ch,{className:"w-4 h-4"}),"BACKGROUND MUSIC"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:w,className:"p-1 hover:bg-green-900 rounded transition-colors",title:"Test Music",children:a.jsx(Or,{className:"w-3 h-3 text-green-400"})}),a.jsx("button",{onClick:()=>y("music"),className:`px-3 py-1 rounded text-xs transition-colors ${i.music?"bg-green-600 text-white":"bg-gray-600 text-gray-300"}`,children:i.music?"ON":"OFF"})]})]}),a.jsx("input",{type:"range",min:"0",max:"1",step:"0.05",value:i.musicVolume,onChange:k=>m("musicVolume",Number(k.target.value)),disabled:!i.music,className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer slider"}),a.jsxs("div",{className:"text-right text-xs text-gray-400 mt-1",children:[Math.round(i.musicVolume*100),"%"]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("label",{className:"text-green-400 flex items-center gap-2",children:[a.jsx(Wn,{className:"w-4 h-4"}),"SOUND EFFECTS"]}),a.jsx("button",{onClick:()=>y("sfx"),className:`px-3 py-1 rounded text-xs transition-colors ${i.sfx?"bg-green-600 text-white":"bg-gray-600 text-gray-300"}`,children:i.sfx?"ON":"OFF"})]}),a.jsx("input",{type:"range",min:"0",max:"1",step:"0.05",value:i.sfxVolume,onChange:k=>m("sfxVolume",Number(k.target.value)),disabled:!i.sfx,className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer slider"}),a.jsxs("div",{className:"text-right text-xs text-gray-400 mt-1",children:[Math.round(i.sfxVolume*100),"%"]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-green-400 text-sm mb-3",children:"SOUND TEST"}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:["jump","hit","score","powerup","levelUp","combo"].map(k=>a.jsx("button",{onClick:()=>b(k),disabled:!i.sfx||h===k,className:`p-2 text-xs rounded transition-all ${h===k?"bg-green-600 text-white scale-95":"bg-gray-800 text-gray-300 hover:bg-gray-700"} disabled:opacity-50`,children:h===k?"PLAYING...":k.toUpperCase()},k))})]}),a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx("div",{className:"flex-1 h-px bg-green-500/30"}),a.jsx("span",{className:"text-green-500 text-xs",children:"MATRIX AUDIO v2.0"}),a.jsx("div",{className:"flex-1 h-px bg-green-500/30"})]}),a.jsxs("div",{className:"text-xs text-gray-400 text-center",children:["Advanced Web Audio API synthesis",a.jsx("br",{}),"No external audio files required"]})]})})})},CS=({isOpen:e,onClose:t})=>{const{saveData:n,isLoading:r,error:s,exportSaveData:i,importSaveData:o,clearSaveData:l,restoreFromBackup:c,saveNow:u,getGameAchievements:h}=Du(),[d,m]=p.useState(!1),[y,b]=p.useState(!1),w=p.useRef(null),k=()=>{i()&&console.log("Save data exported successfully")},x=async C=>{var _;const T=(_=C.target.files)==null?void 0:_[0];if(!T)return;b(!0);const N=await o(T);b(!1),N&&console.log("Save data imported successfully"),w.current&&(w.current.value="")},f=()=>{d?(l(),m(!1)):(m(!0),setTimeout(()=>m(!1),5e3))},g=C=>{const T=Math.floor(C/36e5),N=Math.floor(C%(1e3*60*60)/(1e3*60));return`${T}h ${N}m`},v=C=>new Date(C).toLocaleDateString(),S=C=>({snakeClassic:"Snake Classic",vortexPong:"Vortex Pong",terminalQuest:"Terminal Quest",matrixCloud:"Matrix Cloud",ctrlSWorld:"CTRL-S | The World"})[C]||C;return e?a.jsx(Ae,{children:a.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4",onClick:t,children:a.jsxs(ee.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},className:"bg-gray-900 border-2 border-green-500 rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto font-mono",onClick:C=>C.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-green-500/30",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Eo,{className:"w-6 h-6 text-green-400"}),a.jsx("h2",{className:"text-xl font-bold text-green-400",children:"SAVE DATA MANAGER"})]}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-green-900 rounded transition-colors",children:a.jsx(Hr,{className:"w-5 h-5 text-green-400"})})]}),s&&a.jsxs("div",{className:"m-4 p-3 bg-red-900/50 border border-red-500 rounded flex items-center gap-2",children:[a.jsx(Xo,{className:"w-5 h-5 text-red-400"}),a.jsx("span",{className:"text-red-400 text-sm",children:s})]}),r?a.jsxs("div",{className:"p-8 text-center",children:[a.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-green-500 border-t-transparent rounded-full mx-auto mb-4"}),a.jsx("p",{className:"text-green-400",children:"Loading save data..."})]}):a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("button",{onClick:u,className:"flex items-center justify-center gap-2 p-3 bg-green-900/50 hover:bg-green-800 border border-green-500/30 rounded transition-colors",children:[a.jsx(Eo,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm",children:"Save Now"})]}),a.jsxs("button",{onClick:k,className:"flex items-center justify-center gap-2 p-3 bg-blue-900/50 hover:bg-blue-800 border border-blue-500/30 rounded transition-colors",children:[a.jsx(xg,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm",children:"Export"})]}),a.jsxs("label",{className:"flex items-center justify-center gap-2 p-3 bg-purple-900/50 hover:bg-purple-800 border border-purple-500/30 rounded transition-colors cursor-pointer",children:[a.jsx(dk,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm",children:y?"Importing...":"Import"}),a.jsx("input",{ref:w,type:"file",accept:".json",onChange:x,className:"hidden",disabled:y})]}),a.jsxs("button",{onClick:f,className:`flex items-center justify-center gap-2 p-3 border rounded transition-colors ${d?"bg-red-900/70 border-red-500 text-red-400":"bg-red-900/50 hover:bg-red-800 border-red-500/30"}`,children:[a.jsx(lk,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm",children:d?"Confirm?":"Clear All"})]})]}),a.jsxs("div",{className:"bg-black/50 border border-green-500/30 rounded-lg p-4",children:[a.jsxs("h3",{className:"text-green-400 font-bold mb-4 flex items-center gap-2",children:[a.jsx(Xn,{className:"w-5 h-5"}),"GLOBAL STATISTICS"]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-gray-400",children:"Total Play Time"}),a.jsx("div",{className:"text-green-400 font-bold",children:g(n.globalStats.totalPlayTime)})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-gray-400",children:"First Played"}),a.jsx("div",{className:"text-green-400 font-bold",children:v(n.globalStats.firstPlayDate)})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-gray-400",children:"Favorite Game"}),a.jsx("div",{className:"text-green-400 font-bold",children:n.globalStats.favoriteGame||"None yet"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-gray-400",children:"Global Achievements"}),a.jsx("div",{className:"text-green-400 font-bold",children:n.globalStats.globalAchievements.length})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-green-400 font-bold flex items-center gap-2",children:[a.jsx(Wb,{className:"w-5 h-5"}),"GAME PROGRESS"]}),a.jsx("div",{className:"grid gap-4",children:Object.entries(n.games).map(([C,T])=>a.jsxs("div",{className:"bg-black/50 border border-green-500/30 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h4",{className:"text-green-400 font-bold",children:S(C)}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400",children:[a.jsx(Vr,{className:"w-3 h-3"}),"Last played: ",v(T.lastPlayed)]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-gray-400",children:"High Score"}),a.jsx("div",{className:"text-green-400 font-bold",children:T.highScore.toLocaleString()})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-gray-400",children:"Level"}),a.jsx("div",{className:"text-green-400 font-bold",children:T.level})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-gray-400",children:"Games Played"}),a.jsx("div",{className:"text-green-400 font-bold",children:T.stats.gamesPlayed})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-gray-400",children:"Achievements"}),a.jsxs("div",{className:"text-green-400 font-bold",children:[T.achievements.length," / ",h(C).length]})]})]}),T.achievements.length>0&&a.jsxs("div",{className:"mt-3 pt-3 border-t border-green-500/20",children:[a.jsx("div",{className:"text-xs text-gray-400 mb-2",children:"Recent Achievements:"}),a.jsxs("div",{className:"flex flex-wrap gap-1",children:[T.achievements.slice(-3).map((N,_)=>a.jsx("span",{className:"px-2 py-1 bg-green-900/30 border border-green-500/50 rounded text-xs",children:N.replace("_"," ").toUpperCase()},_)),T.achievements.length>3&&a.jsxs("span",{className:"px-2 py-1 bg-gray-700 rounded text-xs",children:["+",T.achievements.length-3," more"]})]})]})]},C))})]}),a.jsxs("div",{className:"bg-black/50 border border-yellow-500/30 rounded-lg p-4",children:[a.jsxs("h3",{className:"text-yellow-400 font-bold mb-4 flex items-center gap-2",children:[a.jsx(Zo,{className:"w-5 h-5"}),"BACKUP & RECOVERY"]}),a.jsxs("div",{className:"flex flex-wrap gap-4 text-sm",children:[a.jsxs("button",{onClick:c,className:"flex items-center gap-2 px-3 py-2 bg-yellow-900/50 hover:bg-yellow-800 border border-yellow-500/30 rounded transition-colors",children:[a.jsx(Ng,{className:"w-4 h-4"}),"Restore Backup"]}),a.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[a.jsx(Ib,{className:"w-4 h-4"}),"Auto-save: ",n.settings.autoSave?"Enabled":"Disabled"]}),n.settings.lastBackupDate&&a.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[a.jsx(Vr,{className:"w-4 h-4"}),"Last backup: ",v(n.settings.lastBackupDate)]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex-1 h-px bg-green-500/30"}),a.jsxs("span",{className:"text-green-500 text-xs",children:["SAVE DATA v",n.version]}),a.jsx("div",{className:"flex-1 h-px bg-green-500/30"})]})]})]})})}):null},jS=({achievement:e,onDismiss:t})=>{const[n,r]=p.useState(!1);return p.useEffect(()=>{if(e){r(!0);const s=setTimeout(()=>{r(!1),setTimeout(t,300)},5e3);return()=>clearTimeout(s)}},[e,t]),e?a.jsx(Ae,{children:n&&a.jsx(ee.div,{className:"fixed top-8 right-8 z-50 pointer-events-none",initial:{x:400,opacity:0},animate:{x:0,opacity:1},exit:{x:400,opacity:0},transition:{type:"spring",damping:20,stiffness:300},children:a.jsxs("div",{className:`relative bg-black/90 border-2 border-green-500 rounded-lg p-6 
                       shadow-[0_0_30px_rgba(0,255,0,0.5)] backdrop-blur-md
                       min-w-[320px] max-w-[400px]`,children:[a.jsx("div",{className:"absolute inset-0 overflow-hidden rounded-lg opacity-20",children:a.jsx("div",{className:"matrix-rain"})}),a.jsxs("div",{className:"relative z-10 flex items-start gap-4",children:[a.jsx(ee.div,{className:"flex-shrink-0",animate:{scale:[1,1.2,1],rotate:[0,360,0]},transition:{duration:.6},children:a.jsx("div",{className:`w-16 h-16 bg-green-500/20 rounded-full flex items-center justify-center
                              border-2 border-green-500 shadow-[0_0_20px_rgba(0,255,0,0.5)]`,children:e.icon?a.jsx("span",{className:"text-3xl",children:e.icon}):a.jsx(Xn,{className:"w-8 h-8 text-green-500"})})}),a.jsx("div",{className:"flex-1",children:a.jsxs(ee.div,{initial:{y:-10,opacity:0},animate:{y:0,opacity:1},transition:{delay:.1},children:[a.jsxs("h3",{className:"text-green-500 font-mono text-sm mb-1 flex items-center gap-2",children:[a.jsx(uk,{className:"w-4 h-4"}),"ACHIEVEMENT UNLOCKED"]}),a.jsx("h2",{className:"text-white font-mono text-xl mb-2 tracking-wider",children:e.name}),a.jsx("p",{className:"text-green-300/80 font-mono text-sm leading-relaxed",children:e.description}),e.game&&a.jsx("p",{className:"text-green-500/60 font-mono text-xs mt-2",children:e.game})]})})]}),a.jsx(ee.div,{className:"absolute bottom-0 left-0 h-1 bg-green-500",initial:{width:"100%"},animate:{width:"0%"},transition:{duration:5,ease:"linear"}}),a.jsx("div",{className:"absolute inset-0 pointer-events-none",children:a.jsx(ee.div,{className:"w-full h-full",animate:{clipPath:["inset(0 0 100% 0)","inset(0 0 90% 0)","inset(0 0 100% 0)"],opacity:[0,.1,0]},transition:{duration:.5,repeat:1/0,repeatDelay:2},style:{background:"linear-gradient(180deg, transparent, rgba(0,255,0,0.1), transparent)",filter:"blur(1px)"}})})]})})}):null},ES=({achievements:e,onDismiss:t})=>a.jsx("div",{className:"fixed top-8 right-8 z-50 space-y-4",children:e.map((n,r)=>a.jsx(ee.div,{initial:{x:400,opacity:0},animate:{x:0,opacity:1,y:r*10},exit:{x:400,opacity:0},transition:{type:"spring",damping:20,stiffness:300,delay:r*.1},children:a.jsx(jS,{achievement:n,onDismiss:()=>t(r)})},`${n.id}-${r}`))}),_S={"Snake Classic":"🐍","Vortex Pong":"🏓","Terminal Quest":"💻","CTRL-S World":"💾","Matrix Cloud":"☁️"},MS=({isOpen:e,onClose:t,achievements:n})=>{const[r,s]=p.useState(""),[i,o]=p.useState(null),l=p.useMemo(()=>n.reduce((d,m)=>{const y=m.game||"General";return d[y]||(d[y]=[]),d[y].push(m),d},{}),[n]),c=p.useMemo(()=>{let h=n;return r&&(h=h.filter(d=>d.name.toLowerCase().includes(r.toLowerCase())||d.description.toLowerCase().includes(r.toLowerCase()))),i&&(h=h.filter(d=>d.game===i)),h},[n,r,i]),u=p.useMemo(()=>{const h=n.length,d=n.filter(y=>y.unlocked).length,m=h>0?Math.round(d/h*100):0;return{total:h,unlocked:d,percentage:m}},[n]);return e?a.jsx(Ae,{children:a.jsx(ee.div,{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,children:a.jsxs(ee.div,{className:`relative w-full max-w-6xl h-[90vh] bg-black/95 border-2 border-green-500 
                     rounded-lg shadow-[0_0_50px_rgba(0,255,0,0.3)] overflow-hidden`,initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:h=>h.stopPropagation(),children:[a.jsx("div",{className:"absolute inset-0 opacity-10",children:a.jsx("div",{className:"matrix-rain"})}),a.jsxs("div",{className:"relative z-10 bg-black/80 border-b-2 border-green-500/50 p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(Xn,{className:"w-8 h-8 text-green-500"}),a.jsx("h1",{className:"text-3xl font-mono text-green-500 tracking-wider",children:"ACHIEVEMENTS"})]}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-green-500/20 rounded transition-colors",children:a.jsx(Hr,{className:"w-6 h-6 text-green-500"})})]}),a.jsxs("div",{className:"flex items-center gap-8 text-green-300 font-mono",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Cg,{className:"w-5 h-5"}),a.jsxs("span",{children:[u.unlocked," / ",u.total," UNLOCKED"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(jg,{className:"w-5 h-5"}),a.jsxs("span",{children:[u.percentage,"% COMPLETE"]})]})]}),a.jsx("div",{className:"mt-4 h-2 bg-green-900/30 rounded-full overflow-hidden",children:a.jsx(ee.div,{className:"h-full bg-gradient-to-r from-green-600 to-green-400",initial:{width:0},animate:{width:`${u.percentage}%`},transition:{duration:.5,ease:"easeOut"}})})]}),a.jsx("div",{className:"relative z-10 bg-black/60 border-b border-green-500/30 p-4",children:a.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[a.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[a.jsx(nk,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-green-500/50"}),a.jsx("input",{type:"text",placeholder:"Search achievements...",value:r,onChange:h=>s(h.target.value),className:`w-full pl-10 pr-4 py-2 bg-black/50 border border-green-500/30 
                           rounded text-green-300 font-mono placeholder-green-500/30
                           focus:border-green-500 focus:outline-none transition-colors`})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>o(null),className:`px-3 py-2 rounded font-mono text-sm transition-colors ${i?"bg-black/50 text-green-500/50 border border-green-500/30 hover:border-green-500/50":"bg-green-500/20 text-green-300 border border-green-500"}`,children:"ALL GAMES"}),Object.keys(l).map(h=>a.jsxs("button",{onClick:()=>o(h),className:`px-3 py-2 rounded font-mono text-sm transition-colors flex items-center gap-2 ${i===h?"bg-green-500/20 text-green-300 border border-green-500":"bg-black/50 text-green-500/50 border border-green-500/30 hover:border-green-500/50"}`,children:[a.jsx("span",{children:_S[h]||"🎮"}),h]},h))]})]})}),a.jsxs("div",{className:"relative z-10 overflow-y-auto h-[calc(100%-280px)] p-6",children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map((h,d)=>a.jsxs(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:d*.05},className:`relative p-4 rounded-lg border-2 transition-all duration-300 ${h.unlocked?"bg-green-900/20 border-green-500 shadow-[0_0_20px_rgba(0,255,0,0.3)]":"bg-black/50 border-green-500/20 opacity-60"}`,children:[a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center
                                  ${h.unlocked?"bg-green-500/30 border-2 border-green-500":"bg-black/50 border-2 border-green-500/30"}`,children:h.unlocked?h.icon||a.jsx(Xn,{className:"w-6 h-6 text-green-500"}):a.jsx(Xb,{className:"w-6 h-6 text-green-500/50"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:`font-mono text-lg mb-1 ${h.unlocked?"text-green-300":"text-green-500/50"}`,children:h.name}),a.jsx("p",{className:`font-mono text-sm mb-2 ${h.unlocked?"text-green-400/80":"text-green-500/30"}`,children:h.unlocked?h.description:"???"}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"font-mono text-xs text-green-500/50",children:h.game||"General"}),h.unlocked&&h.unlockedAt&&a.jsx("span",{className:"font-mono text-xs text-green-500/50",children:new Date(h.unlockedAt).toLocaleDateString()})]})]})]}),h.unlocked&&a.jsx(ee.div,{className:"absolute inset-0 pointer-events-none",initial:{opacity:0},animate:{opacity:[0,.2,0]},transition:{duration:2,repeat:1/0,repeatDelay:3},children:a.jsx("div",{className:"w-full h-full bg-gradient-to-r from-transparent via-green-500/20 to-transparent"})})]},h.id))}),c.length===0&&a.jsxs("div",{className:"text-center py-20",children:[a.jsx(Yr,{className:"w-16 h-16 mx-auto text-green-500/30 mb-4"}),a.jsx("p",{className:"text-green-500/50 font-mono",children:"NO ACHIEVEMENTS FOUND"})]})]})]})})}):null},PS=()=>{const[e,t]=p.useState(null),[n,r]=p.useState(!1),[s,i]=p.useState(!1);p.useEffect(()=>{if(window.matchMedia("(display-mode: standalone)").matches){i(!0);return}const c=h=>{h.preventDefault(),t(h),setTimeout(()=>r(!0),2e3)},u=()=>{i(!0),r(!1),t(null)};return window.addEventListener("beforeinstallprompt",c),window.addEventListener("appinstalled",u),()=>{window.removeEventListener("beforeinstallprompt",c),window.removeEventListener("appinstalled",u)}},[]);const o=async()=>{if(!e)return;await e.prompt();const{outcome:c}=await e.userChoice;console.log(c==="accepted"?"User accepted the install prompt":"User dismissed the install prompt"),t(null),r(!1)},l=()=>{r(!1),sessionStorage.setItem("pwa-prompt-dismissed","true")};return p.useEffect(()=>{sessionStorage.getItem("pwa-prompt-dismissed")==="true"&&r(!1)},[]),s||!n?null:a.jsx(Ae,{children:a.jsx(ee.div,{className:"fixed bottom-8 left-8 z-50",initial:{x:-400,opacity:0},animate:{x:0,opacity:1},exit:{x:-400,opacity:0},transition:{type:"spring",damping:20,stiffness:300},children:a.jsxs("div",{className:`bg-black/90 border-2 border-green-500 rounded-lg p-6 
                       shadow-[0_0_30px_rgba(0,255,0,0.5)] backdrop-blur-md
                       max-w-[350px]`,children:[a.jsx("div",{className:"absolute inset-0 overflow-hidden rounded-lg opacity-10",children:a.jsx("div",{className:"matrix-rain"})}),a.jsxs("div",{className:"relative z-10",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(xg,{className:"w-8 h-8 text-green-500"}),a.jsx("h3",{className:"text-xl font-mono text-green-500",children:"INSTALL MATRIX ARCADE"})]}),a.jsx("button",{onClick:l,className:"p-1 hover:bg-green-500/20 rounded transition-colors",children:a.jsx(Hr,{className:"w-5 h-5 text-green-500"})})]}),a.jsx("p",{className:"text-green-300 font-mono text-sm mb-6 leading-relaxed",children:"Install The Matrix Arcade to your device for offline play and a better gaming experience."}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:o,className:`flex-1 px-4 py-2 bg-green-500 text-black font-mono rounded
                         hover:bg-green-400 transition-colors font-bold`,children:"INSTALL NOW"}),a.jsx("button",{onClick:l,className:`px-4 py-2 bg-transparent border border-green-500/50 text-green-500 
                         font-mono rounded hover:bg-green-500/10 transition-colors`,children:"LATER"})]})]}),a.jsx("div",{className:"absolute inset-0 pointer-events-none",children:a.jsx(ee.div,{className:"w-full h-full",animate:{clipPath:["inset(0 0 100% 0)","inset(0 0 80% 0)","inset(0 0 100% 0)"],opacity:[0,.1,0]},transition:{duration:.5,repeat:1/0,repeatDelay:3},style:{background:"linear-gradient(180deg, transparent, rgba(0,255,0,0.1), transparent)",filter:"blur(1px)"}})})]})})})},AS="modulepreload",RS=function(e){return"/"+e},jh={},DS=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=RS(c),c in jh)return;jh[c]=!0;const u=c.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":AS,u||(d.as="script"),d.crossOrigin="",d.href=c,l&&d.setAttribute("nonce",l),document.head.appendChild(d),u)return new Promise((m,y)=>{d.addEventListener("load",m),d.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})};function LS(e={}){const{immediate:t=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:s,onRegisteredSW:i,onRegisterError:o}=e;let l,c;const u=async(d=!0)=>{await c};async function h(){if("serviceWorker"in navigator){if(l=await DS(async()=>{const{Workbox:d}=await import("./workbox-window.prod.es5-B9K5rw8f.js");return{Workbox:d}},[]).then(({Workbox:d})=>new d("/sw.js",{scope:"/",type:"classic"})).catch(d=>{o==null||o(d)}),!l)return;l.addEventListener("activated",d=>{(d.isUpdate||d.isExternal)&&window.location.reload()}),l.addEventListener("installed",d=>{d.isUpdate||r==null||r()}),l.register({immediate:t}).then(d=>{i?i("/sw.js",d):s==null||s(d)}).catch(d=>{o==null||o(d)})}}return c=h(),u}function IS(e={}){const{immediate:t=!0,onNeedRefresh:n,onOfflineReady:r,onRegistered:s,onRegisteredSW:i,onRegisterError:o}=e,[l,c]=p.useState(!1),[u,h]=p.useState(!1),[d]=p.useState(()=>LS({immediate:t,onOfflineReady(){h(!0),r==null||r()},onNeedRefresh(){c(!0),n==null||n()},onRegistered:s,onRegisteredSW:i,onRegisterError:o}));return{needRefresh:[l,c],offlineReady:[u,h],updateServiceWorker:d}}const FS=()=>{const{needRefresh:[e,t],updateServiceWorker:n}=IS({onRegistered(i){console.log("SW Registered:",i)},onRegisterError(i){console.log("SW registration error",i)}}),r=()=>{t(!1)},s=()=>{n(!0)};return a.jsx(Ae,{children:e&&a.jsx(ee.div,{className:"fixed top-8 left-1/2 transform -translate-x-1/2 z-50",initial:{y:-100,opacity:0},animate:{y:0,opacity:1},exit:{y:-100,opacity:0},transition:{type:"spring",damping:20,stiffness:300},children:a.jsxs("div",{className:`bg-black/90 border-2 border-green-500 rounded-lg p-4 
                         shadow-[0_0_30px_rgba(0,255,0,0.5)] backdrop-blur-md`,children:[a.jsx("div",{className:"absolute inset-0 overflow-hidden rounded-lg opacity-10",children:a.jsx("div",{className:"matrix-rain"})}),a.jsxs("div",{className:"relative z-10 flex items-center gap-4",children:[a.jsx(tk,{className:"w-6 h-6 text-green-500 animate-spin"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-mono text-green-500 text-sm mb-1",children:"NEW VERSION AVAILABLE"}),a.jsx("p",{className:"font-mono text-green-300 text-xs",children:"Reload to get the latest features and improvements"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:s,className:`px-3 py-1 bg-green-500 text-black font-mono text-sm rounded
                           hover:bg-green-400 transition-colors font-bold`,children:"RELOAD"}),a.jsx("button",{onClick:r,className:"p-1 hover:bg-green-500/20 rounded transition-colors",children:a.jsx(Hr,{className:"w-4 h-4 text-green-500"})})]})]})]})})})},VS=({onDismiss:e})=>a.jsxs(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black z-50 flex items-center justify-center p-4",children:[a.jsx("div",{className:"absolute inset-0 opacity-10",children:[...Array(30)].map((t,n)=>a.jsx("div",{className:"absolute text-green-500 animate-matrix-rain",style:{left:`${Math.random()*100}%`,animationDelay:`${Math.random()*2}s`,animationDuration:`${2+Math.random()*3}s`},children:String.fromCharCode(12448+Math.random()*96)},n))}),a.jsx(ee.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},transition:{type:"spring",damping:20},className:"relative bg-gray-900 border-2 border-green-500 rounded-lg p-8 max-w-md w-full shadow-[0_0_50px_rgba(0,255,0,0.3)]",children:a.jsxs("div",{className:"flex flex-col items-center text-center",children:[a.jsxs("div",{className:"mb-6 relative",children:[a.jsx(Xo,{className:"w-16 h-16 text-yellow-500 animate-pulse"}),a.jsx("div",{className:"absolute inset-0 blur-xl bg-yellow-500/20"})]}),a.jsx("h2",{className:"text-2xl font-mono text-green-400 mb-4",children:"DESKTOP REQUIRED"}),a.jsx("p",{className:"text-green-300 mb-6 leading-relaxed",children:"The Matrix Arcade games require a desktop computer with keyboard controls for the optimal gaming experience."}),a.jsx("div",{className:"mb-6",children:a.jsx(kg,{className:"w-12 h-12 text-green-500"})}),a.jsx("p",{className:"text-sm text-gray-400 mb-6",children:"Please visit us on your desktop browser to enter the Matrix."}),e&&a.jsx("button",{onClick:e,className:"px-6 py-2 bg-green-500 text-black font-mono rounded hover:bg-green-400 transition-colors",children:"I UNDERSTAND"}),a.jsx("pre",{className:"text-xs text-green-500/50 mt-6",children:`    _____ 
   |     |
   |  □  |
   |_____|
   /     \\`})]})})]}),OS=()=>{const e=Du(),[t,n]=p.useState([]),[r,s]=p.useState(!1),i=p.useRef(new Set);p.useEffect(()=>{const w=e.achievements.filter(k=>k.unlocked).map(k=>k.id);i.current=new Set(w)},[e.achievements]),p.useEffect(()=>{e.achievements.filter(k=>k.unlocked).forEach(k=>{if(!i.current.has(k.id)){i.current.add(k.id);const x={id:k.id,name:k.name,description:k.description,icon:k.icon,game:k.game,timestamp:Date.now()};n(f=>[...f,x])}})},[e.achievements]);const o=p.useCallback(w=>{n(k=>k.filter((x,f)=>f!==w))},[]),l=p.useCallback(()=>{n([])},[]),c=p.useCallback(()=>{s(w=>!w)},[]),u=p.useCallback(()=>{s(!0)},[]),h=p.useCallback(()=>{s(!1)},[]),d=p.useCallback(()=>{const w=e.achievements.length,k=e.achievements.filter(g=>g.unlocked).length,x=w>0?Math.round(k/w*100):0,f=e.achievements.reduce((g,v)=>{const S=v.game||"General";return g[S]||(g[S]={total:0,unlocked:0}),g[S].total++,v.unlocked&&g[S].unlocked++,g},{});return{total:w,unlocked:k,percentage:x,byGame:f}},[e.achievements]),m=p.useCallback((w,k,x)=>{const f=e.unlockAchievement(w,k);if(f&&x){const g=e.achievements.find(v=>v.id===k);if(g){const v={id:g.id,name:x.name||g.name,description:x.description||g.description,icon:x.icon||g.icon,game:x.game||g.game,timestamp:Date.now()};n(S=>[...S,v])}}return f},[e]),y=p.useCallback(w=>{const k=e.achievements.find(x=>x.id===w);return(k==null?void 0:k.unlocked)||!1},[e.achievements]);return{achievements:p.useCallback(()=>e.achievements.map(w=>({...w,unlocked:w.unlocked||!1,progress:w.progress||0,maxProgress:w.maxProgress||1,percentComplete:w.maxProgress?Math.round((w.progress||0)/w.maxProgress*100):w.unlocked?100:0})),[e.achievements])(),stats:d(),notificationQueue:t,dismissNotification:o,clearNotifications:l,isDisplayOpen:r,toggleDisplay:c,openDisplay:u,closeDisplay:h,unlockAchievement:m,isUnlocked:y,saveGame:e.saveGame,loadGame:e.loadGame,getSaveData:()=>e.saveData,clearSaveData:e.clearSaveData,exportSaveData:e.exportSaveData,importSaveData:e.importSaveData,updateGlobalStats:e.updateGlobalStats}},BS=()=>{const[e,t]=p.useState(!1),[n,r]=p.useState(!1);return p.useEffect(()=>{const s=()=>{var y;const i=((y=navigator.userAgent)==null?void 0:y.toLowerCase())||"",o=/android.*mobile|webos|iphone|ipod|blackberry|iemobile|opera mini|windows phone/i,l=/ipad|tablet|playbook|silk|(android(?!.*mobile))/i,c=o.test(i),u=l.test(i),h="ontouchstart"in window||navigator.maxTouchPoints>0,d=window.innerWidth<768,m=window.innerWidth>=768&&window.innerWidth<1024;t(c||h&&d),r(u||h&&m)};return s(),window.addEventListener("resize",s),window.addEventListener("orientationchange",s),()=>{window.removeEventListener("resize",s),window.removeEventListener("orientationchange",s)}},[]),{isMobile:e,isTablet:n,isDesktop:!e&&!n,isTouchDevice:"ontouchstart"in window||navigator.maxTouchPoints>0}};function US(){const[e,t]=p.useState(0),[n,r]=p.useState(!1),[s,i]=p.useState(!1),[o,l]=p.useState(!1),[c,u]=p.useState(!1),[h,d]=p.useState(!1),[m,y]=p.useState("right"),b=p.useRef(null),w=p.useRef(null),k=p.useRef(null),{playSFX:x,playMusic:f,stopMusic:g,toggleMute:v,isMuted:S,config:C,updateConfig:T}=qr(),N=OS(),{isMobile:_,isTablet:M}=BS(),O=_||M,A=p.useRef(new Set),F=p.useRef(null),z=p.useRef(0);p.useEffect(()=>{var P;const j=N.stats.unlocked,R=((P=N.getSaveData())==null?void 0:P.globalStats.globalAchievements)||[];j>=10&&!R.includes("global_10_achievements")&&N.updateGlobalStats({globalAchievements:[...R,"global_10_achievements"]}),j>=25&&!R.includes("global_25_achievements")&&N.updateGlobalStats({globalAchievements:[...R,"global_25_achievements"]}),j>=50&&!R.includes("global_50_achievements")&&N.updateGlobalStats({globalAchievements:[...R,"global_50_achievements"]})},[N.stats.unlocked,N]);const $=[{title:"CTRL-S | The World",icon:a.jsx(Kb,{className:"w-8 h-8"}),description:"A hilarious text adventure about saving the digital world",preview:"https://res.cloudinary.com/depqttzlt/image/upload/v1737071600/ctrlsthegame_m1tg5l.png",component:Zk},{title:"Snake Classic",icon:a.jsx(jo,{className:"w-8 h-8"}),description:"Navigate through the matrix collecting data fragments",preview:"https://res.cloudinary.com/depqttzlt/image/upload/v1737071599/matrixsnake2_jw29w1.png",component:Sk},{title:"Vortex Pong",icon:a.jsx(Gb,{className:"w-8 h-8"}),description:"Battle the AI in a hypnotic 3D arena",preview:"https://res.cloudinary.com/depqttzlt/image/upload/v1737071596/vortexpong2_hkjn4k.png",component:Dk},{title:"Terminal Quest",icon:a.jsx(Zs,{className:"w-8 h-8"}),description:"Text-based adventure in the digital realm",preview:"https://res.cloudinary.com/depqttzlt/image/upload/v1737071600/terminalquest_ddvjkf.png",component:Bk},{title:"Matrix Cloud",icon:a.jsx(jo,{className:"w-8 h-8"}),description:"Navigate through the digital storm",preview:"https://res.cloudinary.com/depqttzlt/image/upload/v1737071594/matrixcloud_rw8hsa.png",component:fS},{title:"Matrix Invaders",icon:a.jsx(zb,{className:"w-8 h-8"}),description:"Defend against the code invasion",preview:"https://res.cloudinary.com/depqttzlt/image/upload/v1751750717/matrix3_zmwcnd.png",component:NS}];p.useEffect(()=>{const j=D=>{const K=D.getContext("2d");if(!K)return null;const se=D.parentElement;if(!se)return null;D.width=se.offsetWidth,D.height=se.offsetHeight;const B="アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヲン",W=14,G=Math.floor(D.width/W),J=Array(G).fill(1);let X,oe=0;const pe=$e=>{if($e-oe<33){X=requestAnimationFrame(pe);return}oe=$e,K.fillStyle="rgba(0, 0, 0, 0.05)",K.fillRect(0,0,D.width,D.height),K.fillStyle="#0F0",K.font=`${W}px monospace`;for(let Qe=0;Qe<J.length;Qe++){const tn=B[Math.floor(Math.random()*B.length)];K.fillText(tn,Qe*W,J[Qe]*W),J[Qe]*W>D.height&&Math.random()>.975&&(J[Qe]=0),J[Qe]++}X=requestAnimationFrame(pe)};return X=requestAnimationFrame(pe),()=>cancelAnimationFrame(X)};let R=null,P=null;if(w.current){const D=w.current.querySelector("canvas.matrix-rain");D instanceof HTMLCanvasElement&&(R=j(D))}if(k.current){const D=k.current.querySelector("canvas.matrix-rain");D instanceof HTMLCanvasElement&&(P=j(D))}return()=>{R&&R(),P&&P()}},[]),p.useEffect(()=>{const j=R=>{const P=R.target;n&&P.tagName!=="INPUT"&&P.tagName!=="TEXTAREA"&&R.preventDefault()};return window.addEventListener("keydown",j,!1),window.addEventListener("wheel",j,{passive:!1}),window.addEventListener("touchmove",j,{passive:!1}),()=>{window.removeEventListener("keydown",j),window.removeEventListener("wheel",j),window.removeEventListener("touchmove",j)}},[n]);const ne=p.useCallback(j=>{const R=j>e?"right":"left";y(R),d(!0),setTimeout(()=>d(!1),600),i(!1),t(j),r(!1),x("menu")},[e,x]),Z=p.useCallback(()=>{ne(e===0?$.length-1:e-1)},[e,ne]),I=p.useCallback(()=>{ne(e===$.length-1?0:e+1)},[e,ne]);p.useEffect(()=>{const j=R=>{R.key.toLowerCase()==="a"&&!n&&R.target instanceof HTMLElement&&R.target.tagName!=="INPUT"&&R.target.tagName!=="TEXTAREA"&&(R.preventDefault(),N.toggleDisplay()),R.key==="Escape"&&n&&(R.preventDefault(),r(!1),g(),x("menu")),!n&&(R.key==="ArrowLeft"||R.key==="ArrowRight")&&(R.preventDefault(),R.key==="ArrowLeft"?Z():I()),!n&&R.key==="Enter"&&!O&&(R.preventDefault(),r(!0),x("score"),setTimeout(()=>f("gameplay"),500)),R.key.toLowerCase()==="v"&&!n&&R.target instanceof HTMLElement&&R.target.tagName!=="INPUT"&&R.target.tagName!=="TEXTAREA"&&(R.preventDefault(),v())};return window.addEventListener("keydown",j),()=>window.removeEventListener("keydown",j)},[n,N,g,x,O,f,Z,I,v]);const E=$[e].component;return a.jsxs(a.Fragment,{children:[O&&a.jsx(VS,{}),a.jsxs("div",{className:"h-screen flex flex-col bg-black text-green-500 overflow-hidden",children:[a.jsxs("header",{ref:w,className:"relative border-b border-green-500/50 p-2 lg:p-3 overflow-hidden backdrop-blur-sm",children:[a.jsx("canvas",{className:"matrix-rain absolute top-0 left-0 w-full h-full opacity-15 z-0",style:{pointerEvents:"none"}}),a.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between relative z-10",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"relative group",children:[a.jsx(kg,{className:"w-8 h-8 relative z-10"}),a.jsx("div",{className:"absolute inset-0 bg-green-500/20 rounded-full filter blur-sm animate-pulse"})]}),a.jsx("div",{children:a.jsxs("a",{href:"https://www.tomatic.tech/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-sm hover:text-green-400 transition-colors group",children:[a.jsx("h1",{className:"text-xl lg:text-2xl font-mono font-bold tracking-wider group-hover:text-green-400 transition-colors",children:"THE MATRIX ARCADE"}),a.jsx("p",{className:"text-xs text-green-400 tracking-widest hidden sm:block",children:"SYSTEM v1.0.5"})]})})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>u(!c),className:"p-2 bg-green-900/50 rounded hover:bg-green-800 transition-colors border border-green-500/30 backdrop-blur-sm",title:"Save Data Manager",children:a.jsx(Eo,{className:"w-5 h-5"})}),a.jsx("button",{onClick:()=>l(!o),className:`p-2 rounded transition-colors border backdrop-blur-sm ${S?"bg-red-900/50 hover:bg-red-800 border-red-500/30":"bg-green-900/50 hover:bg-green-800 border-green-500/30"}`,title:"Audio Settings (V to mute)",children:a.jsx(Zo,{className:`w-5 h-5 ${S?"text-red-400":""}`})}),a.jsx("button",{onClick:()=>i(!s),className:"flex items-center gap-2 px-4 py-2 bg-green-900/50 rounded hover:bg-green-800 transition-colors border border-green-500/30 backdrop-blur-sm group",children:"Games"})]})]})]}),s&&a.jsx("div",{className:"absolute left-0 top-0 h-full w-64 bg-black/90 border-r border-green-500/50 z-50 backdrop-blur-sm",style:{paddingTop:"5rem"},children:a.jsx("div",{className:"flex flex-col gap-2 p-4",children:$.map((j,R)=>a.jsxs("button",{onClick:()=>ne(R),className:"w-full flex items-center gap-2 p-3 hover:bg-green-900/50 transition-colors text-left",children:[j.icon,a.jsx("span",{children:j.title})]},R))})}),a.jsx("main",{className:"flex-1 overflow-hidden flex items-center justify-center p-2 lg:p-4",children:n&&E?a.jsxs("div",{className:"relative w-full h-full",children:[a.jsx(E,{achievementManager:N,isMuted:S}),S&&a.jsxs("div",{className:"absolute top-4 right-4 z-50 flex items-center gap-2 px-4 py-2 bg-red-600/90 border-2 border-red-400 rounded-lg animate-pulse-red pointer-events-none shadow-lg shadow-red-500/50",children:[a.jsx(Tn,{className:"w-5 h-5 text-white"}),a.jsx("span",{className:"text-white font-mono text-sm font-bold",children:"MUTED"})]}),a.jsxs("button",{onClick:()=>{var j;if(r(!1),g(),x("menu"),F.current&&(z.current+=(Date.now()-F.current)/1e3/60,F.current=null,z.current>=60)){const R=((j=N.getSaveData())==null?void 0:j.globalStats.globalAchievements)||[];R.includes("global_marathon_gamer")||N.updateGlobalStats({globalAchievements:[...R,"global_marathon_gamer"]})}},className:"absolute top-4 right-4 z-50 p-3 bg-red-900/90 hover:bg-red-700 rounded-lg border-2 border-red-500/80 backdrop-blur-sm transition-all group shadow-lg hover:shadow-red-500/50 hover:scale-110",title:"Exit Game (ESC)",children:[a.jsx(Hr,{className:"w-6 h-6 group-hover:rotate-90 transition-transform"}),a.jsx("span",{className:"absolute -bottom-6 right-0 text-xs text-red-400 opacity-0 group-hover:opacity-100 transition-opacity",children:"ESC"})]})]}):a.jsxs("div",{className:"relative w-full max-w-2xl mx-auto flex flex-col justify-center h-full game-portal-container px-4",children:[a.jsx("div",{className:"absolute inset-0 opacity-20 pointer-events-none overflow-hidden",children:[...Array(20)].map((j,R)=>a.jsx("div",{className:"absolute text-green-500 animate-matrix-rain",style:{left:`${Math.random()*100}%`,animationDelay:`${Math.random()*2}s`,animationDuration:`${1+Math.random()*3}s`},children:String.fromCharCode(12448+Math.random()*96)},R))}),a.jsx("div",{ref:b,className:`
              digital-container game-portal-wrapper
              ${h?`transition-${m}`:""}
            `,children:a.jsxs("div",{className:"relative bg-gray-900 rounded-xl p-3 lg:p-4 border border-green-500 shadow-[0_0_20px_rgba(0,255,0,0.3)] w-full mx-auto",children:[a.jsx("div",{className:"relative aspect-[16/9] mb-2 lg:mb-3 rounded-lg overflow-hidden border border-green-500",children:a.jsx(Ae,{mode:"wait",children:a.jsx(ee.div,{className:"w-full h-full transition-enhanced",children:n&&E?a.jsx(E,{achievementManager:N}):a.jsx("img",{src:$[e].preview,alt:$[e].title,className:"w-full h-full object-cover"})},e)})}),a.jsxs("div",{className:"game-controls-enhanced",children:[a.jsx("button",{onClick:Z,className:"p-1.5 lg:p-2 hover:bg-green-900 rounded-full transition-colors transform hover:scale-110",title:"Previous game",children:a.jsx(Vb,{className:"w-6 h-6"})}),a.jsxs("div",{className:"flex-1 text-center",children:[a.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[a.jsx("div",{className:"lg:scale-110",children:$[e].icon}),a.jsx("h2",{className:"text-lg lg:text-xl xl:text-2xl font-mono",children:$[e].title})]}),a.jsx("p",{className:"text-green-400 font-mono text-xs lg:text-sm mb-3 lg:mb-4",children:$[e].description}),typeof E<"u"&&a.jsxs("button",{onClick:()=>{var j,R,P;if(!O)if(r(!n),x(n?"menu":"score"),n){if(g(),F.current&&(z.current+=(Date.now()-F.current)/1e3/60,F.current=null,z.current>=60)){const D=((P=N.getSaveData())==null?void 0:P.globalStats.globalAchievements)||[];D.includes("global_marathon_gamer")||N.updateGlobalStats({globalAchievements:[...D,"global_marathon_gamer"]})}}else{setTimeout(()=>f("gameplay"),500);const D=$[e].title;if(A.current.add(D),F.current=Date.now(),A.current.size===1){const K=((j=N.getSaveData())==null?void 0:j.globalStats.globalAchievements)||[];K.includes("global_first_game")||N.updateGlobalStats({globalAchievements:[...K,"global_first_game"]})}if(A.current.size===$.length){const K=((R=N.getSaveData())==null?void 0:R.globalStats.globalAchievements)||[];K.includes("global_all_games")||N.updateGlobalStats({globalAchievements:[...K,"global_all_games"]})}}},className:"px-4 py-2 lg:px-6 lg:py-2.5 bg-green-500 text-black font-mono rounded-full hover:bg-green-400 transition-colors flex items-center gap-2 mx-auto transform hover:scale-105 text-sm lg:text-base font-bold",children:[a.jsx(Or,{className:"w-4 h-4"}),n?"STOP":"PLAY"]})]}),a.jsx("button",{onClick:I,className:"p-1.5 lg:p-2 hover:bg-green-900 rounded-full transition-colors transform hover:scale-110",title:"Next game",children:a.jsx(gg,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"mt-4 text-xs lg:text-sm text-green-400/70 text-center space-y-1",children:[a.jsx("p",{children:"← → Navigate Games • Enter to Play • ESC to Exit"}),a.jsx("p",{children:"A for Achievements • V to Toggle Mute"})]})]})})]})}),a.jsxs("footer",{ref:k,className:"relative border-t border-green-500/50 p-2 lg:p-3 overflow-hidden backdrop-blur-sm bottom-0 w-full",children:[a.jsx("canvas",{className:"matrix-rain absolute top-0 left-0 w-full h-full opacity-15 z-0",style:{pointerEvents:"none"}}),a.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between relative z-10",children:[a.jsxs("div",{className:"font-mono text-xs lg:text-sm flex items-center gap-2 lg:gap-4",children:[a.jsx("p",{className:"tracking-wider hidden lg:block",children:"THE MATRIX ARCADE v1.0.5"}),a.jsx("div",{className:"h-4 w-px bg-green-500/30 hidden lg:block"}),a.jsx("p",{className:"text-green-400",children:"TAKE THE RED PILL!"})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("a",{href:"https://thomasjbutler.me/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-sm hover:text-green-400 transition-colors group",children:[a.jsx("span",{children:"BY THOMAS J BUTLER"}),a.jsx(Ob,{className:"w-4 h-4 group-hover:rotate-12 transition-transform"})]}),a.jsx("div",{className:"flex gap-1",children:[...Array(3)].map((j,R)=>a.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse",style:{animationDelay:`${R*200}ms`}},R))})]})]})]}),a.jsx(TS,{isOpen:o,onClose:()=>l(!1),isMuted:S,toggleMute:v}),a.jsx(CS,{isOpen:c,onClose:()=>u(!1)}),a.jsx(ES,{achievements:N.notificationQueue,onDismiss:N.dismissNotification}),a.jsx(MS,{isOpen:N.isDisplayOpen,onClose:N.closeDisplay,achievements:N.achievements}),a.jsx(PS,{}),a.jsx(FS,{}),a.jsx("style",{children:`

        
        .perspective {
          perspective: 2000px;
          perspective-origin: 50% 50%;
        }

        .digital-container {
          position: relative;
          transform-style: preserve-3d;
          transition: all 0.6s cubic-bezier(0.23, 1, 0.32, 1);
        }

        /* Removed conflicting game-container styles that were causing nesting issues */
      `})]})]})}Bp(document.getElementById("root")).render(a.jsx(p.StrictMode,{children:a.jsx(US,{})}));
