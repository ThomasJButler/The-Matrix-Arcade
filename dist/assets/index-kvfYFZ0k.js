(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function ly(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var tm={exports:{}},Jo={},nm={exports:{}},pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yi=Symbol.for("react.element"),cy=Symbol.for("react.portal"),uy=Symbol.for("react.fragment"),dy=Symbol.for("react.strict_mode"),fy=Symbol.for("react.profiler"),hy=Symbol.for("react.provider"),my=Symbol.for("react.context"),py=Symbol.for("react.forward_ref"),gy=Symbol.for("react.suspense"),yy=Symbol.for("react.memo"),xy=Symbol.for("react.lazy"),sd=Symbol.iterator;function vy(e){return e===null||typeof e!="object"?null:(e=sd&&e[sd]||e["@@iterator"],typeof e=="function"?e:null)}var rm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},sm=Object.assign,im={};function as(e,t,n){this.props=e,this.context=t,this.refs=im,this.updater=n||rm}as.prototype.isReactComponent={};as.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};as.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function om(){}om.prototype=as.prototype;function Cc(e,t,n){this.props=e,this.context=t,this.refs=im,this.updater=n||rm}var Nc=Cc.prototype=new om;Nc.constructor=Cc;sm(Nc,as.prototype);Nc.isPureReactComponent=!0;var id=Array.isArray,am=Object.prototype.hasOwnProperty,Ac={current:null},lm={key:!0,ref:!0,__self:!0,__source:!0};function cm(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)am.call(t,r)&&!lm.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:yi,type:e,key:i,ref:o,props:s,_owner:Ac.current}}function wy(e,t){return{$$typeof:yi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Pc(e){return typeof e=="object"&&e!==null&&e.$$typeof===yi}function by(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var od=/\/+/g;function Sa(e,t){return typeof e=="object"&&e!==null&&e.key!=null?by(""+e.key):t.toString(36)}function io(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case yi:case cy:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+Sa(o,0):r,id(s)?(n="",e!=null&&(n=e.replace(od,"$&/")+"/"),io(s,t,n,"",function(d){return d})):s!=null&&(Pc(s)&&(s=wy(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(od,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",id(e))for(var l=0;l<e.length;l++){i=e[l];var c=r+Sa(i,l);o+=io(i,t,n,c,s)}else if(c=vy(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=r+Sa(i,l++),o+=io(i,t,n,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ai(e,t,n){if(e==null)return e;var r=[],s=0;return io(e,r,"","",function(i){return t.call(n,i,s++)}),r}function ky(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ft={current:null},oo={transition:null},Sy={ReactCurrentDispatcher:ft,ReactCurrentBatchConfig:oo,ReactCurrentOwner:Ac};function um(){throw Error("act(...) is not supported in production builds of React.")}pe.Children={map:Ai,forEach:function(e,t,n){Ai(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ai(e,function(){t++}),t},toArray:function(e){return Ai(e,function(t){return t})||[]},only:function(e){if(!Pc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};pe.Component=as;pe.Fragment=uy;pe.Profiler=fy;pe.PureComponent=Cc;pe.StrictMode=dy;pe.Suspense=gy;pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Sy;pe.act=um;pe.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=sm({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Ac.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)am.call(t,c)&&!lm.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:yi,type:e.type,key:s,ref:i,props:r,_owner:o}};pe.createContext=function(e){return e={$$typeof:my,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:hy,_context:e},e.Consumer=e};pe.createElement=cm;pe.createFactory=function(e){var t=cm.bind(null,e);return t.type=e,t};pe.createRef=function(){return{current:null}};pe.forwardRef=function(e){return{$$typeof:py,render:e}};pe.isValidElement=Pc;pe.lazy=function(e){return{$$typeof:xy,_payload:{_status:-1,_result:e},_init:ky}};pe.memo=function(e,t){return{$$typeof:yy,type:e,compare:t===void 0?null:t}};pe.startTransition=function(e){var t=oo.transition;oo.transition={};try{e()}finally{oo.transition=t}};pe.unstable_act=um;pe.useCallback=function(e,t){return ft.current.useCallback(e,t)};pe.useContext=function(e){return ft.current.useContext(e)};pe.useDebugValue=function(){};pe.useDeferredValue=function(e){return ft.current.useDeferredValue(e)};pe.useEffect=function(e,t){return ft.current.useEffect(e,t)};pe.useId=function(){return ft.current.useId()};pe.useImperativeHandle=function(e,t,n){return ft.current.useImperativeHandle(e,t,n)};pe.useInsertionEffect=function(e,t){return ft.current.useInsertionEffect(e,t)};pe.useLayoutEffect=function(e,t){return ft.current.useLayoutEffect(e,t)};pe.useMemo=function(e,t){return ft.current.useMemo(e,t)};pe.useReducer=function(e,t,n){return ft.current.useReducer(e,t,n)};pe.useRef=function(e){return ft.current.useRef(e)};pe.useState=function(e){return ft.current.useState(e)};pe.useSyncExternalStore=function(e,t,n){return ft.current.useSyncExternalStore(e,t,n)};pe.useTransition=function(){return ft.current.useTransition()};pe.version="18.3.1";nm.exports=pe;var m=nm.exports;const ad=ly(m);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ty=m,jy=Symbol.for("react.element"),Cy=Symbol.for("react.fragment"),Ny=Object.prototype.hasOwnProperty,Ay=Ty.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Py={key:!0,ref:!0,__self:!0,__source:!0};function dm(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Ny.call(t,r)&&!Py.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:jy,type:e,key:i,ref:o,props:s,_owner:Ay.current}}Jo.Fragment=Cy;Jo.jsx=dm;Jo.jsxs=dm;tm.exports=Jo;var a=tm.exports,fm={exports:{}},Pt={},hm={exports:{}},mm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(_,P){var E=_.length;_.push(P);e:for(;0<E;){var j=E-1>>>1,K=_[j];if(0<s(K,P))_[j]=P,_[E]=K,E=j;else break e}}function n(_){return _.length===0?null:_[0]}function r(_){if(_.length===0)return null;var P=_[0],E=_.pop();if(E!==P){_[0]=E;e:for(var j=0,K=_.length,W=K>>>1;j<W;){var R=2*(j+1)-1,H=_[R],ce=R+1,re=_[ce];if(0>s(H,E))ce<K&&0>s(re,H)?(_[j]=re,_[ce]=E,j=ce):(_[j]=H,_[R]=E,j=R);else if(ce<K&&0>s(re,E))_[j]=re,_[ce]=E,j=ce;else break e}}return P}function s(_,P){var E=_.sortIndex-P.sortIndex;return E!==0?E:_.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],h=1,u=null,f=3,y=!1,b=!1,v=!1,S=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(_){for(var P=n(d);P!==null;){if(P.callback===null)r(d);else if(P.startTime<=_)r(d),P.sortIndex=P.expirationTime,t(c,P);else break;P=n(d)}}function w(_){if(v=!1,x(_),!b)if(n(c)!==null)b=!0,Z(k);else{var P=n(d);P!==null&&D(w,P.startTime-_)}}function k(_,P){b=!1,v&&(v=!1,p(A),A=-1),y=!0;var E=f;try{for(x(P),u=n(c);u!==null&&(!(u.expirationTime>P)||_&&!V());){var j=u.callback;if(typeof j=="function"){u.callback=null,f=u.priorityLevel;var K=j(u.expirationTime<=P);P=e.unstable_now(),typeof K=="function"?u.callback=K:u===n(c)&&r(c),x(P)}else r(c);u=n(c)}if(u!==null)var W=!0;else{var R=n(d);R!==null&&D(w,R.startTime-P),W=!1}return W}finally{u=null,f=E,y=!1}}var T=!1,N=null,A=-1,L=5,I=-1;function V(){return!(e.unstable_now()-I<L)}function B(){if(N!==null){var _=e.unstable_now();I=_;var P=!0;try{P=N(!0,_)}finally{P?q():(T=!1,N=null)}}else T=!1}var q;if(typeof g=="function")q=function(){g(B)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,he=oe.port2;oe.port1.onmessage=B,q=function(){he.postMessage(null)}}else q=function(){S(B,0)};function Z(_){N=_,T||(T=!0,q())}function D(_,P){A=S(function(){_(e.unstable_now())},P)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(_){_.callback=null},e.unstable_continueExecution=function(){b||y||(b=!0,Z(k))},e.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<_?Math.floor(1e3/_):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(_){switch(f){case 1:case 2:case 3:var P=3;break;default:P=f}var E=f;f=P;try{return _()}finally{f=E}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(_,P){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var E=f;f=_;try{return P()}finally{f=E}},e.unstable_scheduleCallback=function(_,P,E){var j=e.unstable_now();switch(typeof E=="object"&&E!==null?(E=E.delay,E=typeof E=="number"&&0<E?j+E:j):E=j,_){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=E+K,_={id:h++,callback:P,priorityLevel:_,startTime:E,expirationTime:K,sortIndex:-1},E>j?(_.sortIndex=E,t(d,_),n(c)===null&&_===n(d)&&(v?(p(A),A=-1):v=!0,D(w,E-j))):(_.sortIndex=K,t(c,_),b||y||(b=!0,Z(k))),_},e.unstable_shouldYield=V,e.unstable_wrapCallback=function(_){var P=f;return function(){var E=f;f=P;try{return _.apply(this,arguments)}finally{f=E}}}})(mm);hm.exports=mm;var Ey=hm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _y=m,Nt=Ey;function G(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var pm=new Set,qs={};function vr(e,t){Qr(e,t),Qr(e+"Capture",t)}function Qr(e,t){for(qs[e]=t,e=0;e<t.length;e++)pm.add(t[e])}var gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gl=Object.prototype.hasOwnProperty,My=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ld={},cd={};function Ry(e){return gl.call(cd,e)?!0:gl.call(ld,e)?!1:My.test(e)?cd[e]=!0:(ld[e]=!0,!1)}function Iy(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Dy(e,t,n,r){if(t===null||typeof t>"u"||Iy(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ht(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var nt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){nt[e]=new ht(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];nt[t]=new ht(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){nt[e]=new ht(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){nt[e]=new ht(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){nt[e]=new ht(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){nt[e]=new ht(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){nt[e]=new ht(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){nt[e]=new ht(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){nt[e]=new ht(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ec=/[\-:]([a-z])/g;function _c(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ec,_c);nt[t]=new ht(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ec,_c);nt[t]=new ht(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ec,_c);nt[t]=new ht(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){nt[e]=new ht(e,1,!1,e.toLowerCase(),null,!1,!1)});nt.xlinkHref=new ht("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){nt[e]=new ht(e,1,!1,e.toLowerCase(),null,!0,!0)});function Mc(e,t,n,r){var s=nt.hasOwnProperty(t)?nt[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Dy(t,n,s,r)&&(n=null),r||s===null?Ry(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var kn=_y.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Pi=Symbol.for("react.element"),Nr=Symbol.for("react.portal"),Ar=Symbol.for("react.fragment"),Rc=Symbol.for("react.strict_mode"),yl=Symbol.for("react.profiler"),gm=Symbol.for("react.provider"),ym=Symbol.for("react.context"),Ic=Symbol.for("react.forward_ref"),xl=Symbol.for("react.suspense"),vl=Symbol.for("react.suspense_list"),Dc=Symbol.for("react.memo"),Nn=Symbol.for("react.lazy"),xm=Symbol.for("react.offscreen"),ud=Symbol.iterator;function hs(e){return e===null||typeof e!="object"?null:(e=ud&&e[ud]||e["@@iterator"],typeof e=="function"?e:null)}var Oe=Object.assign,Ta;function Cs(e){if(Ta===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ta=t&&t[1]||""}return`
`+Ta+e}var ja=!1;function Ca(e,t){if(!e||ja)return"";ja=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{ja=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Cs(e):""}function Ly(e){switch(e.tag){case 5:return Cs(e.type);case 16:return Cs("Lazy");case 13:return Cs("Suspense");case 19:return Cs("SuspenseList");case 0:case 2:case 15:return e=Ca(e.type,!1),e;case 11:return e=Ca(e.type.render,!1),e;case 1:return e=Ca(e.type,!0),e;default:return""}}function wl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ar:return"Fragment";case Nr:return"Portal";case yl:return"Profiler";case Rc:return"StrictMode";case xl:return"Suspense";case vl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ym:return(e.displayName||"Context")+".Consumer";case gm:return(e._context.displayName||"Context")+".Provider";case Ic:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Dc:return t=e.displayName||null,t!==null?t:wl(e.type)||"Memo";case Nn:t=e._payload,e=e._init;try{return wl(e(t))}catch{}}return null}function Vy(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return wl(t);case 8:return t===Rc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Bn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function vm(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Oy(e){var t=vm(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ei(e){e._valueTracker||(e._valueTracker=Oy(e))}function wm(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=vm(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function bo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function bl(e,t){var n=t.checked;return Oe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function dd(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Bn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function bm(e,t){t=t.checked,t!=null&&Mc(e,"checked",t,!1)}function kl(e,t){bm(e,t);var n=Bn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Sl(e,t.type,n):t.hasOwnProperty("defaultValue")&&Sl(e,t.type,Bn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function fd(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Sl(e,t,n){(t!=="number"||bo(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ns=Array.isArray;function Hr(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Bn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Tl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(G(91));return Oe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function hd(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(G(92));if(Ns(n)){if(1<n.length)throw Error(G(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Bn(n)}}function km(e,t){var n=Bn(t.value),r=Bn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function md(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Sm(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function jl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Sm(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var _i,Tm=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(_i=_i||document.createElement("div"),_i.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=_i.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ks(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Is={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Fy=["Webkit","ms","Moz","O"];Object.keys(Is).forEach(function(e){Fy.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Is[t]=Is[e]})});function jm(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Is.hasOwnProperty(e)&&Is[e]?(""+t).trim():t+"px"}function Cm(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=jm(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var zy=Oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Cl(e,t){if(t){if(zy[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(G(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(G(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(G(61))}if(t.style!=null&&typeof t.style!="object")throw Error(G(62))}}function Nl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Al=null;function Lc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Pl=null,$r=null,Gr=null;function pd(e){if(e=wi(e)){if(typeof Pl!="function")throw Error(G(280));var t=e.stateNode;t&&(t=sa(t),Pl(e.stateNode,e.type,t))}}function Nm(e){$r?Gr?Gr.push(e):Gr=[e]:$r=e}function Am(){if($r){var e=$r,t=Gr;if(Gr=$r=null,pd(e),t)for(e=0;e<t.length;e++)pd(t[e])}}function Pm(e,t){return e(t)}function Em(){}var Na=!1;function _m(e,t,n){if(Na)return e(t,n);Na=!0;try{return Pm(e,t,n)}finally{Na=!1,($r!==null||Gr!==null)&&(Em(),Am())}}function Ys(e,t){var n=e.stateNode;if(n===null)return null;var r=sa(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(G(231,t,typeof n));return n}var El=!1;if(gn)try{var ms={};Object.defineProperty(ms,"passive",{get:function(){El=!0}}),window.addEventListener("test",ms,ms),window.removeEventListener("test",ms,ms)}catch{El=!1}function By(e,t,n,r,s,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(h){this.onError(h)}}var Ds=!1,ko=null,So=!1,_l=null,Uy={onError:function(e){Ds=!0,ko=e}};function Wy(e,t,n,r,s,i,o,l,c){Ds=!1,ko=null,By.apply(Uy,arguments)}function Hy(e,t,n,r,s,i,o,l,c){if(Wy.apply(this,arguments),Ds){if(Ds){var d=ko;Ds=!1,ko=null}else throw Error(G(198));So||(So=!0,_l=d)}}function wr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Mm(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function gd(e){if(wr(e)!==e)throw Error(G(188))}function $y(e){var t=e.alternate;if(!t){if(t=wr(e),t===null)throw Error(G(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return gd(s),e;if(i===r)return gd(s),t;i=i.sibling}throw Error(G(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(G(189))}}if(n.alternate!==r)throw Error(G(190))}if(n.tag!==3)throw Error(G(188));return n.stateNode.current===n?e:t}function Rm(e){return e=$y(e),e!==null?Im(e):null}function Im(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Im(e);if(t!==null)return t;e=e.sibling}return null}var Dm=Nt.unstable_scheduleCallback,yd=Nt.unstable_cancelCallback,Gy=Nt.unstable_shouldYield,qy=Nt.unstable_requestPaint,Ue=Nt.unstable_now,Ky=Nt.unstable_getCurrentPriorityLevel,Vc=Nt.unstable_ImmediatePriority,Lm=Nt.unstable_UserBlockingPriority,To=Nt.unstable_NormalPriority,Yy=Nt.unstable_LowPriority,Vm=Nt.unstable_IdlePriority,ea=null,tn=null;function Qy(e){if(tn&&typeof tn.onCommitFiberRoot=="function")try{tn.onCommitFiberRoot(ea,e,void 0,(e.current.flags&128)===128)}catch{}}var Gt=Math.clz32?Math.clz32:Jy,Xy=Math.log,Zy=Math.LN2;function Jy(e){return e>>>=0,e===0?32:31-(Xy(e)/Zy|0)|0}var Mi=64,Ri=4194304;function As(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function jo(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=As(l):(i&=o,i!==0&&(r=As(i)))}else o=n&~s,o!==0?r=As(o):i!==0&&(r=As(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Gt(t),s=1<<n,r|=e[n],t&=~s;return r}function ex(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tx(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Gt(i),l=1<<o,c=s[o];c===-1?(!(l&n)||l&r)&&(s[o]=ex(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function Ml(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Om(){var e=Mi;return Mi<<=1,!(Mi&4194240)&&(Mi=64),e}function Aa(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function xi(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Gt(t),e[t]=n}function nx(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Gt(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function Oc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Gt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Te=0;function Fm(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var zm,Fc,Bm,Um,Wm,Rl=!1,Ii=[],Rn=null,In=null,Dn=null,Qs=new Map,Xs=new Map,Pn=[],rx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xd(e,t){switch(e){case"focusin":case"focusout":Rn=null;break;case"dragenter":case"dragleave":In=null;break;case"mouseover":case"mouseout":Dn=null;break;case"pointerover":case"pointerout":Qs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xs.delete(t.pointerId)}}function ps(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=wi(t),t!==null&&Fc(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function sx(e,t,n,r,s){switch(t){case"focusin":return Rn=ps(Rn,e,t,n,r,s),!0;case"dragenter":return In=ps(In,e,t,n,r,s),!0;case"mouseover":return Dn=ps(Dn,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Qs.set(i,ps(Qs.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Xs.set(i,ps(Xs.get(i)||null,e,t,n,r,s)),!0}return!1}function Hm(e){var t=ar(e.target);if(t!==null){var n=wr(t);if(n!==null){if(t=n.tag,t===13){if(t=Mm(n),t!==null){e.blockedOn=t,Wm(e.priority,function(){Bm(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ao(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Il(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Al=r,n.target.dispatchEvent(r),Al=null}else return t=wi(n),t!==null&&Fc(t),e.blockedOn=n,!1;t.shift()}return!0}function vd(e,t,n){ao(e)&&n.delete(t)}function ix(){Rl=!1,Rn!==null&&ao(Rn)&&(Rn=null),In!==null&&ao(In)&&(In=null),Dn!==null&&ao(Dn)&&(Dn=null),Qs.forEach(vd),Xs.forEach(vd)}function gs(e,t){e.blockedOn===t&&(e.blockedOn=null,Rl||(Rl=!0,Nt.unstable_scheduleCallback(Nt.unstable_NormalPriority,ix)))}function Zs(e){function t(s){return gs(s,e)}if(0<Ii.length){gs(Ii[0],e);for(var n=1;n<Ii.length;n++){var r=Ii[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Rn!==null&&gs(Rn,e),In!==null&&gs(In,e),Dn!==null&&gs(Dn,e),Qs.forEach(t),Xs.forEach(t),n=0;n<Pn.length;n++)r=Pn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Pn.length&&(n=Pn[0],n.blockedOn===null);)Hm(n),n.blockedOn===null&&Pn.shift()}var qr=kn.ReactCurrentBatchConfig,Co=!0;function ox(e,t,n,r){var s=Te,i=qr.transition;qr.transition=null;try{Te=1,zc(e,t,n,r)}finally{Te=s,qr.transition=i}}function ax(e,t,n,r){var s=Te,i=qr.transition;qr.transition=null;try{Te=4,zc(e,t,n,r)}finally{Te=s,qr.transition=i}}function zc(e,t,n,r){if(Co){var s=Il(e,t,n,r);if(s===null)Oa(e,t,r,No,n),xd(e,r);else if(sx(s,e,t,n,r))r.stopPropagation();else if(xd(e,r),t&4&&-1<rx.indexOf(e)){for(;s!==null;){var i=wi(s);if(i!==null&&zm(i),i=Il(e,t,n,r),i===null&&Oa(e,t,r,No,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Oa(e,t,r,null,n)}}var No=null;function Il(e,t,n,r){if(No=null,e=Lc(r),e=ar(e),e!==null)if(t=wr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Mm(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return No=e,null}function $m(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ky()){case Vc:return 1;case Lm:return 4;case To:case Yy:return 16;case Vm:return 536870912;default:return 16}default:return 16}}var _n=null,Bc=null,lo=null;function Gm(){if(lo)return lo;var e,t=Bc,n=t.length,r,s="value"in _n?_n.value:_n.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return lo=s.slice(e,1<r?1-r:void 0)}function co(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Di(){return!0}function wd(){return!1}function Et(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Di:wd,this.isPropagationStopped=wd,this}return Oe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Di)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Di)},persist:function(){},isPersistent:Di}),t}var ls={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Uc=Et(ls),vi=Oe({},ls,{view:0,detail:0}),lx=Et(vi),Pa,Ea,ys,ta=Oe({},vi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ys&&(ys&&e.type==="mousemove"?(Pa=e.screenX-ys.screenX,Ea=e.screenY-ys.screenY):Ea=Pa=0,ys=e),Pa)},movementY:function(e){return"movementY"in e?e.movementY:Ea}}),bd=Et(ta),cx=Oe({},ta,{dataTransfer:0}),ux=Et(cx),dx=Oe({},vi,{relatedTarget:0}),_a=Et(dx),fx=Oe({},ls,{animationName:0,elapsedTime:0,pseudoElement:0}),hx=Et(fx),mx=Oe({},ls,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),px=Et(mx),gx=Oe({},ls,{data:0}),kd=Et(gx),yx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wx(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=vx[e])?!!t[e]:!1}function Wc(){return wx}var bx=Oe({},vi,{key:function(e){if(e.key){var t=yx[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=co(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?xx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wc,charCode:function(e){return e.type==="keypress"?co(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?co(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),kx=Et(bx),Sx=Oe({},ta,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sd=Et(Sx),Tx=Oe({},vi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wc}),jx=Et(Tx),Cx=Oe({},ls,{propertyName:0,elapsedTime:0,pseudoElement:0}),Nx=Et(Cx),Ax=Oe({},ta,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Px=Et(Ax),Ex=[9,13,27,32],Hc=gn&&"CompositionEvent"in window,Ls=null;gn&&"documentMode"in document&&(Ls=document.documentMode);var _x=gn&&"TextEvent"in window&&!Ls,qm=gn&&(!Hc||Ls&&8<Ls&&11>=Ls),Td=" ",jd=!1;function Km(e,t){switch(e){case"keyup":return Ex.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ym(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Pr=!1;function Mx(e,t){switch(e){case"compositionend":return Ym(t);case"keypress":return t.which!==32?null:(jd=!0,Td);case"textInput":return e=t.data,e===Td&&jd?null:e;default:return null}}function Rx(e,t){if(Pr)return e==="compositionend"||!Hc&&Km(e,t)?(e=Gm(),lo=Bc=_n=null,Pr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return qm&&t.locale!=="ko"?null:t.data;default:return null}}var Ix={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ix[e.type]:t==="textarea"}function Qm(e,t,n,r){Nm(r),t=Ao(t,"onChange"),0<t.length&&(n=new Uc("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Vs=null,Js=null;function Dx(e){a0(e,0)}function na(e){var t=Mr(e);if(wm(t))return e}function Lx(e,t){if(e==="change")return t}var Xm=!1;if(gn){var Ma;if(gn){var Ra="oninput"in document;if(!Ra){var Nd=document.createElement("div");Nd.setAttribute("oninput","return;"),Ra=typeof Nd.oninput=="function"}Ma=Ra}else Ma=!1;Xm=Ma&&(!document.documentMode||9<document.documentMode)}function Ad(){Vs&&(Vs.detachEvent("onpropertychange",Zm),Js=Vs=null)}function Zm(e){if(e.propertyName==="value"&&na(Js)){var t=[];Qm(t,Js,e,Lc(e)),_m(Dx,t)}}function Vx(e,t,n){e==="focusin"?(Ad(),Vs=t,Js=n,Vs.attachEvent("onpropertychange",Zm)):e==="focusout"&&Ad()}function Ox(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return na(Js)}function Fx(e,t){if(e==="click")return na(t)}function zx(e,t){if(e==="input"||e==="change")return na(t)}function Bx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Kt=typeof Object.is=="function"?Object.is:Bx;function ei(e,t){if(Kt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!gl.call(t,s)||!Kt(e[s],t[s]))return!1}return!0}function Pd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ed(e,t){var n=Pd(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Pd(n)}}function Jm(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Jm(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function e0(){for(var e=window,t=bo();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=bo(e.document)}return t}function $c(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Ux(e){var t=e0(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Jm(n.ownerDocument.documentElement,n)){if(r!==null&&$c(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=Ed(n,i);var o=Ed(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Wx=gn&&"documentMode"in document&&11>=document.documentMode,Er=null,Dl=null,Os=null,Ll=!1;function _d(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ll||Er==null||Er!==bo(r)||(r=Er,"selectionStart"in r&&$c(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Os&&ei(Os,r)||(Os=r,r=Ao(Dl,"onSelect"),0<r.length&&(t=new Uc("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Er)))}function Li(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:Li("Animation","AnimationEnd"),animationiteration:Li("Animation","AnimationIteration"),animationstart:Li("Animation","AnimationStart"),transitionend:Li("Transition","TransitionEnd")},Ia={},t0={};gn&&(t0=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);function ra(e){if(Ia[e])return Ia[e];if(!_r[e])return e;var t=_r[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in t0)return Ia[e]=t[n];return e}var n0=ra("animationend"),r0=ra("animationiteration"),s0=ra("animationstart"),i0=ra("transitionend"),o0=new Map,Md="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qn(e,t){o0.set(e,t),vr(t,[e])}for(var Da=0;Da<Md.length;Da++){var La=Md[Da],Hx=La.toLowerCase(),$x=La[0].toUpperCase()+La.slice(1);qn(Hx,"on"+$x)}qn(n0,"onAnimationEnd");qn(r0,"onAnimationIteration");qn(s0,"onAnimationStart");qn("dblclick","onDoubleClick");qn("focusin","onFocus");qn("focusout","onBlur");qn(i0,"onTransitionEnd");Qr("onMouseEnter",["mouseout","mouseover"]);Qr("onMouseLeave",["mouseout","mouseover"]);Qr("onPointerEnter",["pointerout","pointerover"]);Qr("onPointerLeave",["pointerout","pointerover"]);vr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vr("onBeforeInput",["compositionend","keypress","textInput","paste"]);vr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ps="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gx=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ps));function Rd(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Hy(r,t,void 0,e),e.currentTarget=null}function a0(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;Rd(s,l,d),i=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;Rd(s,l,d),i=c}}}if(So)throw e=_l,So=!1,_l=null,e}function Ee(e,t){var n=t[Bl];n===void 0&&(n=t[Bl]=new Set);var r=e+"__bubble";n.has(r)||(l0(t,e,2,!1),n.add(r))}function Va(e,t,n){var r=0;t&&(r|=4),l0(n,e,r,t)}var Vi="_reactListening"+Math.random().toString(36).slice(2);function ti(e){if(!e[Vi]){e[Vi]=!0,pm.forEach(function(n){n!=="selectionchange"&&(Gx.has(n)||Va(n,!1,e),Va(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Vi]||(t[Vi]=!0,Va("selectionchange",!1,t))}}function l0(e,t,n,r){switch($m(t)){case 1:var s=ox;break;case 4:s=ax;break;default:s=zc}n=s.bind(null,t,n,e),s=void 0,!El||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Oa(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=ar(l),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}l=l.parentNode}}r=r.return}_m(function(){var d=i,h=Lc(n),u=[];e:{var f=o0.get(e);if(f!==void 0){var y=Uc,b=e;switch(e){case"keypress":if(co(n)===0)break e;case"keydown":case"keyup":y=kx;break;case"focusin":b="focus",y=_a;break;case"focusout":b="blur",y=_a;break;case"beforeblur":case"afterblur":y=_a;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=ux;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=jx;break;case n0:case r0:case s0:y=hx;break;case i0:y=Nx;break;case"scroll":y=lx;break;case"wheel":y=Px;break;case"copy":case"cut":case"paste":y=px;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Sd}var v=(t&4)!==0,S=!v&&e==="scroll",p=v?f!==null?f+"Capture":null:f;v=[];for(var g=d,x;g!==null;){x=g;var w=x.stateNode;if(x.tag===5&&w!==null&&(x=w,p!==null&&(w=Ys(g,p),w!=null&&v.push(ni(g,w,x)))),S)break;g=g.return}0<v.length&&(f=new y(f,b,null,n,h),u.push({event:f,listeners:v}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",f&&n!==Al&&(b=n.relatedTarget||n.fromElement)&&(ar(b)||b[yn]))break e;if((y||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,y?(b=n.relatedTarget||n.toElement,y=d,b=b?ar(b):null,b!==null&&(S=wr(b),b!==S||b.tag!==5&&b.tag!==6)&&(b=null)):(y=null,b=d),y!==b)){if(v=bd,w="onMouseLeave",p="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(v=Sd,w="onPointerLeave",p="onPointerEnter",g="pointer"),S=y==null?f:Mr(y),x=b==null?f:Mr(b),f=new v(w,g+"leave",y,n,h),f.target=S,f.relatedTarget=x,w=null,ar(h)===d&&(v=new v(p,g+"enter",b,n,h),v.target=x,v.relatedTarget=S,w=v),S=w,y&&b)t:{for(v=y,p=b,g=0,x=v;x;x=kr(x))g++;for(x=0,w=p;w;w=kr(w))x++;for(;0<g-x;)v=kr(v),g--;for(;0<x-g;)p=kr(p),x--;for(;g--;){if(v===p||p!==null&&v===p.alternate)break t;v=kr(v),p=kr(p)}v=null}else v=null;y!==null&&Id(u,f,y,v,!1),b!==null&&S!==null&&Id(u,S,b,v,!0)}}e:{if(f=d?Mr(d):window,y=f.nodeName&&f.nodeName.toLowerCase(),y==="select"||y==="input"&&f.type==="file")var k=Lx;else if(Cd(f))if(Xm)k=zx;else{k=Ox;var T=Vx}else(y=f.nodeName)&&y.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=Fx);if(k&&(k=k(e,d))){Qm(u,k,n,h);break e}T&&T(e,f,d),e==="focusout"&&(T=f._wrapperState)&&T.controlled&&f.type==="number"&&Sl(f,"number",f.value)}switch(T=d?Mr(d):window,e){case"focusin":(Cd(T)||T.contentEditable==="true")&&(Er=T,Dl=d,Os=null);break;case"focusout":Os=Dl=Er=null;break;case"mousedown":Ll=!0;break;case"contextmenu":case"mouseup":case"dragend":Ll=!1,_d(u,n,h);break;case"selectionchange":if(Wx)break;case"keydown":case"keyup":_d(u,n,h)}var N;if(Hc)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Pr?Km(e,n)&&(A="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(qm&&n.locale!=="ko"&&(Pr||A!=="onCompositionStart"?A==="onCompositionEnd"&&Pr&&(N=Gm()):(_n=h,Bc="value"in _n?_n.value:_n.textContent,Pr=!0)),T=Ao(d,A),0<T.length&&(A=new kd(A,e,null,n,h),u.push({event:A,listeners:T}),N?A.data=N:(N=Ym(n),N!==null&&(A.data=N)))),(N=_x?Mx(e,n):Rx(e,n))&&(d=Ao(d,"onBeforeInput"),0<d.length&&(h=new kd("onBeforeInput","beforeinput",null,n,h),u.push({event:h,listeners:d}),h.data=N))}a0(u,t)})}function ni(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ao(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ys(e,n),i!=null&&r.unshift(ni(e,i,s)),i=Ys(e,t),i!=null&&r.push(ni(e,i,s))),e=e.return}return r}function kr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Id(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&d!==null&&(l=d,s?(c=Ys(n,i),c!=null&&o.unshift(ni(n,c,l))):s||(c=Ys(n,i),c!=null&&o.push(ni(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var qx=/\r\n?/g,Kx=/\u0000|\uFFFD/g;function Dd(e){return(typeof e=="string"?e:""+e).replace(qx,`
`).replace(Kx,"")}function Oi(e,t,n){if(t=Dd(t),Dd(e)!==t&&n)throw Error(G(425))}function Po(){}var Vl=null,Ol=null;function Fl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var zl=typeof setTimeout=="function"?setTimeout:void 0,Yx=typeof clearTimeout=="function"?clearTimeout:void 0,Ld=typeof Promise=="function"?Promise:void 0,Qx=typeof queueMicrotask=="function"?queueMicrotask:typeof Ld<"u"?function(e){return Ld.resolve(null).then(e).catch(Xx)}:zl;function Xx(e){setTimeout(function(){throw e})}function Fa(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Zs(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Zs(t)}function Ln(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Vd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var cs=Math.random().toString(36).slice(2),en="__reactFiber$"+cs,ri="__reactProps$"+cs,yn="__reactContainer$"+cs,Bl="__reactEvents$"+cs,Zx="__reactListeners$"+cs,Jx="__reactHandles$"+cs;function ar(e){var t=e[en];if(t)return t;for(var n=e.parentNode;n;){if(t=n[yn]||n[en]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Vd(e);e!==null;){if(n=e[en])return n;e=Vd(e)}return t}e=n,n=e.parentNode}return null}function wi(e){return e=e[en]||e[yn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Mr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(G(33))}function sa(e){return e[ri]||null}var Ul=[],Rr=-1;function Kn(e){return{current:e}}function _e(e){0>Rr||(e.current=Ul[Rr],Ul[Rr]=null,Rr--)}function Pe(e,t){Rr++,Ul[Rr]=e.current,e.current=t}var Un={},ct=Kn(Un),xt=Kn(!1),mr=Un;function Xr(e,t){var n=e.type.contextTypes;if(!n)return Un;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function vt(e){return e=e.childContextTypes,e!=null}function Eo(){_e(xt),_e(ct)}function Od(e,t,n){if(ct.current!==Un)throw Error(G(168));Pe(ct,t),Pe(xt,n)}function c0(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(G(108,Vy(e)||"Unknown",s));return Oe({},n,r)}function _o(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Un,mr=ct.current,Pe(ct,e),Pe(xt,xt.current),!0}function Fd(e,t,n){var r=e.stateNode;if(!r)throw Error(G(169));n?(e=c0(e,t,mr),r.__reactInternalMemoizedMergedChildContext=e,_e(xt),_e(ct),Pe(ct,e)):_e(xt),Pe(xt,n)}var un=null,ia=!1,za=!1;function u0(e){un===null?un=[e]:un.push(e)}function ev(e){ia=!0,u0(e)}function Yn(){if(!za&&un!==null){za=!0;var e=0,t=Te;try{var n=un;for(Te=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}un=null,ia=!1}catch(s){throw un!==null&&(un=un.slice(e+1)),Dm(Vc,Yn),s}finally{Te=t,za=!1}}return null}var Ir=[],Dr=0,Mo=null,Ro=0,Rt=[],It=0,pr=null,dn=1,fn="";function nr(e,t){Ir[Dr++]=Ro,Ir[Dr++]=Mo,Mo=e,Ro=t}function d0(e,t,n){Rt[It++]=dn,Rt[It++]=fn,Rt[It++]=pr,pr=e;var r=dn;e=fn;var s=32-Gt(r)-1;r&=~(1<<s),n+=1;var i=32-Gt(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,dn=1<<32-Gt(t)+s|n<<s|r,fn=i+e}else dn=1<<i|n<<s|r,fn=e}function Gc(e){e.return!==null&&(nr(e,1),d0(e,1,0))}function qc(e){for(;e===Mo;)Mo=Ir[--Dr],Ir[Dr]=null,Ro=Ir[--Dr],Ir[Dr]=null;for(;e===pr;)pr=Rt[--It],Rt[It]=null,fn=Rt[--It],Rt[It]=null,dn=Rt[--It],Rt[It]=null}var jt=null,Tt=null,Re=!1,$t=null;function f0(e,t){var n=Dt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function zd(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,jt=e,Tt=Ln(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,jt=e,Tt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=pr!==null?{id:dn,overflow:fn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Dt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,jt=e,Tt=null,!0):!1;default:return!1}}function Wl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Hl(e){if(Re){var t=Tt;if(t){var n=t;if(!zd(e,t)){if(Wl(e))throw Error(G(418));t=Ln(n.nextSibling);var r=jt;t&&zd(e,t)?f0(r,n):(e.flags=e.flags&-4097|2,Re=!1,jt=e)}}else{if(Wl(e))throw Error(G(418));e.flags=e.flags&-4097|2,Re=!1,jt=e}}}function Bd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;jt=e}function Fi(e){if(e!==jt)return!1;if(!Re)return Bd(e),Re=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Fl(e.type,e.memoizedProps)),t&&(t=Tt)){if(Wl(e))throw h0(),Error(G(418));for(;t;)f0(e,t),t=Ln(t.nextSibling)}if(Bd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(G(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Tt=Ln(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Tt=null}}else Tt=jt?Ln(e.stateNode.nextSibling):null;return!0}function h0(){for(var e=Tt;e;)e=Ln(e.nextSibling)}function Zr(){Tt=jt=null,Re=!1}function Kc(e){$t===null?$t=[e]:$t.push(e)}var tv=kn.ReactCurrentBatchConfig;function xs(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(G(309));var r=n.stateNode}if(!r)throw Error(G(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(G(284));if(!n._owner)throw Error(G(290,e))}return e}function zi(e,t){throw e=Object.prototype.toString.call(t),Error(G(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ud(e){var t=e._init;return t(e._payload)}function m0(e){function t(p,g){if(e){var x=p.deletions;x===null?(p.deletions=[g],p.flags|=16):x.push(g)}}function n(p,g){if(!e)return null;for(;g!==null;)t(p,g),g=g.sibling;return null}function r(p,g){for(p=new Map;g!==null;)g.key!==null?p.set(g.key,g):p.set(g.index,g),g=g.sibling;return p}function s(p,g){return p=zn(p,g),p.index=0,p.sibling=null,p}function i(p,g,x){return p.index=x,e?(x=p.alternate,x!==null?(x=x.index,x<g?(p.flags|=2,g):x):(p.flags|=2,g)):(p.flags|=1048576,g)}function o(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,g,x,w){return g===null||g.tag!==6?(g=qa(x,p.mode,w),g.return=p,g):(g=s(g,x),g.return=p,g)}function c(p,g,x,w){var k=x.type;return k===Ar?h(p,g,x.props.children,w,x.key):g!==null&&(g.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Nn&&Ud(k)===g.type)?(w=s(g,x.props),w.ref=xs(p,g,x),w.return=p,w):(w=yo(x.type,x.key,x.props,null,p.mode,w),w.ref=xs(p,g,x),w.return=p,w)}function d(p,g,x,w){return g===null||g.tag!==4||g.stateNode.containerInfo!==x.containerInfo||g.stateNode.implementation!==x.implementation?(g=Ka(x,p.mode,w),g.return=p,g):(g=s(g,x.children||[]),g.return=p,g)}function h(p,g,x,w,k){return g===null||g.tag!==7?(g=fr(x,p.mode,w,k),g.return=p,g):(g=s(g,x),g.return=p,g)}function u(p,g,x){if(typeof g=="string"&&g!==""||typeof g=="number")return g=qa(""+g,p.mode,x),g.return=p,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Pi:return x=yo(g.type,g.key,g.props,null,p.mode,x),x.ref=xs(p,null,g),x.return=p,x;case Nr:return g=Ka(g,p.mode,x),g.return=p,g;case Nn:var w=g._init;return u(p,w(g._payload),x)}if(Ns(g)||hs(g))return g=fr(g,p.mode,x,null),g.return=p,g;zi(p,g)}return null}function f(p,g,x,w){var k=g!==null?g.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return k!==null?null:l(p,g,""+x,w);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Pi:return x.key===k?c(p,g,x,w):null;case Nr:return x.key===k?d(p,g,x,w):null;case Nn:return k=x._init,f(p,g,k(x._payload),w)}if(Ns(x)||hs(x))return k!==null?null:h(p,g,x,w,null);zi(p,x)}return null}function y(p,g,x,w,k){if(typeof w=="string"&&w!==""||typeof w=="number")return p=p.get(x)||null,l(g,p,""+w,k);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Pi:return p=p.get(w.key===null?x:w.key)||null,c(g,p,w,k);case Nr:return p=p.get(w.key===null?x:w.key)||null,d(g,p,w,k);case Nn:var T=w._init;return y(p,g,x,T(w._payload),k)}if(Ns(w)||hs(w))return p=p.get(x)||null,h(g,p,w,k,null);zi(g,w)}return null}function b(p,g,x,w){for(var k=null,T=null,N=g,A=g=0,L=null;N!==null&&A<x.length;A++){N.index>A?(L=N,N=null):L=N.sibling;var I=f(p,N,x[A],w);if(I===null){N===null&&(N=L);break}e&&N&&I.alternate===null&&t(p,N),g=i(I,g,A),T===null?k=I:T.sibling=I,T=I,N=L}if(A===x.length)return n(p,N),Re&&nr(p,A),k;if(N===null){for(;A<x.length;A++)N=u(p,x[A],w),N!==null&&(g=i(N,g,A),T===null?k=N:T.sibling=N,T=N);return Re&&nr(p,A),k}for(N=r(p,N);A<x.length;A++)L=y(N,p,A,x[A],w),L!==null&&(e&&L.alternate!==null&&N.delete(L.key===null?A:L.key),g=i(L,g,A),T===null?k=L:T.sibling=L,T=L);return e&&N.forEach(function(V){return t(p,V)}),Re&&nr(p,A),k}function v(p,g,x,w){var k=hs(x);if(typeof k!="function")throw Error(G(150));if(x=k.call(x),x==null)throw Error(G(151));for(var T=k=null,N=g,A=g=0,L=null,I=x.next();N!==null&&!I.done;A++,I=x.next()){N.index>A?(L=N,N=null):L=N.sibling;var V=f(p,N,I.value,w);if(V===null){N===null&&(N=L);break}e&&N&&V.alternate===null&&t(p,N),g=i(V,g,A),T===null?k=V:T.sibling=V,T=V,N=L}if(I.done)return n(p,N),Re&&nr(p,A),k;if(N===null){for(;!I.done;A++,I=x.next())I=u(p,I.value,w),I!==null&&(g=i(I,g,A),T===null?k=I:T.sibling=I,T=I);return Re&&nr(p,A),k}for(N=r(p,N);!I.done;A++,I=x.next())I=y(N,p,A,I.value,w),I!==null&&(e&&I.alternate!==null&&N.delete(I.key===null?A:I.key),g=i(I,g,A),T===null?k=I:T.sibling=I,T=I);return e&&N.forEach(function(B){return t(p,B)}),Re&&nr(p,A),k}function S(p,g,x,w){if(typeof x=="object"&&x!==null&&x.type===Ar&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Pi:e:{for(var k=x.key,T=g;T!==null;){if(T.key===k){if(k=x.type,k===Ar){if(T.tag===7){n(p,T.sibling),g=s(T,x.props.children),g.return=p,p=g;break e}}else if(T.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Nn&&Ud(k)===T.type){n(p,T.sibling),g=s(T,x.props),g.ref=xs(p,T,x),g.return=p,p=g;break e}n(p,T);break}else t(p,T);T=T.sibling}x.type===Ar?(g=fr(x.props.children,p.mode,w,x.key),g.return=p,p=g):(w=yo(x.type,x.key,x.props,null,p.mode,w),w.ref=xs(p,g,x),w.return=p,p=w)}return o(p);case Nr:e:{for(T=x.key;g!==null;){if(g.key===T)if(g.tag===4&&g.stateNode.containerInfo===x.containerInfo&&g.stateNode.implementation===x.implementation){n(p,g.sibling),g=s(g,x.children||[]),g.return=p,p=g;break e}else{n(p,g);break}else t(p,g);g=g.sibling}g=Ka(x,p.mode,w),g.return=p,p=g}return o(p);case Nn:return T=x._init,S(p,g,T(x._payload),w)}if(Ns(x))return b(p,g,x,w);if(hs(x))return v(p,g,x,w);zi(p,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,g!==null&&g.tag===6?(n(p,g.sibling),g=s(g,x),g.return=p,p=g):(n(p,g),g=qa(x,p.mode,w),g.return=p,p=g),o(p)):n(p,g)}return S}var Jr=m0(!0),p0=m0(!1),Io=Kn(null),Do=null,Lr=null,Yc=null;function Qc(){Yc=Lr=Do=null}function Xc(e){var t=Io.current;_e(Io),e._currentValue=t}function $l(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Kr(e,t){Do=e,Yc=Lr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(yt=!0),e.firstContext=null)}function Vt(e){var t=e._currentValue;if(Yc!==e)if(e={context:e,memoizedValue:t,next:null},Lr===null){if(Do===null)throw Error(G(308));Lr=e,Do.dependencies={lanes:0,firstContext:e}}else Lr=Lr.next=e;return t}var lr=null;function Zc(e){lr===null?lr=[e]:lr.push(e)}function g0(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Zc(t)):(n.next=s.next,s.next=n),t.interleaved=n,xn(e,r)}function xn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var An=!1;function Jc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function y0(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function hn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,be&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,xn(e,n)}return s=r.interleaved,s===null?(t.next=t,Zc(r)):(t.next=s.next,s.next=t),r.interleaved=t,xn(e,n)}function uo(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Oc(e,n)}}function Wd(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Lo(e,t,n,r){var s=e.updateQueue;An=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var h=e.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==o&&(l===null?h.firstBaseUpdate=d:l.next=d,h.lastBaseUpdate=c))}if(i!==null){var u=s.baseState;o=0,h=d=c=null,l=i;do{var f=l.lane,y=l.eventTime;if((r&f)===f){h!==null&&(h=h.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var b=e,v=l;switch(f=t,y=n,v.tag){case 1:if(b=v.payload,typeof b=="function"){u=b.call(y,u,f);break e}u=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=v.payload,f=typeof b=="function"?b.call(y,u,f):b,f==null)break e;u=Oe({},u,f);break e;case 2:An=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else y={eventTime:y,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(d=h=y,c=u):h=h.next=y,o|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(h===null&&(c=u),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=h,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);yr|=o,e.lanes=o,e.memoizedState=u}}function Hd(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(G(191,s));s.call(r)}}}var bi={},nn=Kn(bi),si=Kn(bi),ii=Kn(bi);function cr(e){if(e===bi)throw Error(G(174));return e}function eu(e,t){switch(Pe(ii,t),Pe(si,e),Pe(nn,bi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:jl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=jl(t,e)}_e(nn),Pe(nn,t)}function es(){_e(nn),_e(si),_e(ii)}function x0(e){cr(ii.current);var t=cr(nn.current),n=jl(t,e.type);t!==n&&(Pe(si,e),Pe(nn,n))}function tu(e){si.current===e&&(_e(nn),_e(si))}var De=Kn(0);function Vo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ba=[];function nu(){for(var e=0;e<Ba.length;e++)Ba[e]._workInProgressVersionPrimary=null;Ba.length=0}var fo=kn.ReactCurrentDispatcher,Ua=kn.ReactCurrentBatchConfig,gr=0,Ve=null,He=null,Ye=null,Oo=!1,Fs=!1,oi=0,nv=0;function st(){throw Error(G(321))}function ru(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Kt(e[n],t[n]))return!1;return!0}function su(e,t,n,r,s,i){if(gr=i,Ve=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=e===null||e.memoizedState===null?ov:av,e=n(r,s),Fs){i=0;do{if(Fs=!1,oi=0,25<=i)throw Error(G(301));i+=1,Ye=He=null,t.updateQueue=null,fo.current=lv,e=n(r,s)}while(Fs)}if(fo.current=Fo,t=He!==null&&He.next!==null,gr=0,Ye=He=Ve=null,Oo=!1,t)throw Error(G(300));return e}function iu(){var e=oi!==0;return oi=0,e}function Jt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ye===null?Ve.memoizedState=Ye=e:Ye=Ye.next=e,Ye}function Ot(){if(He===null){var e=Ve.alternate;e=e!==null?e.memoizedState:null}else e=He.next;var t=Ye===null?Ve.memoizedState:Ye.next;if(t!==null)Ye=t,He=e;else{if(e===null)throw Error(G(310));He=e,e={memoizedState:He.memoizedState,baseState:He.baseState,baseQueue:He.baseQueue,queue:He.queue,next:null},Ye===null?Ve.memoizedState=Ye=e:Ye=Ye.next=e}return Ye}function ai(e,t){return typeof t=="function"?t(e):t}function Wa(e){var t=Ot(),n=t.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=e;var r=He,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,c=null,d=i;do{var h=d.lane;if((gr&h)===h)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var u={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=u,o=r):c=c.next=u,Ve.lanes|=h,yr|=h}d=d.next}while(d!==null&&d!==i);c===null?o=r:c.next=l,Kt(r,t.memoizedState)||(yt=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,Ve.lanes|=i,yr|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ha(e){var t=Ot(),n=t.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Kt(i,t.memoizedState)||(yt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function v0(){}function w0(e,t){var n=Ve,r=Ot(),s=t(),i=!Kt(r.memoizedState,s);if(i&&(r.memoizedState=s,yt=!0),r=r.queue,ou(S0.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Ye!==null&&Ye.memoizedState.tag&1){if(n.flags|=2048,li(9,k0.bind(null,n,r,s,t),void 0,null),Qe===null)throw Error(G(349));gr&30||b0(n,t,s)}return s}function b0(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ve.updateQueue,t===null?(t={lastEffect:null,stores:null},Ve.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function k0(e,t,n,r){t.value=n,t.getSnapshot=r,T0(t)&&j0(e)}function S0(e,t,n){return n(function(){T0(t)&&j0(e)})}function T0(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Kt(e,n)}catch{return!0}}function j0(e){var t=xn(e,1);t!==null&&qt(t,e,1,-1)}function $d(e){var t=Jt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ai,lastRenderedState:e},t.queue=e,e=e.dispatch=iv.bind(null,Ve,e),[t.memoizedState,e]}function li(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ve.updateQueue,t===null?(t={lastEffect:null,stores:null},Ve.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function C0(){return Ot().memoizedState}function ho(e,t,n,r){var s=Jt();Ve.flags|=e,s.memoizedState=li(1|t,n,void 0,r===void 0?null:r)}function oa(e,t,n,r){var s=Ot();r=r===void 0?null:r;var i=void 0;if(He!==null){var o=He.memoizedState;if(i=o.destroy,r!==null&&ru(r,o.deps)){s.memoizedState=li(t,n,i,r);return}}Ve.flags|=e,s.memoizedState=li(1|t,n,i,r)}function Gd(e,t){return ho(8390656,8,e,t)}function ou(e,t){return oa(2048,8,e,t)}function N0(e,t){return oa(4,2,e,t)}function A0(e,t){return oa(4,4,e,t)}function P0(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function E0(e,t,n){return n=n!=null?n.concat([e]):null,oa(4,4,P0.bind(null,t,e),n)}function au(){}function _0(e,t){var n=Ot();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ru(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function M0(e,t){var n=Ot();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ru(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function R0(e,t,n){return gr&21?(Kt(n,t)||(n=Om(),Ve.lanes|=n,yr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,yt=!0),e.memoizedState=n)}function rv(e,t){var n=Te;Te=n!==0&&4>n?n:4,e(!0);var r=Ua.transition;Ua.transition={};try{e(!1),t()}finally{Te=n,Ua.transition=r}}function I0(){return Ot().memoizedState}function sv(e,t,n){var r=Fn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},D0(e))L0(t,n);else if(n=g0(e,t,n,r),n!==null){var s=dt();qt(n,e,r,s),V0(n,t,r)}}function iv(e,t,n){var r=Fn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(D0(e))L0(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,Kt(l,o)){var c=t.interleaved;c===null?(s.next=s,Zc(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=g0(e,t,s,r),n!==null&&(s=dt(),qt(n,e,r,s),V0(n,t,r))}}function D0(e){var t=e.alternate;return e===Ve||t!==null&&t===Ve}function L0(e,t){Fs=Oo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function V0(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Oc(e,n)}}var Fo={readContext:Vt,useCallback:st,useContext:st,useEffect:st,useImperativeHandle:st,useInsertionEffect:st,useLayoutEffect:st,useMemo:st,useReducer:st,useRef:st,useState:st,useDebugValue:st,useDeferredValue:st,useTransition:st,useMutableSource:st,useSyncExternalStore:st,useId:st,unstable_isNewReconciler:!1},ov={readContext:Vt,useCallback:function(e,t){return Jt().memoizedState=[e,t===void 0?null:t],e},useContext:Vt,useEffect:Gd,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ho(4194308,4,P0.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ho(4194308,4,e,t)},useInsertionEffect:function(e,t){return ho(4,2,e,t)},useMemo:function(e,t){var n=Jt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Jt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=sv.bind(null,Ve,e),[r.memoizedState,e]},useRef:function(e){var t=Jt();return e={current:e},t.memoizedState=e},useState:$d,useDebugValue:au,useDeferredValue:function(e){return Jt().memoizedState=e},useTransition:function(){var e=$d(!1),t=e[0];return e=rv.bind(null,e[1]),Jt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ve,s=Jt();if(Re){if(n===void 0)throw Error(G(407));n=n()}else{if(n=t(),Qe===null)throw Error(G(349));gr&30||b0(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Gd(S0.bind(null,r,i,e),[e]),r.flags|=2048,li(9,k0.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Jt(),t=Qe.identifierPrefix;if(Re){var n=fn,r=dn;n=(r&~(1<<32-Gt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=oi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=nv++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},av={readContext:Vt,useCallback:_0,useContext:Vt,useEffect:ou,useImperativeHandle:E0,useInsertionEffect:N0,useLayoutEffect:A0,useMemo:M0,useReducer:Wa,useRef:C0,useState:function(){return Wa(ai)},useDebugValue:au,useDeferredValue:function(e){var t=Ot();return R0(t,He.memoizedState,e)},useTransition:function(){var e=Wa(ai)[0],t=Ot().memoizedState;return[e,t]},useMutableSource:v0,useSyncExternalStore:w0,useId:I0,unstable_isNewReconciler:!1},lv={readContext:Vt,useCallback:_0,useContext:Vt,useEffect:ou,useImperativeHandle:E0,useInsertionEffect:N0,useLayoutEffect:A0,useMemo:M0,useReducer:Ha,useRef:C0,useState:function(){return Ha(ai)},useDebugValue:au,useDeferredValue:function(e){var t=Ot();return He===null?t.memoizedState=e:R0(t,He.memoizedState,e)},useTransition:function(){var e=Ha(ai)[0],t=Ot().memoizedState;return[e,t]},useMutableSource:v0,useSyncExternalStore:w0,useId:I0,unstable_isNewReconciler:!1};function Wt(e,t){if(e&&e.defaultProps){t=Oe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Gl(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Oe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var aa={isMounted:function(e){return(e=e._reactInternals)?wr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=dt(),s=Fn(e),i=hn(r,s);i.payload=t,n!=null&&(i.callback=n),t=Vn(e,i,s),t!==null&&(qt(t,e,s,r),uo(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=dt(),s=Fn(e),i=hn(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Vn(e,i,s),t!==null&&(qt(t,e,s,r),uo(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=dt(),r=Fn(e),s=hn(n,r);s.tag=2,t!=null&&(s.callback=t),t=Vn(e,s,r),t!==null&&(qt(t,e,r,n),uo(t,e,r))}};function qd(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!ei(n,r)||!ei(s,i):!0}function O0(e,t,n){var r=!1,s=Un,i=t.contextType;return typeof i=="object"&&i!==null?i=Vt(i):(s=vt(t)?mr:ct.current,r=t.contextTypes,i=(r=r!=null)?Xr(e,s):Un),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=aa,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Kd(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&aa.enqueueReplaceState(t,t.state,null)}function ql(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Jc(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Vt(i):(i=vt(t)?mr:ct.current,s.context=Xr(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Gl(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&aa.enqueueReplaceState(s,s.state,null),Lo(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function ts(e,t){try{var n="",r=t;do n+=Ly(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function $a(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Kl(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var cv=typeof WeakMap=="function"?WeakMap:Map;function F0(e,t,n){n=hn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Bo||(Bo=!0,sc=r),Kl(e,t)},n}function z0(e,t,n){n=hn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Kl(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Kl(e,t),typeof r!="function"&&(On===null?On=new Set([this]):On.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Yd(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new cv;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Sv.bind(null,e,t,n),t.then(e,e))}function Qd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Xd(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=hn(-1,1),t.tag=2,Vn(n,t,1))),n.lanes|=1),e)}var uv=kn.ReactCurrentOwner,yt=!1;function ut(e,t,n,r){t.child=e===null?p0(t,null,n,r):Jr(t,e.child,n,r)}function Zd(e,t,n,r,s){n=n.render;var i=t.ref;return Kr(t,s),r=su(e,t,n,r,i,s),n=iu(),e!==null&&!yt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,vn(e,t,s)):(Re&&n&&Gc(t),t.flags|=1,ut(e,t,r,s),t.child)}function Jd(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!pu(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,B0(e,t,i,r,s)):(e=yo(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:ei,n(o,r)&&e.ref===t.ref)return vn(e,t,s)}return t.flags|=1,e=zn(i,r),e.ref=t.ref,e.return=t,t.child=e}function B0(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(ei(i,r)&&e.ref===t.ref)if(yt=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(yt=!0);else return t.lanes=e.lanes,vn(e,t,s)}return Yl(e,t,n,r,s)}function U0(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pe(Or,St),St|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Pe(Or,St),St|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Pe(Or,St),St|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,Pe(Or,St),St|=r;return ut(e,t,s,n),t.child}function W0(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Yl(e,t,n,r,s){var i=vt(n)?mr:ct.current;return i=Xr(t,i),Kr(t,s),n=su(e,t,n,r,i,s),r=iu(),e!==null&&!yt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,vn(e,t,s)):(Re&&r&&Gc(t),t.flags|=1,ut(e,t,n,s),t.child)}function ef(e,t,n,r,s){if(vt(n)){var i=!0;_o(t)}else i=!1;if(Kr(t,s),t.stateNode===null)mo(e,t),O0(t,n,r),ql(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=Vt(d):(d=vt(n)?mr:ct.current,d=Xr(t,d));var h=n.getDerivedStateFromProps,u=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";u||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==d)&&Kd(t,o,r,d),An=!1;var f=t.memoizedState;o.state=f,Lo(t,r,o,s),c=t.memoizedState,l!==r||f!==c||xt.current||An?(typeof h=="function"&&(Gl(t,n,h,r),c=t.memoizedState),(l=An||qd(t,n,l,r,f,c,d))?(u||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=d,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,y0(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:Wt(t.type,l),o.props=d,u=t.pendingProps,f=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Vt(c):(c=vt(n)?mr:ct.current,c=Xr(t,c));var y=n.getDerivedStateFromProps;(h=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==u||f!==c)&&Kd(t,o,r,c),An=!1,f=t.memoizedState,o.state=f,Lo(t,r,o,s);var b=t.memoizedState;l!==u||f!==b||xt.current||An?(typeof y=="function"&&(Gl(t,n,y,r),b=t.memoizedState),(d=An||qd(t,n,d,r,f,b,c)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,b,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,b,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=b),o.props=r,o.state=b,o.context=c,r=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Ql(e,t,n,r,i,s)}function Ql(e,t,n,r,s,i){W0(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&Fd(t,n,!1),vn(e,t,i);r=t.stateNode,uv.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Jr(t,e.child,null,i),t.child=Jr(t,null,l,i)):ut(e,t,l,i),t.memoizedState=r.state,s&&Fd(t,n,!0),t.child}function H0(e){var t=e.stateNode;t.pendingContext?Od(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Od(e,t.context,!1),eu(e,t.containerInfo)}function tf(e,t,n,r,s){return Zr(),Kc(s),t.flags|=256,ut(e,t,n,r),t.child}var Xl={dehydrated:null,treeContext:null,retryLane:0};function Zl(e){return{baseLanes:e,cachePool:null,transitions:null}}function $0(e,t,n){var r=t.pendingProps,s=De.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Pe(De,s&1),e===null)return Hl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=ua(o,r,0,null),e=fr(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Zl(n),t.memoizedState=Xl,e):lu(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return dv(e,t,o,r,l,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=zn(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=zn(l,i):(i=fr(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?Zl(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Xl,r}return i=e.child,e=i.sibling,r=zn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function lu(e,t){return t=ua({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Bi(e,t,n,r){return r!==null&&Kc(r),Jr(t,e.child,null,n),e=lu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function dv(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=$a(Error(G(422))),Bi(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=ua({mode:"visible",children:r.children},s,0,null),i=fr(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Jr(t,e.child,null,o),t.child.memoizedState=Zl(o),t.memoizedState=Xl,i);if(!(t.mode&1))return Bi(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(G(419)),r=$a(i,r,void 0),Bi(e,t,o,r)}if(l=(o&e.childLanes)!==0,yt||l){if(r=Qe,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,xn(e,s),qt(r,e,s,-1))}return mu(),r=$a(Error(G(421))),Bi(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Tv.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Tt=Ln(s.nextSibling),jt=t,Re=!0,$t=null,e!==null&&(Rt[It++]=dn,Rt[It++]=fn,Rt[It++]=pr,dn=e.id,fn=e.overflow,pr=t),t=lu(t,r.children),t.flags|=4096,t)}function nf(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),$l(e.return,t,n)}function Ga(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function G0(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(ut(e,t,r.children,n),r=De.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&nf(e,n,t);else if(e.tag===19)nf(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Pe(De,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Vo(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Ga(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Vo(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Ga(t,!0,n,null,i);break;case"together":Ga(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function mo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function vn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),yr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(G(153));if(t.child!==null){for(e=t.child,n=zn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=zn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function fv(e,t,n){switch(t.tag){case 3:H0(t),Zr();break;case 5:x0(t);break;case 1:vt(t.type)&&_o(t);break;case 4:eu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Pe(Io,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Pe(De,De.current&1),t.flags|=128,null):n&t.child.childLanes?$0(e,t,n):(Pe(De,De.current&1),e=vn(e,t,n),e!==null?e.sibling:null);Pe(De,De.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return G0(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Pe(De,De.current),r)break;return null;case 22:case 23:return t.lanes=0,U0(e,t,n)}return vn(e,t,n)}var q0,Jl,K0,Y0;q0=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Jl=function(){};K0=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,cr(nn.current);var i=null;switch(n){case"input":s=bl(e,s),r=bl(e,r),i=[];break;case"select":s=Oe({},s,{value:void 0}),r=Oe({},r,{value:void 0}),i=[];break;case"textarea":s=Tl(e,s),r=Tl(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Po)}Cl(n,r);var o;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var l=s[d];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(qs.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(l=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(qs.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Ee("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};Y0=function(e,t,n,r){n!==r&&(t.flags|=4)};function vs(e,t){if(!Re)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function it(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function hv(e,t,n){var r=t.pendingProps;switch(qc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(t),null;case 1:return vt(t.type)&&Eo(),it(t),null;case 3:return r=t.stateNode,es(),_e(xt),_e(ct),nu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Fi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,$t!==null&&(ac($t),$t=null))),Jl(e,t),it(t),null;case 5:tu(t);var s=cr(ii.current);if(n=t.type,e!==null&&t.stateNode!=null)K0(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(G(166));return it(t),null}if(e=cr(nn.current),Fi(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[en]=t,r[ri]=i,e=(t.mode&1)!==0,n){case"dialog":Ee("cancel",r),Ee("close",r);break;case"iframe":case"object":case"embed":Ee("load",r);break;case"video":case"audio":for(s=0;s<Ps.length;s++)Ee(Ps[s],r);break;case"source":Ee("error",r);break;case"img":case"image":case"link":Ee("error",r),Ee("load",r);break;case"details":Ee("toggle",r);break;case"input":dd(r,i),Ee("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ee("invalid",r);break;case"textarea":hd(r,i),Ee("invalid",r)}Cl(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Oi(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Oi(r.textContent,l,e),s=["children",""+l]):qs.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ee("scroll",r)}switch(n){case"input":Ei(r),fd(r,i,!0);break;case"textarea":Ei(r),md(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Po)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Sm(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[en]=t,e[ri]=r,q0(e,t,!1,!1),t.stateNode=e;e:{switch(o=Nl(n,r),n){case"dialog":Ee("cancel",e),Ee("close",e),s=r;break;case"iframe":case"object":case"embed":Ee("load",e),s=r;break;case"video":case"audio":for(s=0;s<Ps.length;s++)Ee(Ps[s],e);s=r;break;case"source":Ee("error",e),s=r;break;case"img":case"image":case"link":Ee("error",e),Ee("load",e),s=r;break;case"details":Ee("toggle",e),s=r;break;case"input":dd(e,r),s=bl(e,r),Ee("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Oe({},r,{value:void 0}),Ee("invalid",e);break;case"textarea":hd(e,r),s=Tl(e,r),Ee("invalid",e);break;default:s=r}Cl(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?Cm(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Tm(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Ks(e,c):typeof c=="number"&&Ks(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(qs.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ee("scroll",e):c!=null&&Mc(e,i,c,o))}switch(n){case"input":Ei(e),fd(e,r,!1);break;case"textarea":Ei(e),md(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Bn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Hr(e,!!r.multiple,i,!1):r.defaultValue!=null&&Hr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Po)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return it(t),null;case 6:if(e&&t.stateNode!=null)Y0(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(G(166));if(n=cr(ii.current),cr(nn.current),Fi(t)){if(r=t.stateNode,n=t.memoizedProps,r[en]=t,(i=r.nodeValue!==n)&&(e=jt,e!==null))switch(e.tag){case 3:Oi(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Oi(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[en]=t,t.stateNode=r}return it(t),null;case 13:if(_e(De),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Re&&Tt!==null&&t.mode&1&&!(t.flags&128))h0(),Zr(),t.flags|=98560,i=!1;else if(i=Fi(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(G(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(G(317));i[en]=t}else Zr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;it(t),i=!1}else $t!==null&&(ac($t),$t=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||De.current&1?$e===0&&($e=3):mu())),t.updateQueue!==null&&(t.flags|=4),it(t),null);case 4:return es(),Jl(e,t),e===null&&ti(t.stateNode.containerInfo),it(t),null;case 10:return Xc(t.type._context),it(t),null;case 17:return vt(t.type)&&Eo(),it(t),null;case 19:if(_e(De),i=t.memoizedState,i===null)return it(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)vs(i,!1);else{if($e!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Vo(e),o!==null){for(t.flags|=128,vs(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Pe(De,De.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ue()>ns&&(t.flags|=128,r=!0,vs(i,!1),t.lanes=4194304)}else{if(!r)if(e=Vo(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),vs(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Re)return it(t),null}else 2*Ue()-i.renderingStartTime>ns&&n!==1073741824&&(t.flags|=128,r=!0,vs(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ue(),t.sibling=null,n=De.current,Pe(De,r?n&1|2:n&1),t):(it(t),null);case 22:case 23:return hu(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?St&1073741824&&(it(t),t.subtreeFlags&6&&(t.flags|=8192)):it(t),null;case 24:return null;case 25:return null}throw Error(G(156,t.tag))}function mv(e,t){switch(qc(t),t.tag){case 1:return vt(t.type)&&Eo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return es(),_e(xt),_e(ct),nu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return tu(t),null;case 13:if(_e(De),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(G(340));Zr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return _e(De),null;case 4:return es(),null;case 10:return Xc(t.type._context),null;case 22:case 23:return hu(),null;case 24:return null;default:return null}}var Ui=!1,at=!1,pv=typeof WeakSet=="function"?WeakSet:Set,ie=null;function Vr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ze(e,t,r)}else n.current=null}function ec(e,t,n){try{n()}catch(r){ze(e,t,r)}}var rf=!1;function gv(e,t){if(Vl=Co,e=e0(),$c(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,d=0,h=0,u=e,f=null;t:for(;;){for(var y;u!==n||s!==0&&u.nodeType!==3||(l=o+s),u!==i||r!==0&&u.nodeType!==3||(c=o+r),u.nodeType===3&&(o+=u.nodeValue.length),(y=u.firstChild)!==null;)f=u,u=y;for(;;){if(u===e)break t;if(f===n&&++d===s&&(l=o),f===i&&++h===r&&(c=o),(y=u.nextSibling)!==null)break;u=f,f=u.parentNode}u=y}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ol={focusedElem:e,selectionRange:n},Co=!1,ie=t;ie!==null;)if(t=ie,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ie=e;else for(;ie!==null;){t=ie;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var v=b.memoizedProps,S=b.memoizedState,p=t.stateNode,g=p.getSnapshotBeforeUpdate(t.elementType===t.type?v:Wt(t.type,v),S);p.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(w){ze(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,ie=e;break}ie=t.return}return b=rf,rf=!1,b}function zs(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&ec(t,n,i)}s=s.next}while(s!==r)}}function la(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function tc(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Q0(e){var t=e.alternate;t!==null&&(e.alternate=null,Q0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[en],delete t[ri],delete t[Bl],delete t[Zx],delete t[Jx])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function X0(e){return e.tag===5||e.tag===3||e.tag===4}function sf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||X0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function nc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Po));else if(r!==4&&(e=e.child,e!==null))for(nc(e,t,n),e=e.sibling;e!==null;)nc(e,t,n),e=e.sibling}function rc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(rc(e,t,n),e=e.sibling;e!==null;)rc(e,t,n),e=e.sibling}var Je=null,Ht=!1;function Tn(e,t,n){for(n=n.child;n!==null;)Z0(e,t,n),n=n.sibling}function Z0(e,t,n){if(tn&&typeof tn.onCommitFiberUnmount=="function")try{tn.onCommitFiberUnmount(ea,n)}catch{}switch(n.tag){case 5:at||Vr(n,t);case 6:var r=Je,s=Ht;Je=null,Tn(e,t,n),Je=r,Ht=s,Je!==null&&(Ht?(e=Je,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Je.removeChild(n.stateNode));break;case 18:Je!==null&&(Ht?(e=Je,n=n.stateNode,e.nodeType===8?Fa(e.parentNode,n):e.nodeType===1&&Fa(e,n),Zs(e)):Fa(Je,n.stateNode));break;case 4:r=Je,s=Ht,Je=n.stateNode.containerInfo,Ht=!0,Tn(e,t,n),Je=r,Ht=s;break;case 0:case 11:case 14:case 15:if(!at&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&ec(n,t,o),s=s.next}while(s!==r)}Tn(e,t,n);break;case 1:if(!at&&(Vr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ze(n,t,l)}Tn(e,t,n);break;case 21:Tn(e,t,n);break;case 22:n.mode&1?(at=(r=at)||n.memoizedState!==null,Tn(e,t,n),at=r):Tn(e,t,n);break;default:Tn(e,t,n)}}function of(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new pv),t.forEach(function(r){var s=jv.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Ft(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Je=l.stateNode,Ht=!1;break e;case 3:Je=l.stateNode.containerInfo,Ht=!0;break e;case 4:Je=l.stateNode.containerInfo,Ht=!0;break e}l=l.return}if(Je===null)throw Error(G(160));Z0(i,o,s),Je=null,Ht=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){ze(s,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)J0(t,e),t=t.sibling}function J0(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ft(t,e),Xt(e),r&4){try{zs(3,e,e.return),la(3,e)}catch(v){ze(e,e.return,v)}try{zs(5,e,e.return)}catch(v){ze(e,e.return,v)}}break;case 1:Ft(t,e),Xt(e),r&512&&n!==null&&Vr(n,n.return);break;case 5:if(Ft(t,e),Xt(e),r&512&&n!==null&&Vr(n,n.return),e.flags&32){var s=e.stateNode;try{Ks(s,"")}catch(v){ze(e,e.return,v)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&bm(s,i),Nl(l,o);var d=Nl(l,i);for(o=0;o<c.length;o+=2){var h=c[o],u=c[o+1];h==="style"?Cm(s,u):h==="dangerouslySetInnerHTML"?Tm(s,u):h==="children"?Ks(s,u):Mc(s,h,u,d)}switch(l){case"input":kl(s,i);break;case"textarea":km(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Hr(s,!!i.multiple,y,!1):f!==!!i.multiple&&(i.defaultValue!=null?Hr(s,!!i.multiple,i.defaultValue,!0):Hr(s,!!i.multiple,i.multiple?[]:"",!1))}s[ri]=i}catch(v){ze(e,e.return,v)}}break;case 6:if(Ft(t,e),Xt(e),r&4){if(e.stateNode===null)throw Error(G(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(v){ze(e,e.return,v)}}break;case 3:if(Ft(t,e),Xt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Zs(t.containerInfo)}catch(v){ze(e,e.return,v)}break;case 4:Ft(t,e),Xt(e);break;case 13:Ft(t,e),Xt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(du=Ue())),r&4&&of(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?(at=(d=at)||h,Ft(t,e),at=d):Ft(t,e),Xt(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!h&&e.mode&1)for(ie=e,h=e.child;h!==null;){for(u=ie=h;ie!==null;){switch(f=ie,y=f.child,f.tag){case 0:case 11:case 14:case 15:zs(4,f,f.return);break;case 1:Vr(f,f.return);var b=f.stateNode;if(typeof b.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(v){ze(r,n,v)}}break;case 5:Vr(f,f.return);break;case 22:if(f.memoizedState!==null){lf(u);continue}}y!==null?(y.return=f,ie=y):lf(u)}h=h.sibling}e:for(h=null,u=e;;){if(u.tag===5){if(h===null){h=u;try{s=u.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=u.stateNode,c=u.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=jm("display",o))}catch(v){ze(e,e.return,v)}}}else if(u.tag===6){if(h===null)try{u.stateNode.nodeValue=d?"":u.memoizedProps}catch(v){ze(e,e.return,v)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===e)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===e)break e;for(;u.sibling===null;){if(u.return===null||u.return===e)break e;h===u&&(h=null),u=u.return}h===u&&(h=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:Ft(t,e),Xt(e),r&4&&of(e);break;case 21:break;default:Ft(t,e),Xt(e)}}function Xt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(X0(n)){var r=n;break e}n=n.return}throw Error(G(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ks(s,""),r.flags&=-33);var i=sf(e);rc(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=sf(e);nc(e,l,o);break;default:throw Error(G(161))}}catch(c){ze(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function yv(e,t,n){ie=e,ep(e)}function ep(e,t,n){for(var r=(e.mode&1)!==0;ie!==null;){var s=ie,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Ui;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||at;l=Ui;var d=at;if(Ui=o,(at=c)&&!d)for(ie=s;ie!==null;)o=ie,c=o.child,o.tag===22&&o.memoizedState!==null?cf(s):c!==null?(c.return=o,ie=c):cf(s);for(;i!==null;)ie=i,ep(i),i=i.sibling;ie=s,Ui=l,at=d}af(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ie=i):af(e)}}function af(e){for(;ie!==null;){var t=ie;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:at||la(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!at)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Wt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Hd(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Hd(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var h=d.memoizedState;if(h!==null){var u=h.dehydrated;u!==null&&Zs(u)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}at||t.flags&512&&tc(t)}catch(f){ze(t,t.return,f)}}if(t===e){ie=null;break}if(n=t.sibling,n!==null){n.return=t.return,ie=n;break}ie=t.return}}function lf(e){for(;ie!==null;){var t=ie;if(t===e){ie=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ie=n;break}ie=t.return}}function cf(e){for(;ie!==null;){var t=ie;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{la(4,t)}catch(c){ze(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){ze(t,s,c)}}var i=t.return;try{tc(t)}catch(c){ze(t,i,c)}break;case 5:var o=t.return;try{tc(t)}catch(c){ze(t,o,c)}}}catch(c){ze(t,t.return,c)}if(t===e){ie=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ie=l;break}ie=t.return}}var xv=Math.ceil,zo=kn.ReactCurrentDispatcher,cu=kn.ReactCurrentOwner,Lt=kn.ReactCurrentBatchConfig,be=0,Qe=null,We=null,tt=0,St=0,Or=Kn(0),$e=0,ci=null,yr=0,ca=0,uu=0,Bs=null,gt=null,du=0,ns=1/0,cn=null,Bo=!1,sc=null,On=null,Wi=!1,Mn=null,Uo=0,Us=0,ic=null,po=-1,go=0;function dt(){return be&6?Ue():po!==-1?po:po=Ue()}function Fn(e){return e.mode&1?be&2&&tt!==0?tt&-tt:tv.transition!==null?(go===0&&(go=Om()),go):(e=Te,e!==0||(e=window.event,e=e===void 0?16:$m(e.type)),e):1}function qt(e,t,n,r){if(50<Us)throw Us=0,ic=null,Error(G(185));xi(e,n,r),(!(be&2)||e!==Qe)&&(e===Qe&&(!(be&2)&&(ca|=n),$e===4&&En(e,tt)),wt(e,r),n===1&&be===0&&!(t.mode&1)&&(ns=Ue()+500,ia&&Yn()))}function wt(e,t){var n=e.callbackNode;tx(e,t);var r=jo(e,e===Qe?tt:0);if(r===0)n!==null&&yd(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&yd(n),t===1)e.tag===0?ev(uf.bind(null,e)):u0(uf.bind(null,e)),Qx(function(){!(be&6)&&Yn()}),n=null;else{switch(Fm(r)){case 1:n=Vc;break;case 4:n=Lm;break;case 16:n=To;break;case 536870912:n=Vm;break;default:n=To}n=lp(n,tp.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function tp(e,t){if(po=-1,go=0,be&6)throw Error(G(327));var n=e.callbackNode;if(Yr()&&e.callbackNode!==n)return null;var r=jo(e,e===Qe?tt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Wo(e,r);else{t=r;var s=be;be|=2;var i=rp();(Qe!==e||tt!==t)&&(cn=null,ns=Ue()+500,dr(e,t));do try{bv();break}catch(l){np(e,l)}while(!0);Qc(),zo.current=i,be=s,We!==null?t=0:(Qe=null,tt=0,t=$e)}if(t!==0){if(t===2&&(s=Ml(e),s!==0&&(r=s,t=oc(e,s))),t===1)throw n=ci,dr(e,0),En(e,r),wt(e,Ue()),n;if(t===6)En(e,r);else{if(s=e.current.alternate,!(r&30)&&!vv(s)&&(t=Wo(e,r),t===2&&(i=Ml(e),i!==0&&(r=i,t=oc(e,i))),t===1))throw n=ci,dr(e,0),En(e,r),wt(e,Ue()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(G(345));case 2:rr(e,gt,cn);break;case 3:if(En(e,r),(r&130023424)===r&&(t=du+500-Ue(),10<t)){if(jo(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){dt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=zl(rr.bind(null,e,gt,cn),t);break}rr(e,gt,cn);break;case 4:if(En(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-Gt(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=Ue()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*xv(r/1960))-r,10<r){e.timeoutHandle=zl(rr.bind(null,e,gt,cn),r);break}rr(e,gt,cn);break;case 5:rr(e,gt,cn);break;default:throw Error(G(329))}}}return wt(e,Ue()),e.callbackNode===n?tp.bind(null,e):null}function oc(e,t){var n=Bs;return e.current.memoizedState.isDehydrated&&(dr(e,t).flags|=256),e=Wo(e,t),e!==2&&(t=gt,gt=n,t!==null&&ac(t)),e}function ac(e){gt===null?gt=e:gt.push.apply(gt,e)}function vv(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Kt(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function En(e,t){for(t&=~uu,t&=~ca,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Gt(t),r=1<<n;e[n]=-1,t&=~r}}function uf(e){if(be&6)throw Error(G(327));Yr();var t=jo(e,0);if(!(t&1))return wt(e,Ue()),null;var n=Wo(e,t);if(e.tag!==0&&n===2){var r=Ml(e);r!==0&&(t=r,n=oc(e,r))}if(n===1)throw n=ci,dr(e,0),En(e,t),wt(e,Ue()),n;if(n===6)throw Error(G(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,rr(e,gt,cn),wt(e,Ue()),null}function fu(e,t){var n=be;be|=1;try{return e(t)}finally{be=n,be===0&&(ns=Ue()+500,ia&&Yn())}}function xr(e){Mn!==null&&Mn.tag===0&&!(be&6)&&Yr();var t=be;be|=1;var n=Lt.transition,r=Te;try{if(Lt.transition=null,Te=1,e)return e()}finally{Te=r,Lt.transition=n,be=t,!(be&6)&&Yn()}}function hu(){St=Or.current,_e(Or)}function dr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Yx(n)),We!==null)for(n=We.return;n!==null;){var r=n;switch(qc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Eo();break;case 3:es(),_e(xt),_e(ct),nu();break;case 5:tu(r);break;case 4:es();break;case 13:_e(De);break;case 19:_e(De);break;case 10:Xc(r.type._context);break;case 22:case 23:hu()}n=n.return}if(Qe=e,We=e=zn(e.current,null),tt=St=t,$e=0,ci=null,uu=ca=yr=0,gt=Bs=null,lr!==null){for(t=0;t<lr.length;t++)if(n=lr[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}lr=null}return e}function np(e,t){do{var n=We;try{if(Qc(),fo.current=Fo,Oo){for(var r=Ve.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Oo=!1}if(gr=0,Ye=He=Ve=null,Fs=!1,oi=0,cu.current=null,n===null||n.return===null){$e=1,ci=t,We=null;break}e:{var i=e,o=n.return,l=n,c=t;if(t=tt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,h=l,u=h.tag;if(!(h.mode&1)&&(u===0||u===11||u===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var y=Qd(o);if(y!==null){y.flags&=-257,Xd(y,o,l,i,t),y.mode&1&&Yd(i,d,t),t=y,c=d;var b=t.updateQueue;if(b===null){var v=new Set;v.add(c),t.updateQueue=v}else b.add(c);break e}else{if(!(t&1)){Yd(i,d,t),mu();break e}c=Error(G(426))}}else if(Re&&l.mode&1){var S=Qd(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Xd(S,o,l,i,t),Kc(ts(c,l));break e}}i=c=ts(c,l),$e!==4&&($e=2),Bs===null?Bs=[i]:Bs.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var p=F0(i,c,t);Wd(i,p);break e;case 1:l=c;var g=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(On===null||!On.has(x)))){i.flags|=65536,t&=-t,i.lanes|=t;var w=z0(i,l,t);Wd(i,w);break e}}i=i.return}while(i!==null)}ip(n)}catch(k){t=k,We===n&&n!==null&&(We=n=n.return);continue}break}while(!0)}function rp(){var e=zo.current;return zo.current=Fo,e===null?Fo:e}function mu(){($e===0||$e===3||$e===2)&&($e=4),Qe===null||!(yr&268435455)&&!(ca&268435455)||En(Qe,tt)}function Wo(e,t){var n=be;be|=2;var r=rp();(Qe!==e||tt!==t)&&(cn=null,dr(e,t));do try{wv();break}catch(s){np(e,s)}while(!0);if(Qc(),be=n,zo.current=r,We!==null)throw Error(G(261));return Qe=null,tt=0,$e}function wv(){for(;We!==null;)sp(We)}function bv(){for(;We!==null&&!Gy();)sp(We)}function sp(e){var t=ap(e.alternate,e,St);e.memoizedProps=e.pendingProps,t===null?ip(e):We=t,cu.current=null}function ip(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=mv(n,t),n!==null){n.flags&=32767,We=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{$e=6,We=null;return}}else if(n=hv(n,t,St),n!==null){We=n;return}if(t=t.sibling,t!==null){We=t;return}We=t=e}while(t!==null);$e===0&&($e=5)}function rr(e,t,n){var r=Te,s=Lt.transition;try{Lt.transition=null,Te=1,kv(e,t,n,r)}finally{Lt.transition=s,Te=r}return null}function kv(e,t,n,r){do Yr();while(Mn!==null);if(be&6)throw Error(G(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(G(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(nx(e,i),e===Qe&&(We=Qe=null,tt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Wi||(Wi=!0,lp(To,function(){return Yr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Lt.transition,Lt.transition=null;var o=Te;Te=1;var l=be;be|=4,cu.current=null,gv(e,n),J0(n,e),Ux(Ol),Co=!!Vl,Ol=Vl=null,e.current=n,yv(n),qy(),be=l,Te=o,Lt.transition=i}else e.current=n;if(Wi&&(Wi=!1,Mn=e,Uo=s),i=e.pendingLanes,i===0&&(On=null),Qy(n.stateNode),wt(e,Ue()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Bo)throw Bo=!1,e=sc,sc=null,e;return Uo&1&&e.tag!==0&&Yr(),i=e.pendingLanes,i&1?e===ic?Us++:(Us=0,ic=e):Us=0,Yn(),null}function Yr(){if(Mn!==null){var e=Fm(Uo),t=Lt.transition,n=Te;try{if(Lt.transition=null,Te=16>e?16:e,Mn===null)var r=!1;else{if(e=Mn,Mn=null,Uo=0,be&6)throw Error(G(331));var s=be;for(be|=4,ie=e.current;ie!==null;){var i=ie,o=i.child;if(ie.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(ie=d;ie!==null;){var h=ie;switch(h.tag){case 0:case 11:case 15:zs(8,h,i)}var u=h.child;if(u!==null)u.return=h,ie=u;else for(;ie!==null;){h=ie;var f=h.sibling,y=h.return;if(Q0(h),h===d){ie=null;break}if(f!==null){f.return=y,ie=f;break}ie=y}}}var b=i.alternate;if(b!==null){var v=b.child;if(v!==null){b.child=null;do{var S=v.sibling;v.sibling=null,v=S}while(v!==null)}}ie=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ie=o;else e:for(;ie!==null;){if(i=ie,i.flags&2048)switch(i.tag){case 0:case 11:case 15:zs(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,ie=p;break e}ie=i.return}}var g=e.current;for(ie=g;ie!==null;){o=ie;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,ie=x;else e:for(o=g;ie!==null;){if(l=ie,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:la(9,l)}}catch(k){ze(l,l.return,k)}if(l===o){ie=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,ie=w;break e}ie=l.return}}if(be=s,Yn(),tn&&typeof tn.onPostCommitFiberRoot=="function")try{tn.onPostCommitFiberRoot(ea,e)}catch{}r=!0}return r}finally{Te=n,Lt.transition=t}}return!1}function df(e,t,n){t=ts(n,t),t=F0(e,t,1),e=Vn(e,t,1),t=dt(),e!==null&&(xi(e,1,t),wt(e,t))}function ze(e,t,n){if(e.tag===3)df(e,e,n);else for(;t!==null;){if(t.tag===3){df(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(On===null||!On.has(r))){e=ts(n,e),e=z0(t,e,1),t=Vn(t,e,1),e=dt(),t!==null&&(xi(t,1,e),wt(t,e));break}}t=t.return}}function Sv(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=dt(),e.pingedLanes|=e.suspendedLanes&n,Qe===e&&(tt&n)===n&&($e===4||$e===3&&(tt&130023424)===tt&&500>Ue()-du?dr(e,0):uu|=n),wt(e,t)}function op(e,t){t===0&&(e.mode&1?(t=Ri,Ri<<=1,!(Ri&130023424)&&(Ri=4194304)):t=1);var n=dt();e=xn(e,t),e!==null&&(xi(e,t,n),wt(e,n))}function Tv(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),op(e,n)}function jv(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(G(314))}r!==null&&r.delete(t),op(e,n)}var ap;ap=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||xt.current)yt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return yt=!1,fv(e,t,n);yt=!!(e.flags&131072)}else yt=!1,Re&&t.flags&1048576&&d0(t,Ro,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;mo(e,t),e=t.pendingProps;var s=Xr(t,ct.current);Kr(t,n),s=su(null,t,r,e,s,n);var i=iu();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,vt(r)?(i=!0,_o(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Jc(t),s.updater=aa,t.stateNode=s,s._reactInternals=t,ql(t,r,e,n),t=Ql(null,t,r,!0,i,n)):(t.tag=0,Re&&i&&Gc(t),ut(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(mo(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Nv(r),e=Wt(r,e),s){case 0:t=Yl(null,t,r,e,n);break e;case 1:t=ef(null,t,r,e,n);break e;case 11:t=Zd(null,t,r,e,n);break e;case 14:t=Jd(null,t,r,Wt(r.type,e),n);break e}throw Error(G(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Wt(r,s),Yl(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Wt(r,s),ef(e,t,r,s,n);case 3:e:{if(H0(t),e===null)throw Error(G(387));r=t.pendingProps,i=t.memoizedState,s=i.element,y0(e,t),Lo(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=ts(Error(G(423)),t),t=tf(e,t,r,n,s);break e}else if(r!==s){s=ts(Error(G(424)),t),t=tf(e,t,r,n,s);break e}else for(Tt=Ln(t.stateNode.containerInfo.firstChild),jt=t,Re=!0,$t=null,n=p0(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Zr(),r===s){t=vn(e,t,n);break e}ut(e,t,r,n)}t=t.child}return t;case 5:return x0(t),e===null&&Hl(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Fl(r,s)?o=null:i!==null&&Fl(r,i)&&(t.flags|=32),W0(e,t),ut(e,t,o,n),t.child;case 6:return e===null&&Hl(t),null;case 13:return $0(e,t,n);case 4:return eu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Jr(t,null,r,n):ut(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Wt(r,s),Zd(e,t,r,s,n);case 7:return ut(e,t,t.pendingProps,n),t.child;case 8:return ut(e,t,t.pendingProps.children,n),t.child;case 12:return ut(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Pe(Io,r._currentValue),r._currentValue=o,i!==null)if(Kt(i.value,o)){if(i.children===s.children&&!xt.current){t=vn(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=hn(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var h=d.pending;h===null?c.next=c:(c.next=h.next,h.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),$l(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(G(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),$l(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}ut(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Kr(t,n),s=Vt(s),r=r(s),t.flags|=1,ut(e,t,r,n),t.child;case 14:return r=t.type,s=Wt(r,t.pendingProps),s=Wt(r.type,s),Jd(e,t,r,s,n);case 15:return B0(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Wt(r,s),mo(e,t),t.tag=1,vt(r)?(e=!0,_o(t)):e=!1,Kr(t,n),O0(t,r,s),ql(t,r,s,n),Ql(null,t,r,!0,e,n);case 19:return G0(e,t,n);case 22:return U0(e,t,n)}throw Error(G(156,t.tag))};function lp(e,t){return Dm(e,t)}function Cv(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dt(e,t,n,r){return new Cv(e,t,n,r)}function pu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Nv(e){if(typeof e=="function")return pu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ic)return 11;if(e===Dc)return 14}return 2}function zn(e,t){var n=e.alternate;return n===null?(n=Dt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function yo(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")pu(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Ar:return fr(n.children,s,i,t);case Rc:o=8,s|=8;break;case yl:return e=Dt(12,n,t,s|2),e.elementType=yl,e.lanes=i,e;case xl:return e=Dt(13,n,t,s),e.elementType=xl,e.lanes=i,e;case vl:return e=Dt(19,n,t,s),e.elementType=vl,e.lanes=i,e;case xm:return ua(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case gm:o=10;break e;case ym:o=9;break e;case Ic:o=11;break e;case Dc:o=14;break e;case Nn:o=16,r=null;break e}throw Error(G(130,e==null?e:typeof e,""))}return t=Dt(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function fr(e,t,n,r){return e=Dt(7,e,r,t),e.lanes=n,e}function ua(e,t,n,r){return e=Dt(22,e,r,t),e.elementType=xm,e.lanes=n,e.stateNode={isHidden:!1},e}function qa(e,t,n){return e=Dt(6,e,null,t),e.lanes=n,e}function Ka(e,t,n){return t=Dt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Av(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Aa(0),this.expirationTimes=Aa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Aa(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function gu(e,t,n,r,s,i,o,l,c){return e=new Av(e,t,n,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Dt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Jc(i),e}function Pv(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Nr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function cp(e){if(!e)return Un;e=e._reactInternals;e:{if(wr(e)!==e||e.tag!==1)throw Error(G(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(vt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(G(171))}if(e.tag===1){var n=e.type;if(vt(n))return c0(e,n,t)}return t}function up(e,t,n,r,s,i,o,l,c){return e=gu(n,r,!0,e,s,i,o,l,c),e.context=cp(null),n=e.current,r=dt(),s=Fn(n),i=hn(r,s),i.callback=t??null,Vn(n,i,s),e.current.lanes=s,xi(e,s,r),wt(e,r),e}function da(e,t,n,r){var s=t.current,i=dt(),o=Fn(s);return n=cp(n),t.context===null?t.context=n:t.pendingContext=n,t=hn(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Vn(s,t,o),e!==null&&(qt(e,s,o,i),uo(e,s,o)),o}function Ho(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ff(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function yu(e,t){ff(e,t),(e=e.alternate)&&ff(e,t)}function Ev(){return null}var dp=typeof reportError=="function"?reportError:function(e){console.error(e)};function xu(e){this._internalRoot=e}fa.prototype.render=xu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(G(409));da(e,t,null,null)};fa.prototype.unmount=xu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;xr(function(){da(null,e,null,null)}),t[yn]=null}};function fa(e){this._internalRoot=e}fa.prototype.unstable_scheduleHydration=function(e){if(e){var t=Um();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pn.length&&t!==0&&t<Pn[n].priority;n++);Pn.splice(n,0,e),n===0&&Hm(e)}};function vu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ha(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function hf(){}function _v(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var d=Ho(o);i.call(d)}}var o=up(t,r,e,0,null,!1,!1,"",hf);return e._reactRootContainer=o,e[yn]=o.current,ti(e.nodeType===8?e.parentNode:e),xr(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var d=Ho(c);l.call(d)}}var c=gu(e,0,!1,null,null,!1,!1,"",hf);return e._reactRootContainer=c,e[yn]=c.current,ti(e.nodeType===8?e.parentNode:e),xr(function(){da(t,c,n,r)}),c}function ma(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=Ho(o);l.call(c)}}da(t,o,e,s)}else o=_v(n,t,e,s,r);return Ho(o)}zm=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=As(t.pendingLanes);n!==0&&(Oc(t,n|1),wt(t,Ue()),!(be&6)&&(ns=Ue()+500,Yn()))}break;case 13:xr(function(){var r=xn(e,1);if(r!==null){var s=dt();qt(r,e,1,s)}}),yu(e,1)}};Fc=function(e){if(e.tag===13){var t=xn(e,134217728);if(t!==null){var n=dt();qt(t,e,134217728,n)}yu(e,134217728)}};Bm=function(e){if(e.tag===13){var t=Fn(e),n=xn(e,t);if(n!==null){var r=dt();qt(n,e,t,r)}yu(e,t)}};Um=function(){return Te};Wm=function(e,t){var n=Te;try{return Te=e,t()}finally{Te=n}};Pl=function(e,t,n){switch(t){case"input":if(kl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=sa(r);if(!s)throw Error(G(90));wm(r),kl(r,s)}}}break;case"textarea":km(e,n);break;case"select":t=n.value,t!=null&&Hr(e,!!n.multiple,t,!1)}};Pm=fu;Em=xr;var Mv={usingClientEntryPoint:!1,Events:[wi,Mr,sa,Nm,Am,fu]},ws={findFiberByHostInstance:ar,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Rv={bundleType:ws.bundleType,version:ws.version,rendererPackageName:ws.rendererPackageName,rendererConfig:ws.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:kn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Rm(e),e===null?null:e.stateNode},findFiberByHostInstance:ws.findFiberByHostInstance||Ev,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hi.isDisabled&&Hi.supportsFiber)try{ea=Hi.inject(Rv),tn=Hi}catch{}}Pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mv;Pt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vu(t))throw Error(G(200));return Pv(e,t,null,n)};Pt.createRoot=function(e,t){if(!vu(e))throw Error(G(299));var n=!1,r="",s=dp;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=gu(e,1,!1,null,null,n,!1,r,s),e[yn]=t.current,ti(e.nodeType===8?e.parentNode:e),new xu(t)};Pt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(G(188)):(e=Object.keys(e).join(","),Error(G(268,e)));return e=Rm(t),e=e===null?null:e.stateNode,e};Pt.flushSync=function(e){return xr(e)};Pt.hydrate=function(e,t,n){if(!ha(t))throw Error(G(200));return ma(null,e,t,!0,n)};Pt.hydrateRoot=function(e,t,n){if(!vu(e))throw Error(G(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=dp;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=up(t,null,e,1,n??null,s,!1,i,o),e[yn]=t.current,ti(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new fa(t)};Pt.render=function(e,t,n){if(!ha(t))throw Error(G(200));return ma(null,e,t,!1,n)};Pt.unmountComponentAtNode=function(e){if(!ha(e))throw Error(G(40));return e._reactRootContainer?(xr(function(){ma(null,null,e,!1,function(){e._reactRootContainer=null,e[yn]=null})}),!0):!1};Pt.unstable_batchedUpdates=fu;Pt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ha(n))throw Error(G(200));if(e==null||e._reactInternals===void 0)throw Error(G(38));return ma(e,t,n,!1,r)};Pt.version="18.3.1-next-f1338f8080-20240426";function fp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(fp)}catch(e){console.error(e)}}fp(),fm.exports=Pt;var Iv=fm.exports,hp,mf=Iv;hp=mf.createRoot,mf.hydrateRoot;const wu=m.createContext({});function bu(e){const t=m.useRef(null);return t.current===null&&(t.current=e()),t.current}const pa=m.createContext(null),ku=m.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class Dv extends m.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Lv({children:e,isPresent:t}){const n=m.useId(),r=m.useRef(null),s=m.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=m.useContext(ku);return m.useInsertionEffect(()=>{const{width:o,height:l,top:c,left:d}=s.current;if(t||!r.current||!o||!l)return;r.current.dataset.motionPopId=n;const h=document.createElement("style");return i&&(h.nonce=i),document.head.appendChild(h),h.sheet&&h.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${l}px !important;
            top: ${c}px !important;
            left: ${d}px !important;
          }
        `),()=>{document.head.removeChild(h)}},[t]),a.jsx(Dv,{isPresent:t,childRef:r,sizeRef:s,children:m.cloneElement(e,{ref:r})})}const Vv=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o})=>{const l=bu(Ov),c=m.useId(),d=m.useCallback(u=>{l.set(u,!0);for(const f of l.values())if(!f)return;r&&r()},[l,r]),h=m.useMemo(()=>({id:c,initial:t,isPresent:n,custom:s,onExitComplete:d,register:u=>(l.set(u,!1),()=>l.delete(u))}),i?[Math.random(),d]:[n,d]);return m.useMemo(()=>{l.forEach((u,f)=>l.set(f,!1))},[n]),m.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),o==="popLayout"&&(e=a.jsx(Lv,{isPresent:n,children:e})),a.jsx(pa.Provider,{value:h,children:e})};function Ov(){return new Map}function mp(e=!0){const t=m.useContext(pa);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=t,i=m.useId();m.useEffect(()=>{e&&s(i)},[e]);const o=m.useCallback(()=>e&&r&&r(i),[i,r,e]);return!n&&r?[!1,o]:[!0]}const $i=e=>e.key||"";function pf(e){const t=[];return m.Children.forEach(e,n=>{m.isValidElement(n)&&t.push(n)}),t}const Su=typeof window<"u",pp=Su?m.useLayoutEffect:m.useEffect,Ge=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1})=>{const[l,c]=mp(o),d=m.useMemo(()=>pf(e),[e]),h=o&&!l?[]:d.map($i),u=m.useRef(!0),f=m.useRef(d),y=bu(()=>new Map),[b,v]=m.useState(d),[S,p]=m.useState(d);pp(()=>{u.current=!1,f.current=d;for(let w=0;w<S.length;w++){const k=$i(S[w]);h.includes(k)?y.delete(k):y.get(k)!==!0&&y.set(k,!1)}},[S,h.length,h.join("-")]);const g=[];if(d!==b){let w=[...d];for(let k=0;k<S.length;k++){const T=S[k],N=$i(T);h.includes(N)||(w.splice(k,0,T),g.push(T))}i==="wait"&&g.length&&(w=g),p(pf(w)),v(d);return}const{forceRender:x}=m.useContext(wu);return a.jsx(a.Fragment,{children:S.map(w=>{const k=$i(w),T=o&&!l?!1:d===S||h.includes(k),N=()=>{if(y.has(k))y.set(k,!0);else return;let A=!0;y.forEach(L=>{L||(A=!1)}),A&&(x==null||x(),p(f.current),o&&(c==null||c()),r&&r())};return a.jsx(Vv,{isPresent:T,initial:!u.current||n?void 0:!1,custom:T?void 0:t,presenceAffectsLayout:s,mode:i,onExitComplete:T?void 0:N,children:w},k)})})},Ct=e=>e;let lc=Ct;function Tu(e){let t;return()=>(t===void 0&&(t=e()),t)}const rs=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},mn=e=>e*1e3,pn=e=>e/1e3,Fv={skipAnimations:!1,useManualTiming:!1};function zv(e){let t=new Set,n=new Set,r=!1,s=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(d){i.has(d)&&(c.schedule(d),e()),d(o)}const c={schedule:(d,h=!1,u=!1)=>{const y=u&&r?t:n;return h&&i.add(d),y.has(d)||y.add(d),d},cancel:d=>{n.delete(d),i.delete(d)},process:d=>{if(o=d,r){s=!0;return}r=!0,[t,n]=[n,t],t.forEach(l),t.clear(),r=!1,s&&(s=!1,c.process(d))}};return c}const Gi=["read","resolveKeyframes","update","preRender","render","postRender"],Bv=40;function gp(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=Gi.reduce((p,g)=>(p[g]=zv(i),p),{}),{read:l,resolveKeyframes:c,update:d,preRender:h,render:u,postRender:f}=o,y=()=>{const p=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(p-s.timestamp,Bv),1),s.timestamp=p,s.isProcessing=!0,l.process(s),c.process(s),d.process(s),h.process(s),u.process(s),f.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(y))},b=()=>{n=!0,r=!0,s.isProcessing||e(y)};return{schedule:Gi.reduce((p,g)=>{const x=o[g];return p[g]=(w,k=!1,T=!1)=>(n||b(),x.schedule(w,k,T)),p},{}),cancel:p=>{for(let g=0;g<Gi.length;g++)o[Gi[g]].cancel(p)},state:s,steps:o}}const{schedule:Me,cancel:Wn,state:et,steps:Ya}=gp(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ct,!0),yp=m.createContext({strict:!1}),gf={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ss={};for(const e in gf)ss[e]={isEnabled:t=>gf[e].some(n=>!!t[n])};function Uv(e){for(const t in e)ss[t]={...ss[t],...e[t]}}const Wv=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function $o(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Wv.has(e)}let xp=e=>!$o(e);function Hv(e){e&&(xp=t=>t.startsWith("on")?!$o(t):e(t))}try{Hv(require("@emotion/is-prop-valid").default)}catch{}function $v(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(xp(s)||n===!0&&$o(s)||!t&&!$o(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}function Gv(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,s)=>s==="create"?e:(t.has(s)||t.set(s,e(s)),t.get(s))})}const ga=m.createContext({});function ui(e){return typeof e=="string"||Array.isArray(e)}function ya(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const ju=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Cu=["initial",...ju];function xa(e){return ya(e.animate)||Cu.some(t=>ui(e[t]))}function vp(e){return!!(xa(e)||e.variants)}function qv(e,t){if(xa(e)){const{initial:n,animate:r}=e;return{initial:n===!1||ui(n)?n:void 0,animate:ui(r)?r:void 0}}return e.inherit!==!1?t:{}}function Kv(e){const{initial:t,animate:n}=qv(e,m.useContext(ga));return m.useMemo(()=>({initial:t,animate:n}),[yf(t),yf(n)])}function yf(e){return Array.isArray(e)?e.join(" "):e}const Yv=Symbol.for("motionComponentSymbol");function Fr(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Qv(e,t,n){return m.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Fr(n)&&(n.current=r))},[t])}const Nu=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Xv="framerAppearId",wp="data-"+Nu(Xv),{schedule:Au,cancel:y5}=gp(queueMicrotask,!1),bp=m.createContext({});function Zv(e,t,n,r,s){var i,o;const{visualElement:l}=m.useContext(ga),c=m.useContext(yp),d=m.useContext(pa),h=m.useContext(ku).reducedMotion,u=m.useRef(null);r=r||c.renderer,!u.current&&r&&(u.current=r(e,{visualState:t,parent:l,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:h}));const f=u.current,y=m.useContext(bp);f&&!f.projection&&s&&(f.type==="html"||f.type==="svg")&&Jv(u.current,n,s,y);const b=m.useRef(!1);m.useInsertionEffect(()=>{f&&b.current&&f.update(n,d)});const v=n[wp],S=m.useRef(!!v&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,v))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,v)));return pp(()=>{f&&(b.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),Au.render(f.render),S.current&&f.animationState&&f.animationState.animateChanges())}),m.useEffect(()=>{f&&(!S.current&&f.animationState&&f.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{var p;(p=window.MotionHandoffMarkAsComplete)===null||p===void 0||p.call(window,v)}),S.current=!1))}),f}function Jv(e,t,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:d}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:kp(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||l&&Fr(l),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,layoutScroll:c,layoutRoot:d})}function kp(e){if(e)return e.options.allowProjection!==!1?e.projection:kp(e.parent)}function e1({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:s}){var i,o;e&&Uv(e);function l(d,h){let u;const f={...m.useContext(ku),...d,layoutId:t1(d)},{isStatic:y}=f,b=Kv(d),v=r(d,y);if(!y&&Su){n1();const S=r1(f);u=S.MeasureLayout,b.visualElement=Zv(s,v,f,t,S.ProjectionNode)}return a.jsxs(ga.Provider,{value:b,children:[u&&b.visualElement?a.jsx(u,{visualElement:b.visualElement,...f}):null,n(s,d,Qv(v,b.visualElement,h),v,y,b.visualElement)]})}l.displayName=`motion.${typeof s=="string"?s:`create(${(o=(i=s.displayName)!==null&&i!==void 0?i:s.name)!==null&&o!==void 0?o:""})`}`;const c=m.forwardRef(l);return c[Yv]=s,c}function t1({layoutId:e}){const t=m.useContext(wu).id;return t&&e!==void 0?t+"-"+e:e}function n1(e,t){m.useContext(yp).strict}function r1(e){const{drag:t,layout:n}=ss;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const s1=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Pu(e){return typeof e!="string"||e.includes("-")?!1:!!(s1.indexOf(e)>-1||/[A-Z]/u.test(e))}function xf(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function Eu(e,t,n,r){if(typeof t=="function"){const[s,i]=xf(r);t=t(n!==void 0?n:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=xf(r);t=t(n!==void 0?n:e.custom,s,i)}return t}const cc=e=>Array.isArray(e),i1=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),o1=e=>cc(e)?e[e.length-1]||0:e,lt=e=>!!(e&&e.getVelocity);function xo(e){const t=lt(e)?e.get():e;return i1(t)?t.toValue():t}function a1({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},r,s,i){const o={latestValues:l1(r,s,i,e),renderState:t()};return n&&(o.onMount=l=>n({props:r,current:l,...o}),o.onUpdate=l=>n(l)),o}const Sp=e=>(t,n)=>{const r=m.useContext(ga),s=m.useContext(pa),i=()=>a1(e,t,r,s);return n?i():bu(i)};function l1(e,t,n,r){const s={},i=r(e,{});for(const f in i)s[f]=xo(i[f]);let{initial:o,animate:l}=e;const c=xa(e),d=vp(e);t&&d&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let h=n?n.initial===!1:!1;h=h||o===!1;const u=h?l:o;if(u&&typeof u!="boolean"&&!ya(u)){const f=Array.isArray(u)?u:[u];for(let y=0;y<f.length;y++){const b=Eu(e,f[y]);if(b){const{transitionEnd:v,transition:S,...p}=b;for(const g in p){let x=p[g];if(Array.isArray(x)){const w=h?x.length-1:0;x=x[w]}x!==null&&(s[g]=x)}for(const g in v)s[g]=v[g]}}}return s}const us=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],br=new Set(us),Tp=e=>t=>typeof t=="string"&&t.startsWith(e),jp=Tp("--"),c1=Tp("var(--"),_u=e=>c1(e)?u1.test(e.split("/*")[0].trim()):!1,u1=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Cp=(e,t)=>t&&typeof e=="number"?t.transform(e):e,wn=(e,t,n)=>n>t?t:n<e?e:n,ds={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},di={...ds,transform:e=>wn(0,1,e)},qi={...ds,default:1},ki=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Cn=ki("deg"),rn=ki("%"),fe=ki("px"),d1=ki("vh"),f1=ki("vw"),vf={...rn,parse:e=>rn.parse(e)/100,transform:e=>rn.transform(e*100)},h1={borderWidth:fe,borderTopWidth:fe,borderRightWidth:fe,borderBottomWidth:fe,borderLeftWidth:fe,borderRadius:fe,radius:fe,borderTopLeftRadius:fe,borderTopRightRadius:fe,borderBottomRightRadius:fe,borderBottomLeftRadius:fe,width:fe,maxWidth:fe,height:fe,maxHeight:fe,top:fe,right:fe,bottom:fe,left:fe,padding:fe,paddingTop:fe,paddingRight:fe,paddingBottom:fe,paddingLeft:fe,margin:fe,marginTop:fe,marginRight:fe,marginBottom:fe,marginLeft:fe,backgroundPositionX:fe,backgroundPositionY:fe},m1={rotate:Cn,rotateX:Cn,rotateY:Cn,rotateZ:Cn,scale:qi,scaleX:qi,scaleY:qi,scaleZ:qi,skew:Cn,skewX:Cn,skewY:Cn,distance:fe,translateX:fe,translateY:fe,translateZ:fe,x:fe,y:fe,z:fe,perspective:fe,transformPerspective:fe,opacity:di,originX:vf,originY:vf,originZ:fe},wf={...ds,transform:Math.round},Mu={...h1,...m1,zIndex:wf,size:fe,fillOpacity:di,strokeOpacity:di,numOctaves:wf},p1={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},g1=us.length;function y1(e,t,n){let r="",s=!0;for(let i=0;i<g1;i++){const o=us[i],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const d=Cp(l,Mu[o]);if(!c){s=!1;const h=p1[o]||o;r+=`${h}(${d}) `}n&&(t[o]=d)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}function Ru(e,t,n){const{style:r,vars:s,transformOrigin:i}=e;let o=!1,l=!1;for(const c in t){const d=t[c];if(br.has(c)){o=!0;continue}else if(jp(c)){s[c]=d;continue}else{const h=Cp(d,Mu[c]);c.startsWith("origin")?(l=!0,i[c]=h):r[c]=h}}if(t.transform||(o||n?r.transform=y1(t,e.transform,n):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:h=0}=i;r.transformOrigin=`${c} ${d} ${h}`}}function bf(e,t,n){return typeof e=="string"?e:fe.transform(t+n*e)}function x1(e,t,n){const r=bf(t,e.x,e.width),s=bf(n,e.y,e.height);return`${r} ${s}`}const v1={offset:"stroke-dashoffset",array:"stroke-dasharray"},w1={offset:"strokeDashoffset",array:"strokeDasharray"};function b1(e,t,n=1,r=0,s=!0){e.pathLength=1;const i=s?v1:w1;e[i.offset]=fe.transform(-r);const o=fe.transform(t),l=fe.transform(n);e[i.array]=`${o} ${l}`}function Iu(e,{attrX:t,attrY:n,attrScale:r,originX:s,originY:i,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...d},h,u){if(Ru(e,d,u),h){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:y,dimensions:b}=e;f.transform&&(b&&(y.transform=f.transform),delete f.transform),b&&(s!==void 0||i!==void 0||y.transform)&&(y.transformOrigin=x1(b,s!==void 0?s:.5,i!==void 0?i:.5)),t!==void 0&&(f.x=t),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),o!==void 0&&b1(f,o,l,c,!1)}const Du=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Np=()=>({...Du(),attrs:{}}),Lu=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Ap(e,{style:t,vars:n},r,s){Object.assign(e.style,t,s&&s.getProjectionStyles(r));for(const i in n)e.style.setProperty(i,n[i])}const Pp=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Ep(e,t,n,r){Ap(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(Pp.has(s)?s:Nu(s),t.attrs[s])}const Go={};function k1(e){Object.assign(Go,e)}function _p(e,{layout:t,layoutId:n}){return br.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Go[e]||e==="opacity")}function Vu(e,t,n){var r;const{style:s}=e,i={};for(const o in s)(lt(s[o])||t.style&&lt(t.style[o])||_p(o,e)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(i[o]=s[o]);return i}function Mp(e,t,n){const r=Vu(e,t,n);for(const s in e)if(lt(e[s])||lt(t[s])){const i=us.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=e[s]}return r}function S1(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const kf=["x","y","width","height","cx","cy","r"],T1={useVisualState:Sp({scrapeMotionValuesFromProps:Mp,createRenderState:Np,onUpdate:({props:e,prevProps:t,current:n,renderState:r,latestValues:s})=>{if(!n)return;let i=!!e.drag;if(!i){for(const l in s)if(br.has(l)){i=!0;break}}if(!i)return;let o=!t;if(t)for(let l=0;l<kf.length;l++){const c=kf[l];e[c]!==t[c]&&(o=!0)}o&&(Me.read(()=>S1(n,r)),Me.render(()=>{Iu(r,s,Lu(n.tagName),e.transformTemplate),Ep(n,r)}))}})},j1={useVisualState:Sp({scrapeMotionValuesFromProps:Vu,createRenderState:Du})};function Rp(e,t,n){for(const r in t)!lt(t[r])&&!_p(r,n)&&(e[r]=t[r])}function C1({transformTemplate:e},t){return m.useMemo(()=>{const n=Du();return Ru(n,t,e),Object.assign({},n.vars,n.style)},[t])}function N1(e,t){const n=e.style||{},r={};return Rp(r,n,e),Object.assign(r,C1(e,t)),r}function A1(e,t){const n={},r=N1(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}function P1(e,t,n,r){const s=m.useMemo(()=>{const i=Np();return Iu(i,t,Lu(r),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};Rp(i,e.style,e),s.style={...i,...s.style}}return s}function E1(e=!1){return(n,r,s,{latestValues:i},o)=>{const c=(Pu(n)?P1:A1)(r,i,o,n),d=$v(r,typeof n=="string",e),h=n!==m.Fragment?{...d,...c,ref:s}:{},{children:u}=r,f=m.useMemo(()=>lt(u)?u.get():u,[u]);return m.createElement(n,{...h,children:f})}}function _1(e,t){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...Pu(r)?T1:j1,preloadedFeatures:e,useRender:E1(s),createVisualElement:t,Component:r};return e1(o)}}function Ip(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function va(e,t,n){const r=e.getProps();return Eu(r,t,n!==void 0?n:r.custom,e)}const M1=Tu(()=>window.ScrollTimeline!==void 0);class R1{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t,n){const r=this.animations.map(s=>{if(M1()&&s.attachTimeline)return s.attachTimeline(t);if(typeof n=="function")return n(s)});return()=>{r.forEach((s,i)=>{s&&s(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class I1 extends R1{then(t,n){return Promise.all(this.animations).then(t).catch(n)}}function Ou(e,t){return e?e[t]||e.default||e:void 0}const uc=2e4;function Dp(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<uc;)t+=n,r=e.next(t);return t>=uc?1/0:t}function Fu(e){return typeof e=="function"}function Sf(e,t){e.timeline=t,e.onfinish=null}const zu=e=>Array.isArray(e)&&typeof e[0]=="number",D1={linearEasing:void 0};function L1(e,t){const n=Tu(e);return()=>{var r;return(r=D1[t])!==null&&r!==void 0?r:n()}}const qo=L1(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Lp=(e,t,n=10)=>{let r="";const s=Math.max(Math.round(t/n),2);for(let i=0;i<s;i++)r+=e(rs(0,s-1,i))+", ";return`linear(${r.substring(0,r.length-2)})`};function Vp(e){return!!(typeof e=="function"&&qo()||!e||typeof e=="string"&&(e in dc||qo())||zu(e)||Array.isArray(e)&&e.every(Vp))}const Es=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,dc={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Es([0,.65,.55,1]),circOut:Es([.55,0,1,.45]),backIn:Es([.31,.01,.66,-.59]),backOut:Es([.33,1.53,.69,.99])};function Op(e,t){if(e)return typeof e=="function"&&qo()?Lp(e,t):zu(e)?Es(e):Array.isArray(e)?e.map(n=>Op(n,t)||dc.easeOut):dc[e]}const Ut={x:!1,y:!1};function Fp(){return Ut.x||Ut.y}function V1(e,t,n){var r;if(e instanceof Element)return[e];if(typeof e=="string"){let s=document;const i=(r=void 0)!==null&&r!==void 0?r:s.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}function zp(e,t){const n=V1(e),r=new AbortController,s={passive:!0,...t,signal:r.signal};return[n,s,()=>r.abort()]}function Tf(e){return t=>{t.pointerType==="touch"||Fp()||e(t)}}function O1(e,t,n={}){const[r,s,i]=zp(e,n),o=Tf(l=>{const{target:c}=l,d=t(l);if(typeof d!="function"||!c)return;const h=Tf(u=>{d(u),c.removeEventListener("pointerleave",h)});c.addEventListener("pointerleave",h,s)});return r.forEach(l=>{l.addEventListener("pointerenter",o,s)}),i}const Bp=(e,t)=>t?e===t?!0:Bp(e,t.parentElement):!1,Bu=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,F1=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function z1(e){return F1.has(e.tagName)||e.tabIndex!==-1}const _s=new WeakSet;function jf(e){return t=>{t.key==="Enter"&&e(t)}}function Qa(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const B1=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=jf(()=>{if(_s.has(n))return;Qa(n,"down");const s=jf(()=>{Qa(n,"up")}),i=()=>Qa(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",i,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function Cf(e){return Bu(e)&&!Fp()}function U1(e,t,n={}){const[r,s,i]=zp(e,n),o=l=>{const c=l.currentTarget;if(!Cf(l)||_s.has(c))return;_s.add(c);const d=t(l),h=(y,b)=>{window.removeEventListener("pointerup",u),window.removeEventListener("pointercancel",f),!(!Cf(y)||!_s.has(c))&&(_s.delete(c),typeof d=="function"&&d(y,{success:b}))},u=y=>{h(y,n.useGlobalTarget||Bp(c,y.target))},f=y=>{h(y,!1)};window.addEventListener("pointerup",u,s),window.addEventListener("pointercancel",f,s)};return r.forEach(l=>{!z1(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0),(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,s),l.addEventListener("focus",d=>B1(d,s),s)}),i}function W1(e){return e==="x"||e==="y"?Ut[e]?null:(Ut[e]=!0,()=>{Ut[e]=!1}):Ut.x||Ut.y?null:(Ut.x=Ut.y=!0,()=>{Ut.x=Ut.y=!1})}const Up=new Set(["width","height","top","left","right","bottom",...us]);let vo;function H1(){vo=void 0}const sn={now:()=>(vo===void 0&&sn.set(et.isProcessing||Fv.useManualTiming?et.timestamp:performance.now()),vo),set:e=>{vo=e,queueMicrotask(H1)}};function Uu(e,t){e.indexOf(t)===-1&&e.push(t)}function Wu(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Hu{constructor(){this.subscriptions=[]}add(t){return Uu(this.subscriptions,t),()=>Wu(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Wp(e,t){return t?e*(1e3/t):0}const Nf=30,$1=e=>!isNaN(parseFloat(e));class G1{constructor(t,n={}){this.version="11.18.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const i=sn.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=sn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=$1(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Hu);const r=this.events[t].add(n);return t==="change"?()=>{r(),Me.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=sn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Nf)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Nf);return Wp(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function fi(e,t){return new G1(e,t)}function q1(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,fi(n))}function K1(e,t){const n=va(e,t);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const l=o1(i[o]);q1(e,o,l)}}function Y1(e){return!!(lt(e)&&e.add)}function fc(e,t){const n=e.getValue("willChange");if(Y1(n))return n.add(t)}function Hp(e){return e.props[wp]}const $p=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Q1=1e-7,X1=12;function Z1(e,t,n,r,s){let i,o,l=0;do o=t+(n-t)/2,i=$p(o,r,s)-e,i>0?n=o:t=o;while(Math.abs(i)>Q1&&++l<X1);return o}function Si(e,t,n,r){if(e===t&&n===r)return Ct;const s=i=>Z1(i,0,1,e,n);return i=>i===0||i===1?i:$p(s(i),t,r)}const Gp=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,qp=e=>t=>1-e(1-t),Kp=Si(.33,1.53,.69,.99),$u=qp(Kp),Yp=Gp($u),Qp=e=>(e*=2)<1?.5*$u(e):.5*(2-Math.pow(2,-10*(e-1))),Gu=e=>1-Math.sin(Math.acos(e)),Xp=qp(Gu),Zp=Gp(Gu),Jp=e=>/^0[^.\s]+$/u.test(e);function J1(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Jp(e):!0}const Ws=e=>Math.round(e*1e5)/1e5,qu=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function ew(e){return e==null}const tw=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ku=(e,t)=>n=>!!(typeof n=="string"&&tw.test(n)&&n.startsWith(e)||t&&!ew(n)&&Object.prototype.hasOwnProperty.call(n,t)),eg=(e,t,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,l]=r.match(qu);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},nw=e=>wn(0,255,e),Xa={...ds,transform:e=>Math.round(nw(e))},ur={test:Ku("rgb","red"),parse:eg("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Xa.transform(e)+", "+Xa.transform(t)+", "+Xa.transform(n)+", "+Ws(di.transform(r))+")"};function rw(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const hc={test:Ku("#"),parse:rw,transform:ur.transform},zr={test:Ku("hsl","hue"),parse:eg("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+rn.transform(Ws(t))+", "+rn.transform(Ws(n))+", "+Ws(di.transform(r))+")"},ot={test:e=>ur.test(e)||hc.test(e)||zr.test(e),parse:e=>ur.test(e)?ur.parse(e):zr.test(e)?zr.parse(e):hc.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?ur.transform(e):zr.transform(e)},sw=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function iw(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(qu))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(sw))===null||n===void 0?void 0:n.length)||0)>0}const tg="number",ng="color",ow="var",aw="var(",Af="${}",lw=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function hi(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const l=t.replace(lw,c=>(ot.test(c)?(r.color.push(i),s.push(ng),n.push(ot.parse(c))):c.startsWith(aw)?(r.var.push(i),s.push(ow),n.push(c)):(r.number.push(i),s.push(tg),n.push(parseFloat(c))),++i,Af)).split(Af);return{values:n,split:l,indexes:r,types:s}}function rg(e){return hi(e).values}function sg(e){const{split:t,types:n}=hi(e),r=t.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=t[o],s[o]!==void 0){const l=n[o];l===tg?i+=Ws(s[o]):l===ng?i+=ot.transform(s[o]):i+=s[o]}return i}}const cw=e=>typeof e=="number"?0:e;function uw(e){const t=rg(e);return sg(e)(t.map(cw))}const Hn={test:iw,parse:rg,createTransformer:sg,getAnimatableNone:uw},dw=new Set(["brightness","contrast","saturate","opacity"]);function fw(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(qu)||[];if(!r)return e;const s=n.replace(r,"");let i=dw.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const hw=/\b([a-z-]*)\(.*?\)/gu,mc={...Hn,getAnimatableNone:e=>{const t=e.match(hw);return t?t.map(fw).join(" "):e}},mw={...Mu,color:ot,backgroundColor:ot,outlineColor:ot,fill:ot,stroke:ot,borderColor:ot,borderTopColor:ot,borderRightColor:ot,borderBottomColor:ot,borderLeftColor:ot,filter:mc,WebkitFilter:mc},Yu=e=>mw[e];function ig(e,t){let n=Yu(e);return n!==mc&&(n=Hn),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const pw=new Set(["auto","none","0"]);function gw(e,t,n){let r=0,s;for(;r<e.length&&!s;){const i=e[r];typeof i=="string"&&!pw.has(i)&&hi(i).values.length&&(s=e[r]),r++}if(s&&n)for(const i of t)e[i]=ig(n,s)}const Pf=e=>e===ds||e===fe,Ef=(e,t)=>parseFloat(e.split(", ")[t]),_f=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return Ef(s[1],t);{const i=r.match(/^matrix\((.+)\)$/u);return i?Ef(i[1],e):0}},yw=new Set(["x","y","z"]),xw=us.filter(e=>!yw.has(e));function vw(e){const t=[];return xw.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const is={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:_f(4,13),y:_f(5,14)};is.translateX=is.x;is.translateY=is.y;const hr=new Set;let pc=!1,gc=!1;function og(){if(gc){const e=Array.from(hr).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const s=vw(r);s.length&&(n.set(r,s),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var l;(l=r.getValue(i))===null||l===void 0||l.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}gc=!1,pc=!1,hr.forEach(e=>e.complete()),hr.clear()}function ag(){hr.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(gc=!0)})}function ww(){ag(),og()}class Qu{constructor(t,n,r,s,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(hr.add(this),pc||(pc=!0,Me.read(ag),Me.resolveKeyframes(og))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:s}=this;for(let i=0;i<t.length;i++)if(t[i]===null)if(i===0){const o=s==null?void 0:s.get(),l=t[t.length-1];if(o!==void 0)t[0]=o;else if(r&&n){const c=r.readValue(n,l);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=l),s&&o===void 0&&s.set(t[0])}else t[i]=t[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),hr.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,hr.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const lg=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),bw=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function kw(e){const t=bw.exec(e);if(!t)return[,];const[,n,r,s]=t;return[`--${n??r}`,s]}function cg(e,t,n=1){const[r,s]=kw(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const o=i.trim();return lg(o)?parseFloat(o):o}return _u(s)?cg(s,t,n+1):s}const ug=e=>t=>t.test(e),Sw={test:e=>e==="auto",parse:e=>e},dg=[ds,fe,rn,Cn,f1,d1,Sw],Mf=e=>dg.find(ug(e));class fg extends Qu{constructor(t,n,r,s,i){super(t,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let d=t[c];if(typeof d=="string"&&(d=d.trim(),_u(d))){const h=cg(d,n.current);h!==void 0&&(t[c]=h),c===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!Up.has(r)||t.length!==2)return;const[s,i]=t,o=Mf(s),l=Mf(i);if(o!==l)if(Pf(o)&&Pf(l))for(let c=0;c<t.length;c++){const d=t[c];typeof d=="string"&&(t[c]=parseFloat(d))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let s=0;s<t.length;s++)J1(t[s])&&r.push(s);r.length&&gw(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=is[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(r,s).jump(s,!1)}measureEndState(){var t;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const i=n.getValue(r);i&&i.jump(this.measuredOrigin,!1);const o=s.length-1,l=s[o];s[o]=is[r](n.measureViewportBox(),window.getComputedStyle(n.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([c,d])=>{n.getValue(c).set(d)}),this.resolveNoneKeyframes()}}const Rf=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Hn.test(e)||e==="0")&&!e.startsWith("url("));function Tw(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function jw(e,t,n,r){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=Rf(s,t),l=Rf(i,t);return!o||!l?!1:Tw(e)||(n==="spring"||Fu(n))&&r}const Cw=e=>e!==null;function wa(e,{repeat:t,repeatType:n="loop"},r){const s=e.filter(Cw),i=t&&n!=="loop"&&t%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const Nw=40;class hg{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=sn.now(),this.options={autoplay:t,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>Nw?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&ww(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=sn.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:i,delay:o,onComplete:l,onUpdate:c,isGenerator:d}=this.options;if(!d&&!jw(t,r,s,i))if(o)this.options.duration=0;else{c==null||c(wa(t,this.options,n)),l==null||l(),this.resolveFinishedPromise();return}const h=this.initPlayback(t,n);h!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...h},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const Le=(e,t,n)=>e+(t-e)*n;function Za(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Aw({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,i=0,o=0;if(!t)s=i=o=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;s=Za(c,l,e+1/3),i=Za(c,l,e),o=Za(c,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function Ko(e,t){return n=>n>0?t:e}const Ja=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},Pw=[hc,ur,zr],Ew=e=>Pw.find(t=>t.test(e));function If(e){const t=Ew(e);if(!t)return!1;let n=t.parse(e);return t===zr&&(n=Aw(n)),n}const Df=(e,t)=>{const n=If(e),r=If(t);if(!n||!r)return Ko(e,t);const s={...n};return i=>(s.red=Ja(n.red,r.red,i),s.green=Ja(n.green,r.green,i),s.blue=Ja(n.blue,r.blue,i),s.alpha=Le(n.alpha,r.alpha,i),ur.transform(s))},_w=(e,t)=>n=>t(e(n)),Ti=(...e)=>e.reduce(_w),yc=new Set(["none","hidden"]);function Mw(e,t){return yc.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function Rw(e,t){return n=>Le(e,t,n)}function Xu(e){return typeof e=="number"?Rw:typeof e=="string"?_u(e)?Ko:ot.test(e)?Df:Lw:Array.isArray(e)?mg:typeof e=="object"?ot.test(e)?Df:Iw:Ko}function mg(e,t){const n=[...e],r=n.length,s=e.map((i,o)=>Xu(i)(i,t[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function Iw(e,t){const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=Xu(e[s])(e[s],t[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function Dw(e,t){var n;const r=[],s={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const o=t.types[i],l=e.indexes[o][s[o]],c=(n=e.values[l])!==null&&n!==void 0?n:0;r[i]=c,s[o]++}return r}const Lw=(e,t)=>{const n=Hn.createTransformer(t),r=hi(e),s=hi(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?yc.has(e)&&!s.values.length||yc.has(t)&&!r.values.length?Mw(e,t):Ti(mg(Dw(r,s),s.values),n):Ko(e,t)};function pg(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Le(e,t,n):Xu(e)(e,t)}const Vw=5;function gg(e,t,n){const r=Math.max(t-Vw,0);return Wp(n-e(r),t-r)}const Fe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},el=.001;function Ow({duration:e=Fe.duration,bounce:t=Fe.bounce,velocity:n=Fe.velocity,mass:r=Fe.mass}){let s,i,o=1-t;o=wn(Fe.minDamping,Fe.maxDamping,o),e=wn(Fe.minDuration,Fe.maxDuration,pn(e)),o<1?(s=d=>{const h=d*o,u=h*e,f=h-n,y=xc(d,o),b=Math.exp(-u);return el-f/y*b},i=d=>{const u=d*o*e,f=u*n+n,y=Math.pow(o,2)*Math.pow(d,2)*e,b=Math.exp(-u),v=xc(Math.pow(d,2),o);return(-s(d)+el>0?-1:1)*((f-y)*b)/v}):(s=d=>{const h=Math.exp(-d*e),u=(d-n)*e+1;return-el+h*u},i=d=>{const h=Math.exp(-d*e),u=(n-d)*(e*e);return h*u});const l=5/e,c=zw(s,i,l);if(e=mn(e),isNaN(c))return{stiffness:Fe.stiffness,damping:Fe.damping,duration:e};{const d=Math.pow(c,2)*r;return{stiffness:d,damping:o*2*Math.sqrt(r*d),duration:e}}}const Fw=12;function zw(e,t,n){let r=n;for(let s=1;s<Fw;s++)r=r-e(r)/t(r);return r}function xc(e,t){return e*Math.sqrt(1-t*t)}const Bw=["duration","bounce"],Uw=["stiffness","damping","mass"];function Lf(e,t){return t.some(n=>e[n]!==void 0)}function Ww(e){let t={velocity:Fe.velocity,stiffness:Fe.stiffness,damping:Fe.damping,mass:Fe.mass,isResolvedFromDuration:!1,...e};if(!Lf(e,Uw)&&Lf(e,Bw))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*wn(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:Fe.mass,stiffness:s,damping:i}}else{const n=Ow(e);t={...t,...n,mass:Fe.mass},t.isResolvedFromDuration=!0}return t}function yg(e=Fe.visualDuration,t=Fe.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:d,mass:h,duration:u,velocity:f,isResolvedFromDuration:y}=Ww({...n,velocity:-pn(n.velocity||0)}),b=f||0,v=d/(2*Math.sqrt(c*h)),S=o-i,p=pn(Math.sqrt(c/h)),g=Math.abs(S)<5;r||(r=g?Fe.restSpeed.granular:Fe.restSpeed.default),s||(s=g?Fe.restDelta.granular:Fe.restDelta.default);let x;if(v<1){const k=xc(p,v);x=T=>{const N=Math.exp(-v*p*T);return o-N*((b+v*p*S)/k*Math.sin(k*T)+S*Math.cos(k*T))}}else if(v===1)x=k=>o-Math.exp(-p*k)*(S+(b+p*S)*k);else{const k=p*Math.sqrt(v*v-1);x=T=>{const N=Math.exp(-v*p*T),A=Math.min(k*T,300);return o-N*((b+v*p*S)*Math.sinh(A)+k*S*Math.cosh(A))/k}}const w={calculatedDuration:y&&u||null,next:k=>{const T=x(k);if(y)l.done=k>=u;else{let N=0;v<1&&(N=k===0?mn(b):gg(x,k,T));const A=Math.abs(N)<=r,L=Math.abs(o-T)<=s;l.done=A&&L}return l.value=l.done?o:T,l},toString:()=>{const k=Math.min(Dp(w),uc),T=Lp(N=>w.next(k*N).value,k,30);return k+"ms "+T}};return w}function Vf({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:h}){const u=e[0],f={done:!1,value:u},y=A=>l!==void 0&&A<l||c!==void 0&&A>c,b=A=>l===void 0?c:c===void 0||Math.abs(l-A)<Math.abs(c-A)?l:c;let v=n*t;const S=u+v,p=o===void 0?S:o(S);p!==S&&(v=p-u);const g=A=>-v*Math.exp(-A/r),x=A=>p+g(A),w=A=>{const L=g(A),I=x(A);f.done=Math.abs(L)<=d,f.value=f.done?p:I};let k,T;const N=A=>{y(f.value)&&(k=A,T=yg({keyframes:[f.value,b(f.value)],velocity:gg(x,A,f.value),damping:s,stiffness:i,restDelta:d,restSpeed:h}))};return N(0),{calculatedDuration:null,next:A=>{let L=!1;return!T&&k===void 0&&(L=!0,w(A),N(A)),k!==void 0&&A>=k?T.next(A-k):(!L&&w(A),f)}}}const Hw=Si(.42,0,1,1),$w=Si(0,0,.58,1),xg=Si(.42,0,.58,1),Gw=e=>Array.isArray(e)&&typeof e[0]!="number",Of={linear:Ct,easeIn:Hw,easeInOut:xg,easeOut:$w,circIn:Gu,circInOut:Zp,circOut:Xp,backIn:$u,backInOut:Yp,backOut:Kp,anticipate:Qp},Ff=e=>{if(zu(e)){lc(e.length===4);const[t,n,r,s]=e;return Si(t,n,r,s)}else if(typeof e=="string")return lc(Of[e]!==void 0),Of[e];return e};function qw(e,t,n){const r=[],s=n||pg,i=e.length-1;for(let o=0;o<i;o++){let l=s(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||Ct:t;l=Ti(c,l)}r.push(l)}return r}function Kw(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const i=e.length;if(lc(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=qw(t,r,s),c=l.length,d=h=>{if(o&&h<e[0])return t[0];let u=0;if(c>1)for(;u<e.length-2&&!(h<e[u+1]);u++);const f=rs(e[u],e[u+1],h);return l[u](f)};return n?h=>d(wn(e[0],e[i-1],h)):d}function Yw(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=rs(0,t,r);e.push(Le(n,1,s))}}function Qw(e){const t=[0];return Yw(t,e.length-1),t}function Xw(e,t){return e.map(n=>n*t)}function Zw(e,t){return e.map(()=>t||xg).splice(0,e.length-1)}function Yo({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=Gw(r)?r.map(Ff):Ff(r),i={done:!1,value:t[0]},o=Xw(n&&n.length===t.length?n:Qw(t),e),l=Kw(o,t,{ease:Array.isArray(s)?s:Zw(t,s)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}const Jw=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Me.update(t,!0),stop:()=>Wn(t),now:()=>et.isProcessing?et.timestamp:sn.now()}},eb={decay:Vf,inertia:Vf,tween:Yo,keyframes:Yo,spring:yg},tb=e=>e/100;class Zu extends hg{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:n,motionValue:r,element:s,keyframes:i}=this.options,o=(s==null?void 0:s.KeyframeResolver)||Qu,l=(c,d)=>this.onKeyframesResolved(c,d);this.resolver=new o(i,l,n,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=this.options,l=Fu(n)?n:eb[n]||Yo;let c,d;l!==Yo&&typeof t[0]!="number"&&(c=Ti(tb,pg(t[0],t[1])),t=[0,100]);const h=l({...this.options,keyframes:t});i==="mirror"&&(d=l({...this.options,keyframes:[...t].reverse(),velocity:-o})),h.calculatedDuration===null&&(h.calculatedDuration=Dp(h));const{calculatedDuration:u}=h,f=u+s,y=f*(r+1)-s;return{generator:h,mirroredGenerator:d,mapPercentToKeyframes:c,calculatedDuration:u,resolvedDuration:f,totalDuration:y}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:r}=this;if(!r){const{keyframes:A}=this.options;return{done:!0,value:A[A.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:o,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:d,totalDuration:h,resolvedDuration:u}=r;if(this.startTime===null)return i.next(0);const{delay:f,repeat:y,repeatType:b,repeatDelay:v,onUpdate:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-h/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const p=this.currentTime-f*(this.speed>=0?1:-1),g=this.speed>=0?p<0:p>h;this.currentTime=Math.max(p,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=h);let x=this.currentTime,w=i;if(y){const A=Math.min(this.currentTime,h)/u;let L=Math.floor(A),I=A%1;!I&&A>=1&&(I=1),I===1&&L--,L=Math.min(L,y+1),!!(L%2)&&(b==="reverse"?(I=1-I,v&&(I-=v/u)):b==="mirror"&&(w=o)),x=wn(0,1,I)*u}const k=g?{done:!1,value:c[0]}:w.next(x);l&&(k.value=l(k.value));let{done:T}=k;!g&&d!==null&&(T=this.speed>=0?this.currentTime>=h:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&T);return N&&s!==void 0&&(k.value=wa(c,this.options,s)),S&&S(k.value),N&&this.finish(),k}get duration(){const{resolved:t}=this;return t?pn(t.calculatedDuration):0}get time(){return pn(this.currentTime)}set time(t){t=mn(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=pn(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=Jw,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const nb=new Set(["opacity","clipPath","filter","transform"]);function rb(e,t,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:l="easeInOut",times:c}={}){const d={[t]:n};c&&(d.offset=c);const h=Op(l,s);return Array.isArray(h)&&(d.easing=h),e.animate(d,{delay:r,duration:s,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}const sb=Tu(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Qo=10,ib=2e4;function ob(e){return Fu(e.type)||e.type==="spring"||!Vp(e.ease)}function ab(e,t){const n=new Zu({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const s=[];let i=0;for(;!r.done&&i<ib;)r=n.sample(i),s.push(r.value),i+=Qo;return{times:void 0,keyframes:s,duration:i-Qo,ease:"linear"}}const vg={anticipate:Qp,backInOut:Yp,circInOut:Zp};function lb(e){return e in vg}class zf extends hg{constructor(t){super(t);const{name:n,motionValue:r,element:s,keyframes:i}=this.options;this.resolver=new fg(i,(o,l)=>this.onKeyframesResolved(o,l),n,r,s),this.resolver.scheduleResolve()}initPlayback(t,n){var r;let{duration:s=300,times:i,ease:o,type:l,motionValue:c,name:d,startTime:h}=this.options;if(!(!((r=c.owner)===null||r===void 0)&&r.current))return!1;if(typeof o=="string"&&qo()&&lb(o)&&(o=vg[o]),ob(this.options)){const{onComplete:f,onUpdate:y,motionValue:b,element:v,...S}=this.options,p=ab(t,S);t=p.keyframes,t.length===1&&(t[1]=t[0]),s=p.duration,i=p.times,o=p.ease,l="keyframes"}const u=rb(c.owner.current,d,t,{...this.options,duration:s,times:i,ease:o});return u.startTime=h??this.calcStartTime(),this.pendingTimeline?(Sf(u,this.pendingTimeline),this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:f}=this.options;c.set(wa(t,this.options,n)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:s,times:i,type:l,ease:o,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return pn(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return pn(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=mn(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return Ct;const{animation:r}=n;Sf(r,t)}return Ct}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:r,duration:s,type:i,ease:o,times:l}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:d,onUpdate:h,onComplete:u,element:f,...y}=this.options,b=new Zu({...y,keyframes:r,duration:s,type:i,ease:o,times:l,isGenerator:!0}),v=mn(this.time);d.setWithVelocity(b.sample(v-Qo).value,b.sample(v).value,Qo)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:r,repeatDelay:s,repeatType:i,damping:o,type:l}=t;return sb()&&r&&nb.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!s&&i!=="mirror"&&o!==0&&l!=="inertia"}}const cb={type:"spring",stiffness:500,damping:25,restSpeed:10},ub=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),db={type:"keyframes",duration:.8},fb={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},hb=(e,{keyframes:t})=>t.length>2?db:br.has(e)?e.startsWith("scale")?ub(t[1]):cb:fb;function mb({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:d,...h}){return!!Object.keys(h).length}const Ju=(e,t,n,r={},s,i)=>o=>{const l=Ou(r,e)||{},c=l.delay||r.delay||0;let{elapsed:d=0}=r;d=d-mn(c);let h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-d,onUpdate:f=>{t.set(f),l.onUpdate&&l.onUpdate(f)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:i?void 0:s};mb(l)||(h={...h,...hb(e,h)}),h.duration&&(h.duration=mn(h.duration)),h.repeatDelay&&(h.repeatDelay=mn(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let u=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(u=!0)),u&&!i&&t.get()!==void 0){const f=wa(h.keyframes,l);if(f!==void 0)return Me.update(()=>{h.onUpdate(f),h.onComplete()}),new I1([])}return!i&&zf.supports(h)?new zf(h):new Zu(h)};function pb({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function wg(e,t,{delay:n=0,transitionOverride:r,type:s}={}){var i;let{transition:o=e.getDefaultTransition(),transitionEnd:l,...c}=t;r&&(o=r);const d=[],h=s&&e.animationState&&e.animationState.getState()[s];for(const u in c){const f=e.getValue(u,(i=e.latestValues[u])!==null&&i!==void 0?i:null),y=c[u];if(y===void 0||h&&pb(h,u))continue;const b={delay:n,...Ou(o||{},u)};let v=!1;if(window.MotionHandoffAnimation){const p=Hp(e);if(p){const g=window.MotionHandoffAnimation(p,u,Me);g!==null&&(b.startTime=g,v=!0)}}fc(e,u),f.start(Ju(u,f,y,e.shouldReduceMotion&&Up.has(u)?{type:!1}:b,e,v));const S=f.animation;S&&d.push(S)}return l&&Promise.all(d).then(()=>{Me.update(()=>{l&&K1(e,l)})}),d}function vc(e,t,n={}){var r;const s=va(e,t,n.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const o=s?()=>Promise.all(wg(e,s,n)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:h=0,staggerChildren:u,staggerDirection:f}=i;return gb(e,t,h+d,u,f,n)}:()=>Promise.resolve(),{when:c}=i;if(c){const[d,h]=c==="beforeChildren"?[o,l]:[l,o];return d().then(()=>h())}else return Promise.all([o(),l(n.delay)])}function gb(e,t,n=0,r=0,s=1,i){const o=[],l=(e.variantChildren.size-1)*r,c=s===1?(d=0)=>d*r:(d=0)=>l-d*r;return Array.from(e.variantChildren).sort(yb).forEach((d,h)=>{d.notify("AnimationStart",t),o.push(vc(d,t,{...i,delay:n+c(h)}).then(()=>d.notify("AnimationComplete",t)))}),Promise.all(o)}function yb(e,t){return e.sortNodePosition(t)}function xb(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(i=>vc(e,i,n));r=Promise.all(s)}else if(typeof t=="string")r=vc(e,t,n);else{const s=typeof t=="function"?va(e,t,n.custom):t;r=Promise.all(wg(e,s,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const vb=Cu.length;function bg(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?bg(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<vb;n++){const r=Cu[n],s=e.props[r];(ui(s)||s===!1)&&(t[r]=s)}return t}const wb=[...ju].reverse(),bb=ju.length;function kb(e){return t=>Promise.all(t.map(({animation:n,options:r})=>xb(e,n,r)))}function Sb(e){let t=kb(e),n=Bf(),r=!0;const s=c=>(d,h)=>{var u;const f=va(e,h,c==="exit"?(u=e.presenceContext)===null||u===void 0?void 0:u.custom:void 0);if(f){const{transition:y,transitionEnd:b,...v}=f;d={...d,...v,...b}}return d};function i(c){t=c(e)}function o(c){const{props:d}=e,h=bg(e.parent)||{},u=[],f=new Set;let y={},b=1/0;for(let S=0;S<bb;S++){const p=wb[S],g=n[p],x=d[p]!==void 0?d[p]:h[p],w=ui(x),k=p===c?g.isActive:null;k===!1&&(b=S);let T=x===h[p]&&x!==d[p]&&w;if(T&&r&&e.manuallyAnimateOnMount&&(T=!1),g.protectedKeys={...y},!g.isActive&&k===null||!x&&!g.prevProp||ya(x)||typeof x=="boolean")continue;const N=Tb(g.prevProp,x);let A=N||p===c&&g.isActive&&!T&&w||S>b&&w,L=!1;const I=Array.isArray(x)?x:[x];let V=I.reduce(s(p),{});k===!1&&(V={});const{prevResolvedValues:B={}}=g,q={...B,...V},oe=D=>{A=!0,f.has(D)&&(L=!0,f.delete(D)),g.needsAnimating[D]=!0;const _=e.getValue(D);_&&(_.liveStyle=!1)};for(const D in q){const _=V[D],P=B[D];if(y.hasOwnProperty(D))continue;let E=!1;cc(_)&&cc(P)?E=!Ip(_,P):E=_!==P,E?_!=null?oe(D):f.add(D):_!==void 0&&f.has(D)?oe(D):g.protectedKeys[D]=!0}g.prevProp=x,g.prevResolvedValues=V,g.isActive&&(y={...y,...V}),r&&e.blockInitialAnimation&&(A=!1),A&&(!(T&&N)||L)&&u.push(...I.map(D=>({animation:D,options:{type:p}})))}if(f.size){const S={};f.forEach(p=>{const g=e.getBaseTarget(p),x=e.getValue(p);x&&(x.liveStyle=!0),S[p]=g??null}),u.push({animation:S})}let v=!!u.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(v=!1),r=!1,v?t(u):Promise.resolve()}function l(c,d){var h;if(n[c].isActive===d)return Promise.resolve();(h=e.variantChildren)===null||h===void 0||h.forEach(f=>{var y;return(y=f.animationState)===null||y===void 0?void 0:y.setActive(c,d)}),n[c].isActive=d;const u=o(c);for(const f in n)n[f].protectedKeys={};return u}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>n,reset:()=>{n=Bf(),r=!0}}}function Tb(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Ip(t,e):!1}function er(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Bf(){return{animate:er(!0),whileInView:er(),whileHover:er(),whileTap:er(),whileDrag:er(),whileFocus:er(),exit:er()}}class Qn{constructor(t){this.isMounted=!1,this.node=t}update(){}}class jb extends Qn{constructor(t){super(t),t.animationState||(t.animationState=Sb(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();ya(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let Cb=0;class Nb extends Qn{constructor(){super(...arguments),this.id=Cb++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const Ab={animation:{Feature:jb},exit:{Feature:Nb}};function mi(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function ji(e){return{point:{x:e.pageX,y:e.pageY}}}const Pb=e=>t=>Bu(t)&&e(t,ji(t));function Hs(e,t,n,r){return mi(e,t,Pb(n),r)}const Uf=(e,t)=>Math.abs(e-t);function Eb(e,t){const n=Uf(e.x,t.x),r=Uf(e.y,t.y);return Math.sqrt(n**2+r**2)}class kg{constructor(t,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const u=nl(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,y=Eb(u.offset,{x:0,y:0})>=3;if(!f&&!y)return;const{point:b}=u,{timestamp:v}=et;this.history.push({...b,timestamp:v});const{onStart:S,onMove:p}=this.handlers;f||(S&&S(this.lastMoveEvent,u),this.startEvent=this.lastMoveEvent),p&&p(this.lastMoveEvent,u)},this.handlePointerMove=(u,f)=>{this.lastMoveEvent=u,this.lastMoveEventInfo=tl(f,this.transformPagePoint),Me.update(this.updatePoint,!0)},this.handlePointerUp=(u,f)=>{this.end();const{onEnd:y,onSessionEnd:b,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=nl(u.type==="pointercancel"?this.lastMoveEventInfo:tl(f,this.transformPagePoint),this.history);this.startEvent&&y&&y(u,S),b&&b(u,S)},!Bu(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=ji(t),l=tl(o,this.transformPagePoint),{point:c}=l,{timestamp:d}=et;this.history=[{...c,timestamp:d}];const{onSessionStart:h}=n;h&&h(t,nl(l,this.history)),this.removeListeners=Ti(Hs(this.contextWindow,"pointermove",this.handlePointerMove),Hs(this.contextWindow,"pointerup",this.handlePointerUp),Hs(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Wn(this.updatePoint)}}function tl(e,t){return t?{point:t(e.point)}:e}function Wf(e,t){return{x:e.x-t.x,y:e.y-t.y}}function nl({point:e},t){return{point:e,delta:Wf(e,Sg(t)),offset:Wf(e,_b(t)),velocity:Mb(t,.1)}}function _b(e){return e[0]}function Sg(e){return e[e.length-1]}function Mb(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=Sg(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>mn(t)));)n--;if(!r)return{x:0,y:0};const i=pn(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const Tg=1e-4,Rb=1-Tg,Ib=1+Tg,jg=.01,Db=0-jg,Lb=0+jg;function At(e){return e.max-e.min}function Vb(e,t,n){return Math.abs(e-t)<=n}function Hf(e,t,n,r=.5){e.origin=r,e.originPoint=Le(t.min,t.max,e.origin),e.scale=At(n)/At(t),e.translate=Le(n.min,n.max,e.origin)-e.originPoint,(e.scale>=Rb&&e.scale<=Ib||isNaN(e.scale))&&(e.scale=1),(e.translate>=Db&&e.translate<=Lb||isNaN(e.translate))&&(e.translate=0)}function $s(e,t,n,r){Hf(e.x,t.x,n.x,r?r.originX:void 0),Hf(e.y,t.y,n.y,r?r.originY:void 0)}function $f(e,t,n){e.min=n.min+t.min,e.max=e.min+At(t)}function Ob(e,t,n){$f(e.x,t.x,n.x),$f(e.y,t.y,n.y)}function Gf(e,t,n){e.min=t.min-n.min,e.max=e.min+At(t)}function Gs(e,t,n){Gf(e.x,t.x,n.x),Gf(e.y,t.y,n.y)}function Fb(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Le(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Le(n,e,r.max):Math.min(e,n)),e}function qf(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function zb(e,{top:t,left:n,bottom:r,right:s}){return{x:qf(e.x,n,s),y:qf(e.y,t,r)}}function Kf(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function Bb(e,t){return{x:Kf(e.x,t.x),y:Kf(e.y,t.y)}}function Ub(e,t){let n=.5;const r=At(e),s=At(t);return s>r?n=rs(t.min,t.max-r,e.min):r>s&&(n=rs(e.min,e.max-s,t.min)),wn(0,1,n)}function Wb(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const wc=.35;function Hb(e=wc){return e===!1?e=0:e===!0&&(e=wc),{x:Yf(e,"left","right"),y:Yf(e,"top","bottom")}}function Yf(e,t,n){return{min:Qf(e,t),max:Qf(e,n)}}function Qf(e,t){return typeof e=="number"?e:e[t]||0}const Xf=()=>({translate:0,scale:1,origin:0,originPoint:0}),Br=()=>({x:Xf(),y:Xf()}),Zf=()=>({min:0,max:0}),Be=()=>({x:Zf(),y:Zf()});function Mt(e){return[e("x"),e("y")]}function Cg({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function $b({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Gb(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function rl(e){return e===void 0||e===1}function bc({scale:e,scaleX:t,scaleY:n}){return!rl(e)||!rl(t)||!rl(n)}function sr(e){return bc(e)||Ng(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Ng(e){return Jf(e.x)||Jf(e.y)}function Jf(e){return e&&e!=="0%"}function Xo(e,t,n){const r=e-n,s=t*r;return n+s}function eh(e,t,n,r,s){return s!==void 0&&(e=Xo(e,s,r)),Xo(e,n,r)+t}function kc(e,t=0,n=1,r,s){e.min=eh(e.min,t,n,r,s),e.max=eh(e.max,t,n,r,s)}function Ag(e,{x:t,y:n}){kc(e.x,t.translate,t.scale,t.originPoint),kc(e.y,n.translate,n.scale,n.originPoint)}const th=.999999999999,nh=1.0000000000001;function qb(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let i,o;for(let l=0;l<s;l++){i=n[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Wr(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,Ag(e,o)),r&&sr(i.latestValues)&&Wr(e,i.latestValues))}t.x<nh&&t.x>th&&(t.x=1),t.y<nh&&t.y>th&&(t.y=1)}function Ur(e,t){e.min=e.min+t,e.max=e.max+t}function rh(e,t,n,r,s=.5){const i=Le(e.min,e.max,s);kc(e,t,n,i,r)}function Wr(e,t){rh(e.x,t.x,t.scaleX,t.scale,t.originX),rh(e.y,t.y,t.scaleY,t.scale,t.originY)}function Pg(e,t){return Cg(Gb(e.getBoundingClientRect(),t))}function Kb(e,t,n){const r=Pg(e,n),{scroll:s}=t;return s&&(Ur(r.x,s.offset.x),Ur(r.y,s.offset.y)),r}const Eg=({current:e})=>e?e.ownerDocument.defaultView:null,Yb=new WeakMap;class Qb{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Be(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=h=>{const{dragSnapToOrigin:u}=this.getProps();u?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(ji(h).point)},i=(h,u)=>{const{drag:f,dragPropagation:y,onDragStart:b}=this.getProps();if(f&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=W1(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Mt(S=>{let p=this.getAxisMotionValue(S).get()||0;if(rn.test(p)){const{projection:g}=this.visualElement;if(g&&g.layout){const x=g.layout.layoutBox[S];x&&(p=At(x)*(parseFloat(p)/100))}}this.originPoint[S]=p}),b&&Me.postRender(()=>b(h,u)),fc(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},o=(h,u)=>{const{dragPropagation:f,dragDirectionLock:y,onDirectionLock:b,onDrag:v}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:S}=u;if(y&&this.currentDirection===null){this.currentDirection=Xb(S),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",u.point,S),this.updateAxis("y",u.point,S),this.visualElement.render(),v&&v(h,u)},l=(h,u)=>this.stop(h,u),c=()=>Mt(h=>{var u;return this.getAnimationState(h)==="paused"&&((u=this.getAxisMotionValue(h).animation)===null||u===void 0?void 0:u.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new kg(t,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:Eg(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&Me.postRender(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!Ki(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=Fb(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;n&&Fr(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=zb(s.layoutBox,n):this.constraints=!1,this.elastic=Hb(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Mt(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Wb(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Fr(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=Kb(r,s.root,this.visualElement.getTransformPagePoint());let o=Bb(s.layout.layoutBox,i);if(n){const l=n($b(o));this.hasMutatedConstraints=!!l,l&&(o=Cg(l))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=Mt(h=>{if(!Ki(h,n,this.currentDirection))return;let u=c&&c[h]||{};o&&(u={min:0,max:0});const f=s?200:1e6,y=s?40:1e7,b={type:"inertia",velocity:r?t[h]:0,bounceStiffness:f,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...i,...u};return this.startAxisValueAnimation(h,b)});return Promise.all(d).then(l)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return fc(this.visualElement,t),r.start(Ju(t,r,0,n,this.visualElement,!1))}stopAnimation(){Mt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Mt(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Mt(n=>{const{drag:r}=this.getProps();if(!Ki(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:l}=s.layout.layoutBox[n];i.set(t[n]-Le(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Fr(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Mt(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();s[o]=Ub({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Mt(o=>{if(!Ki(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(Le(c,d,s[o]))})}addListeners(){if(!this.visualElement.current)return;Yb.set(this.visualElement,this);const t=this.visualElement.current,n=Hs(t,"pointerdown",c=>{const{drag:d,dragListener:h=!0}=this.getProps();d&&h&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Fr(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Me.read(r);const o=mi(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(Mt(h=>{const u=this.getAxisMotionValue(h);u&&(this.originPoint[h]+=c[h].translate,u.set(u.get()+c[h].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=wc,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function Ki(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function Xb(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Zb extends Qn{constructor(t){super(t),this.removeGroupControls=Ct,this.removeListeners=Ct,this.controls=new Qb(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ct}unmount(){this.removeGroupControls(),this.removeListeners()}}const sh=e=>(t,n)=>{e&&Me.postRender(()=>e(t,n))};class Jb extends Qn{constructor(){super(...arguments),this.removePointerDownListener=Ct}onPointerDown(t){this.session=new kg(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Eg(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:sh(t),onStart:sh(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&Me.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=Hs(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const wo={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function ih(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const bs={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(fe.test(e))e=parseFloat(e);else return e;const n=ih(e,t.target.x),r=ih(e,t.target.y);return`${n}% ${r}%`}},e2={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=Hn.parse(e);if(s.length>5)return r;const i=Hn.createTransformer(e),o=typeof s[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;s[0+o]/=l,s[1+o]/=c;const d=Le(l,c,.5);return typeof s[2+o]=="number"&&(s[2+o]/=d),typeof s[3+o]=="number"&&(s[3+o]/=d),i(s)}};class t2 extends m.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=t;k1(n2),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),wo.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,s||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||Me.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Au.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function _g(e){const[t,n]=mp(),r=m.useContext(wu);return a.jsx(t2,{...e,layoutGroup:r,switchLayoutGroup:m.useContext(bp),isPresent:t,safeToRemove:n})}const n2={borderRadius:{...bs,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:bs,borderTopRightRadius:bs,borderBottomLeftRadius:bs,borderBottomRightRadius:bs,boxShadow:e2};function r2(e,t,n){const r=lt(e)?e:fi(e);return r.start(Ju("",r,t,n)),r.animation}function s2(e){return e instanceof SVGElement&&e.tagName!=="svg"}const i2=(e,t)=>e.depth-t.depth;class o2{constructor(){this.children=[],this.isDirty=!1}add(t){Uu(this.children,t),this.isDirty=!0}remove(t){Wu(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(i2),this.isDirty=!1,this.children.forEach(t)}}function a2(e,t){const n=sn.now(),r=({timestamp:s})=>{const i=s-n;i>=t&&(Wn(r),e(i-t))};return Me.read(r,!0),()=>Wn(r)}const Mg=["TopLeft","TopRight","BottomLeft","BottomRight"],l2=Mg.length,oh=e=>typeof e=="string"?parseFloat(e):e,ah=e=>typeof e=="number"||fe.test(e);function c2(e,t,n,r,s,i){s?(e.opacity=Le(0,n.opacity!==void 0?n.opacity:1,u2(r)),e.opacityExit=Le(t.opacity!==void 0?t.opacity:1,0,d2(r))):i&&(e.opacity=Le(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<l2;o++){const l=`border${Mg[o]}Radius`;let c=lh(t,l),d=lh(n,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||ah(c)===ah(d)?(e[l]=Math.max(Le(oh(c),oh(d),r),0),(rn.test(d)||rn.test(c))&&(e[l]+="%")):e[l]=d}(t.rotate||n.rotate)&&(e.rotate=Le(t.rotate||0,n.rotate||0,r))}function lh(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const u2=Rg(0,.5,Xp),d2=Rg(.5,.95,Ct);function Rg(e,t,n){return r=>r<e?0:r>t?1:n(rs(e,t,r))}function ch(e,t){e.min=t.min,e.max=t.max}function _t(e,t){ch(e.x,t.x),ch(e.y,t.y)}function uh(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function dh(e,t,n,r,s){return e-=t,e=Xo(e,1/n,r),s!==void 0&&(e=Xo(e,1/s,r)),e}function f2(e,t=0,n=1,r=.5,s,i=e,o=e){if(rn.test(t)&&(t=parseFloat(t),t=Le(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=Le(i.min,i.max,r);e===i&&(l-=t),e.min=dh(e.min,t,n,l,s),e.max=dh(e.max,t,n,l,s)}function fh(e,t,[n,r,s],i,o){f2(e,t[n],t[r],t[s],t.scale,i,o)}const h2=["x","scaleX","originX"],m2=["y","scaleY","originY"];function hh(e,t,n,r){fh(e.x,t,h2,n?n.x:void 0,r?r.x:void 0),fh(e.y,t,m2,n?n.y:void 0,r?r.y:void 0)}function mh(e){return e.translate===0&&e.scale===1}function Ig(e){return mh(e.x)&&mh(e.y)}function ph(e,t){return e.min===t.min&&e.max===t.max}function p2(e,t){return ph(e.x,t.x)&&ph(e.y,t.y)}function gh(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Dg(e,t){return gh(e.x,t.x)&&gh(e.y,t.y)}function yh(e){return At(e.x)/At(e.y)}function xh(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class g2{constructor(){this.members=[]}add(t){Uu(this.members,t),t.scheduleRender()}remove(t){if(Wu(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function y2(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:d,rotate:h,rotateX:u,rotateY:f,skewX:y,skewY:b}=n;d&&(r=`perspective(${d}px) ${r}`),h&&(r+=`rotate(${h}deg) `),u&&(r+=`rotateX(${u}deg) `),f&&(r+=`rotateY(${f}deg) `),y&&(r+=`skewX(${y}deg) `),b&&(r+=`skewY(${b}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const ir={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Ms=typeof window<"u"&&window.MotionDebug!==void 0,sl=["","X","Y","Z"],x2={visibility:"hidden"},vh=1e3;let v2=0;function il(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function Lg(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=Hp(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Me,!(s||i))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&Lg(r)}function Vg({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},l=t==null?void 0:t()){this.id=v2++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ms&&(ir.totalNodes=ir.resolvedTargetDeltas=ir.recalculatedProjection=0),this.nodes.forEach(k2),this.nodes.forEach(N2),this.nodes.forEach(A2),this.nodes.forEach(S2),Ms&&window.MotionDebug.record(ir)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new o2)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Hu),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=s2(o),this.instance=o;const{layoutId:c,layout:d,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(d||c)&&(this.isLayoutDirty=!0),e){let u;const f=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,u&&u(),u=a2(f,250),wo.hasAnimatedSinceResize&&(wo.hasAnimatedSinceResize=!1,this.nodes.forEach(bh))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&h&&(c||d)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:f,hasRelativeTargetChanged:y,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||h.getDefaultTransition()||R2,{onLayoutAnimationStart:S,onLayoutAnimationComplete:p}=h.getProps(),g=!this.targetLayout||!Dg(this.targetLayout,b)||y,x=!f&&y;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||x||f&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(u,x);const w={...Ou(v,"layout"),onPlay:S,onComplete:p};(h.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w)}else f||bh(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Wn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(P2),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Lg(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const u=this.path[h];u.shouldResetTransform=!0,u.updateScroll("snapshot"),u.options.layoutRoot&&u.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(wh);return}this.isUpdating||this.nodes.forEach(j2),this.isUpdating=!1,this.nodes.forEach(C2),this.nodes.forEach(w2),this.nodes.forEach(b2),this.clearAllSnapshots();const l=sn.now();et.delta=wn(0,1e3/60,l-et.timestamp),et.timestamp=l,et.isProcessing=!0,Ya.update.process(et),Ya.preRender.process(et),Ya.render.process(et),et.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Au.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(T2),this.sharedNodes.forEach(E2)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Me.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Me.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Be(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!Ig(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,h=d!==this.prevTransformTemplateValue;o&&(l||sr(this.latestValues)||h)&&(s(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),I2(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:l}=this.options;if(!l)return Be();const c=l.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(D2))){const{scroll:h}=this.root;h&&(Ur(c.x,h.offset.x),Ur(c.y,h.offset.y))}return c}removeElementScroll(o){var l;const c=Be();if(_t(c,o),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let d=0;d<this.path.length;d++){const h=this.path[d],{scroll:u,options:f}=h;h!==this.root&&u&&f.layoutScroll&&(u.wasRoot&&_t(c,o),Ur(c.x,u.offset.x),Ur(c.y,u.offset.y))}return c}applyTransform(o,l=!1){const c=Be();_t(c,o);for(let d=0;d<this.path.length;d++){const h=this.path[d];!l&&h.options.layoutScroll&&h.scroll&&h!==h.root&&Wr(c,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),sr(h.latestValues)&&Wr(c,h.latestValues)}return sr(this.latestValues)&&Wr(c,this.latestValues),c}removeTransform(o){const l=Be();_t(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!sr(d.latestValues))continue;bc(d.latestValues)&&d.updateSnapshot();const h=Be(),u=d.measurePageBox();_t(h,u),hh(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,h)}return sr(this.latestValues)&&hh(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==et.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:f}=this.options;if(!(!this.layout||!(u||f))){if(this.resolvedRelativeTargetAt=et.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Be(),this.relativeTargetOrigin=Be(),Gs(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),_t(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Be(),this.targetWithTransforms=Be()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Ob(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):_t(this.target,this.layout.layoutBox),Ag(this.target,this.targetDelta)):_t(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Be(),this.relativeTargetOrigin=Be(),Gs(this.relativeTargetOrigin,this.target,y.target),_t(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ms&&ir.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||bc(this.parent.latestValues)||Ng(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===et.timestamp&&(d=!1),d)return;const{layout:h,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||u))return;_t(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,y=this.treeScale.y;qb(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Be());const{target:b}=l;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(uh(this.prevProjectionDelta.x,this.projectionDelta.x),uh(this.prevProjectionDelta.y,this.projectionDelta.y)),$s(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==y||!xh(this.projectionDelta.x,this.prevProjectionDelta.x)||!xh(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b)),Ms&&ir.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Br(),this.projectionDelta=Br(),this.projectionDeltaWithTransform=Br()}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},h={...this.latestValues},u=Br();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=Be(),y=c?c.source:void 0,b=this.layout?this.layout.source:void 0,v=y!==b,S=this.getStack(),p=!S||S.members.length<=1,g=!!(v&&!p&&this.options.crossfade===!0&&!this.path.some(M2));this.animationProgress=0;let x;this.mixTargetDelta=w=>{const k=w/1e3;kh(u.x,o.x,k),kh(u.y,o.y,k),this.setTargetDelta(u),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Gs(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),_2(this.relativeTarget,this.relativeTargetOrigin,f,k),x&&p2(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=Be()),_t(x,this.relativeTarget)),v&&(this.animationValues=h,c2(h,d,this.latestValues,k,g,p)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Wn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Me.update(()=>{wo.hasAnimatedSinceResize=!0,this.currentAnimation=r2(0,vh,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(vh),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:h}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&Og(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||Be();const u=At(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+u;const f=At(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+f}_t(l,c),Wr(l,h),$s(this.projectionDeltaWithTransform,this.layoutCorrected,l,h)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new g2),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&il("z",o,d,this.animationValues);for(let h=0;h<sl.length;h++)il(`rotate${sl[h]}`,o,d,this.animationValues),il(`skew${sl[h]}`,o,d,this.animationValues);o.render();for(const h in d)o.setStaticValue(h,d[h]),this.animationValues&&(this.animationValues[h]=d[h]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return x2;const d={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=xo(o==null?void 0:o.pointerEvents)||"",d.transform=h?h(this.latestValues,""):"none",d;const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=xo(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!sr(this.latestValues)&&(v.transform=h?h({},""):"none",this.hasProjected=!1),v}const f=u.animationValues||u.latestValues;this.applyTransformsToTarget(),d.transform=y2(this.projectionDeltaWithTransform,this.treeScale,f),h&&(d.transform=h(f,d.transform));const{x:y,y:b}=this.projectionDelta;d.transformOrigin=`${y.origin*100}% ${b.origin*100}% 0`,u.animationValues?d.opacity=u===this?(c=(l=f.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:d.opacity=u===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const v in Go){if(f[v]===void 0)continue;const{correct:S,applyTo:p}=Go[v],g=d.transform==="none"?f[v]:S(f[v],u);if(p){const x=p.length;for(let w=0;w<x;w++)d[p[w]]=g}else d[v]=g}return this.options.layoutId&&(d.pointerEvents=u===this?xo(o==null?void 0:o.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(wh),this.root.sharedNodes.clear()}}}function w2(e){e.updateLayout()}function b2(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:i}=e.options,o=n.source!==e.layout.source;i==="size"?Mt(u=>{const f=o?n.measuredBox[u]:n.layoutBox[u],y=At(f);f.min=r[u].min,f.max=f.min+y}):Og(i,n.layoutBox,r)&&Mt(u=>{const f=o?n.measuredBox[u]:n.layoutBox[u],y=At(r[u]);f.max=f.min+y,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[u].max=e.relativeTarget[u].min+y)});const l=Br();$s(l,r,n.layoutBox);const c=Br();o?$s(c,e.applyTransform(s,!0),n.measuredBox):$s(c,r,n.layoutBox);const d=!Ig(l);let h=!1;if(!e.resumeFrom){const u=e.getClosestProjectingParent();if(u&&!u.resumeFrom){const{snapshot:f,layout:y}=u;if(f&&y){const b=Be();Gs(b,n.layoutBox,f.layoutBox);const v=Be();Gs(v,r,y.layoutBox),Dg(b,v)||(h=!0),u.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=b,e.relativeParent=u)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeTargetChanged:h})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function k2(e){Ms&&ir.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function S2(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function T2(e){e.clearSnapshot()}function wh(e){e.clearMeasurements()}function j2(e){e.isLayoutDirty=!1}function C2(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function bh(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function N2(e){e.resolveTargetDelta()}function A2(e){e.calcProjection()}function P2(e){e.resetSkewAndRotation()}function E2(e){e.removeLeadSnapshot()}function kh(e,t,n){e.translate=Le(t.translate,0,n),e.scale=Le(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Sh(e,t,n,r){e.min=Le(t.min,n.min,r),e.max=Le(t.max,n.max,r)}function _2(e,t,n,r){Sh(e.x,t.x,n.x,r),Sh(e.y,t.y,n.y,r)}function M2(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const R2={duration:.45,ease:[.4,0,.1,1]},Th=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),jh=Th("applewebkit/")&&!Th("chrome/")?Math.round:Ct;function Ch(e){e.min=jh(e.min),e.max=jh(e.max)}function I2(e){Ch(e.x),Ch(e.y)}function Og(e,t,n){return e==="position"||e==="preserve-aspect"&&!Vb(yh(t),yh(n),.2)}function D2(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const L2=Vg({attachResizeListener:(e,t)=>mi(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ol={current:void 0},Fg=Vg({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!ol.current){const e=new L2({});e.mount(window),e.setOptions({layoutScroll:!0}),ol.current=e}return ol.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),V2={pan:{Feature:Jb},drag:{Feature:Zb,ProjectionNode:Fg,MeasureLayout:_g}};function Nh(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&Me.postRender(()=>i(t,ji(t)))}class O2 extends Qn{mount(){const{current:t}=this.node;t&&(this.unmount=O1(t,n=>(Nh(this.node,n,"Start"),r=>Nh(this.node,r,"End"))))}unmount(){}}class F2 extends Qn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ti(mi(this.node.current,"focus",()=>this.onFocus()),mi(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Ah(e,t,n){const{props:r}=e;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&Me.postRender(()=>i(t,ji(t)))}class z2 extends Qn{mount(){const{current:t}=this.node;t&&(this.unmount=U1(t,n=>(Ah(this.node,n,"Start"),(r,{success:s})=>Ah(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Sc=new WeakMap,al=new WeakMap,B2=e=>{const t=Sc.get(e.target);t&&t(e)},U2=e=>{e.forEach(B2)};function W2({root:e,...t}){const n=e||document;al.has(n)||al.set(n,{});const r=al.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(U2,{root:e,...t})),r[s]}function H2(e,t,n){const r=W2(t);return Sc.set(e,n),r.observe(e),()=>{Sc.delete(e),r.unobserve(e)}}const $2={some:0,all:1};class G2 extends Qn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:$2[s]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:h,onViewportLeave:u}=this.node.getProps(),f=d?h:u;f&&f(c)};return H2(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(q2(t,n))&&this.startObserver()}unmount(){}}function q2({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const K2={inView:{Feature:G2},tap:{Feature:z2},focus:{Feature:F2},hover:{Feature:O2}},Y2={layout:{ProjectionNode:Fg,MeasureLayout:_g}},Tc={current:null},zg={current:!1};function Q2(){if(zg.current=!0,!!Su)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Tc.current=e.matches;e.addListener(t),t()}else Tc.current=!1}const X2=[...dg,ot,Hn],Z2=e=>X2.find(ug(e)),Ph=new WeakMap;function J2(e,t,n){for(const r in t){const s=t[r],i=n[r];if(lt(s))e.addValue(r,s);else if(lt(i))e.addValue(r,fi(s,{owner:e}));else if(i!==s)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=e.getStaticValue(r);e.addValue(r,fi(o!==void 0?o:s,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const Eh=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class ek{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Qu,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=sn.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,Me.render(this.render,!1,!0))};const{latestValues:c,renderState:d,onUpdate:h}=o;this.onUpdate=h,this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=d,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=xa(n),this.isVariantNode=vp(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const y in f){const b=f[y];c[y]!==void 0&&lt(b)&&b.set(c[y],!1)}}mount(t){this.current=t,Ph.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),zg.current||Q2(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Tc.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Ph.delete(this.current),this.projection&&this.projection.unmount(),Wn(this.notifyUpdate),Wn(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=br.has(t),s=n.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&Me.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in ss){const n=ss[t];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[t]&&s&&r(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Be()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Eh.length;r++){const s=Eh[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=t[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=J2(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=fi(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var r;let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(lg(s)||Jp(s))?s=parseFloat(s):!Z2(s)&&Hn.test(n)&&(s=ig(t,n)),this.setBaseTarget(t,lt(s)?s.get():s)),lt(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const o=Eu(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(s=o[t])}if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!lt(i)?i:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Hu),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class Bg extends ek{constructor(){super(...arguments),this.KeyframeResolver=fg}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;lt(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function tk(e){return window.getComputedStyle(e)}class nk extends Bg{constructor(){super(...arguments),this.type="html",this.renderInstance=Ap}readValueFromInstance(t,n){if(br.has(n)){const r=Yu(n);return r&&r.default||0}else{const r=tk(t),s=(jp(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Pg(t,n)}build(t,n,r){Ru(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return Vu(t,n,r)}}class rk extends Bg{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Be}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(br.has(n)){const r=Yu(n);return r&&r.default||0}return n=Pp.has(n)?n:Nu(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return Mp(t,n,r)}build(t,n,r){Iu(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,s){Ep(t,n,r,s)}mount(t){this.isSVGTag=Lu(t.tagName),super.mount(t)}}const sk=(e,t)=>Pu(e)?new rk(t):new nk(t,{allowProjection:e!==m.Fragment}),ik=_1({...Ab,...K2,...V2,...Y2},sk),X=Gv(ik);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ok={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ak=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),le=(e,t)=>{const n=m.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...d},h)=>m.createElement("svg",{ref:h,...ok,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${ak(e)}`,l].join(" "),...d},[...t.map(([u,f])=>m.createElement(u,f)),...Array.isArray(c)?c:[c]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ug=le("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wg=le("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lk=le("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ck=le("Battery",[["rect",{width:"16",height:"10",x:"2",y:"7",rx:"2",ry:"2",key:"1w10f2"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uk=le("Blocks",[["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["path",{d:"M10 21V8a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-5a1 1 0 0 0-1-1H3",key:"1fpvtg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dk=le("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hg=le("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fk=le("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hk=le("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mk=le("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pk=le("ClipboardPenLine",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",key:"1oijnt"}],["path",{d:"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-.5",key:"1but9f"}],["path",{d:"M16 4h2a2 2 0 0 1 1.73 1",key:"1p8n7l"}],["path",{d:"M8 18h1",key:"13wk12"}],["path",{d:"M18.4 9.6a2 2 0 0 1 3 3L17 17l-4 1 1-4Z",key:"yg2pdb"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=le("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ed=le("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $g=le("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gk=le("Crosshair",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yk=le("Disc3",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M6 12c0-1.7.7-3.2 1.8-4.2",key:"oqkarx"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M18 12c0 1.7-.7 3.2-1.8 4.2",key:"1eah9h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gg=le("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xk=le("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vk=le("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qg=le("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _h=le("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wk=le("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kg=le("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bk=le("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kk=le("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yg=le("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sk=le("Keyboard",[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ll=le("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qg=le("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mh=le("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tk=le("Minimize",[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xg=le("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rh=le("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ih=le("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pi=le("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $n=le("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jk=le("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ck=le("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zg=le("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const td=le("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gi=le("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nk=le("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ba=le("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dh=le("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zo=le("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ak=le("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nd=le("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pk=le("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ek=le("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _k=le("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bn=le("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mk=le("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rk=le("Unlock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ik=le("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jg=le("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dk=le("Volume1",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cl=le("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jc=le("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lk=le("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vk=le("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xn=le("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gn=le("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),zt=20,Yi=150,Lh=5,Vh=50;function Ok(){const e=()=>{try{return parseInt(localStorage.getItem("simpleSnakeHighScore")||"0",10)}catch{return 0}},[t,n]=m.useState({snake:[{x:10,y:10}],food:{x:15,y:10},direction:"right",nextDirection:null,score:0,highScore:e(),gameState:"menu",speed:Yi,foodEaten:0,powerUp:void 0,activePowerUps:{}}),r=m.useRef(null);m.useRef(0);const s=m.useCallback((y,b)=>{const v=[];for(let S=0;S<zt;S++)for(let p=0;p<zt;p++){const g=y.some(w=>w.x===S&&w.y===p),x=b&&b.x===S&&b.y===p;!g&&!x&&v.push({x:S,y:p})}return v.length>0?v[Math.floor(Math.random()*v.length)]:{x:0,y:0}},[]),i=m.useCallback((y,b)=>{if(Math.random()>.15)return;const v=["speed","double","shield","ghost"],S=v[Math.floor(Math.random()*v.length)],p=[];for(let g=0;g<zt;g++)for(let x=0;x<zt;x++){const w=y.some(T=>T.x===g&&T.y===x),k=b.x===g&&b.y===x;!w&&!k&&p.push({x:g,y:x})}if(p.length>0){const g=p[Math.floor(Math.random()*p.length)];return{type:S,position:g,expiresAt:Date.now()+8e3}}},[]),o=(y,b)=>{switch(b){case"up":return{x:y.x,y:y.y-1};case"down":return{x:y.x,y:y.y+1};case"left":return{x:y.x-1,y:y.y};case"right":return{x:y.x+1,y:y.y}}},l=y=>y?y.x<0||y.x>=zt||y.y<0||y.y>=zt:!0,c=m.useCallback(()=>{n(y=>{if(y.gameState!=="playing")return y;if(!y.snake||y.snake.length===0)return console.error("Snake array is empty"),y;const b=Date.now();let v={...y.activePowerUps},S=y.powerUp;v.speed&&v.speed<b&&delete v.speed,v.ghost&&v.ghost<b&&delete v.ghost,S&&S.expiresAt<b&&(S=void 0);const p=y.nextDirection||y.direction,g=y.snake[0];let x=o(g,p);v.ghost&&v.ghost>b&&(x.x<0&&(x.x=zt-1),x.x>=zt&&(x.x=0),x.y<0&&(x.y=zt-1),x.y>=zt&&(x.y=0));const w=y.snake.length>1&&y.snake.slice(0,-1).some(B=>B.x===x.x&&B.y===x.y),k=!v.ghost&&l(x);if(k||w)if(v.shield&&k)delete v.shield,x=g;else{const B=Math.max(y.score,y.highScore);return B>y.highScore&&localStorage.setItem("simpleSnakeHighScore",B.toString()),{...y,gameState:"gameOver",highScore:B,activePowerUps:{}}}let T=[x,...y.snake],N=y.food,A=y.score,L=y.speed,I=y.foodEaten,V=S;if(S&&x.x===S.position.x&&x.y===S.position.y){switch(S.type){case"speed":v.speed=b+5e3,L=Math.min(Yi+30,y.speed+30);break;case"double":v.double=3;break;case"shield":v.shield=!0;break;case"ghost":v.ghost=b+7e3;break}V=void 0}if(x.x===y.food.x&&x.y===y.food.y){I++;let B=10;v.double&&v.double>0&&(B=20,v.double--,v.double===0&&delete v.double),A+=B,N=s(T,V==null?void 0:V.position),V||(V=i(T,N)),!v.speed&&A%50===0&&(L=Math.max(Vh,y.speed-Lh))}else T.pop();return!v.speed&&y.activePowerUps.speed&&(L=Yi-Math.floor(A/50)*Lh,L=Math.max(Vh,L)),{...y,snake:T,food:N,direction:p,nextDirection:null,score:A,speed:L,foodEaten:I,powerUp:V,activePowerUps:v}})},[s,i]),d=m.useCallback(()=>{const y=[{x:10,y:10}],b=s(y);n(v=>({snake:y,food:b,direction:"right",nextDirection:null,score:0,highScore:v.highScore,gameState:"playing",speed:Yi,foodEaten:0,powerUp:void 0,activePowerUps:{}}))},[s]),h=m.useCallback(()=>{n(y=>y.gameState==="playing"?{...y,gameState:"paused"}:y.gameState==="paused"?{...y,gameState:"playing"}:y)},[]),u=m.useCallback(y=>{n(b=>{if(b.gameState!=="playing")return b;const v=b.nextDirection||b.direction;return v==="up"&&y==="down"||v==="down"&&y==="up"||v==="left"&&y==="right"||v==="right"&&y==="left"?b:{...b,nextDirection:y}})},[]),f=m.useCallback(()=>{n(y=>({...y,gameState:"menu"}))},[]);return m.useEffect(()=>(t.gameState==="playing"?r.current=setInterval(()=>{c()},t.speed):r.current&&(clearInterval(r.current),r.current=null),()=>{r.current&&clearInterval(r.current)}),[t.gameState,t.speed,c]),m.useEffect(()=>{const y=b=>{["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","w","a","s","d"," ","Enter"].includes(b.key)&&b.preventDefault(),b.key==="ArrowUp"||b.key==="w"?u("up"):b.key==="ArrowDown"||b.key==="s"?u("down"):b.key==="ArrowLeft"||b.key==="a"?u("left"):b.key==="ArrowRight"||b.key==="d"?u("right"):b.key===" "?(t.gameState==="playing"||t.gameState==="paused")&&h():b.key==="Enter"&&(t.gameState==="menu"||t.gameState==="gameOver")&&d()};return window.addEventListener("keydown",y),()=>window.removeEventListener("keydown",y)},[t.gameState,u,h,d]),{gameState:t,startGame:d,togglePause:h,resetGame:f,changeDirection:u,gridSize:zt}}const Sr=()=>({highScore:0,level:1,achievements:[],stats:{gamesPlayed:0,totalScore:0,bestCombo:0,longestSurvival:0,bossesDefeated:0},lastPlayed:Date.now(),preferences:{}}),Tr=()=>({version:"1.0.0",games:{snakeClassic:Sr(),vortexPong:Sr(),matrixCloud:Sr(),ctrlSWorld:Sr(),matrixInvaders:Sr(),metris:Sr()},globalStats:{totalPlayTime:0,favoriteGame:"",globalAchievements:[],firstPlayDate:Date.now()},settings:{autoSave:!0}}),Oh={snakeClassic:[{id:"snake_first_apple",name:"First Bite",description:"Eat your first data fragment",game:"Snake Classic"},{id:"snake_score_100",name:"Century Mark",description:"Score 100 points",game:"Snake Classic"},{id:"snake_score_500",name:"Data Hoarder",description:"Score 500 points",game:"Snake Classic"},{id:"snake_combo_10",name:"Chain Reaction",description:"Achieve 10x combo",game:"Snake Classic"},{id:"snake_power_master",name:"Power User",description:"Collect 10 power-ups in one game",game:"Snake Classic"},{id:"snake_survivor",name:"Survival Expert",description:"Survive for 5 minutes",game:"Snake Classic"},{id:"snake_speed_demon",name:"Speed Demon",description:"Score 100 points on max speed",game:"Snake Classic"}],vortexPong:[{id:"pong_first_point",name:"First Strike",description:"Score your first point",game:"Vortex Pong"},{id:"pong_beat_ai",name:"AI Destroyer",description:"Defeat the AI opponent",game:"Vortex Pong"},{id:"pong_perfect_game",name:"Flawless Victory",description:"Win without losing a point",game:"Vortex Pong"},{id:"pong_multi_ball",name:"Ball Juggler",description:"Handle 3 balls simultaneously",game:"Vortex Pong"},{id:"pong_combo_king",name:"Combo King",description:"Score 5 consecutive paddle hits",game:"Vortex Pong"},{id:"pong_rally_master",name:"Rally Master",description:"20 hits in a single rally",game:"Vortex Pong"}],matrixCloud:[{id:"cloud_first_flight",name:"Digital Pilot",description:"Complete your first flight",game:"Matrix Cloud"},{id:"cloud_level_5",name:"Matrix Navigator",description:"Reach level 5",game:"Matrix Cloud"},{id:"cloud_boss_slayer",name:"Agent Destroyer",description:"Defeat your first boss",game:"Matrix Cloud"},{id:"cloud_power_collector",name:"Power Seeker",description:"Collect 20 power-ups",game:"Matrix Cloud"},{id:"cloud_architect_defeat",name:"Architect's Bane",description:"Defeat the Architect",game:"Matrix Cloud"},{id:"cloud_all_bosses",name:"Boss Master",description:"Defeat all three bosses",game:"Matrix Cloud"},{id:"cloud_high_flyer",name:"High Flyer",description:"Reach altitude 1000",game:"Matrix Cloud"}],matrixInvaders:[{id:"invaders_first_kill",name:"Code Breaker",description:"Destroy your first invader",game:"Matrix Invaders"},{id:"invaders_wave_5",name:"Wave Survivor",description:"Reach wave 5",game:"Matrix Invaders"},{id:"invaders_combo_10",name:"Combo Master",description:"Achieve a 10x combo",game:"Matrix Invaders"},{id:"invaders_bullet_time",name:"Time Bender",description:"Use bullet time 5 times",game:"Matrix Invaders"},{id:"invaders_perfect_wave",name:"Flawless Defense",description:"Complete a wave without taking damage",game:"Matrix Invaders"},{id:"invaders_boss_defeat",name:"System Override",description:"Defeat a boss enemy",game:"Matrix Invaders"},{id:"invaders_high_score",name:"Elite Hacker",description:"Score over 10,000 points",game:"Matrix Invaders"}],ctrlSWorld:[{id:"ctrl_coffee_addict",name:"Caffeine Dependent",description:"Reach 100% coffee level",game:"CTRL-S World"},{id:"ctrl_clean_coder",name:"Clean Code Master",description:"Achieve 90+ code quality",game:"CTRL-S World"},{id:"ctrl_choice_master",name:"Decision Maker",description:"Make 50 choices",game:"CTRL-S World"},{id:"ctrl_story_complete",name:"Epic Journey",description:"Complete the main storyline",game:"CTRL-S World"},{id:"ctrl_collector",name:"Item Hoarder",description:"Collect 10 different items",game:"CTRL-S World"},{id:"ctrl_voice_master",name:"Voice Commander",description:"Use Shatner voice for 5 minutes",game:"CTRL-S World"},{id:"ctrl_bug_free",name:"Bug Free",description:"Achieve 0 bugs",game:"CTRL-S World"}],metris:[{id:"first_line",name:"First Steps",description:"Clear your first line",game:"Metris"},{id:"tetris",name:"Tetris Master",description:"Clear 4 lines at once",game:"Metris"},{id:"level_10",name:"Speed Demon",description:"Reach level 10",game:"Metris"},{id:"high_roller",name:"High Roller",description:"Score 10,000 points",game:"Metris"},{id:"neos_apprentice",name:"Neo's Apprentice",description:"Use Bullet Time 10 times",game:"Metris"},{id:"line_clearer",name:"Line Clearer",description:"Clear 100 total lines",game:"Metris"},{id:"marathon_runner",name:"Marathon Runner",description:"Survive for 10 minutes",game:"Metris"},{id:"combo_king",name:"Combo King",description:"Achieve 5x combo multiplier",game:"Metris"},{id:"perfect_start",name:"Perfect Start",description:"No game over before level 5",game:"Metris"},{id:"architect",name:"Architect",description:"Build to 18 rows without clearing",game:"Metris"},{id:"t_spin_master",name:"T-Spin Master",description:"Perform 5 T-spins",game:"Metris"},{id:"immortal",name:"Immortal",description:"Reach level 20",game:"Metris"}]},Fk=[{id:"global_first_game",name:"Welcome to the Matrix",description:"Play your first game"},{id:"global_all_games",name:"Matrix Master",description:"Play all 5 games"},{id:"global_10_achievements",name:"Achievement Hunter",description:"Unlock 10 achievements"},{id:"global_25_achievements",name:"Achievement Expert",description:"Unlock 25 achievements"},{id:"global_50_achievements",name:"Achievement Legend",description:"Unlock 50 achievements"},{id:"global_night_owl",name:"Night Owl",description:"Play after midnight"},{id:"global_dedicated",name:"Dedicated Player",description:"Play 7 days in a row"}],ks="matrix-arcade-save-data",ul="matrix-arcade-backup";function Sn(){const[e,t]=m.useState(Tr),[n,r]=m.useState(!0),[s,i]=m.useState(null),o=m.useCallback(()=>{try{r(!0);const x=localStorage.getItem(ks);if(x){const w=JSON.parse(x);w.version!=="1.0.0"&&console.log("Migrating save data from version",w.version,"to 1.0.0");const k={...Tr(),...w,games:{...Tr().games,...w.games}};t(k)}else{const w=Tr();t(w),localStorage.setItem(ks,JSON.stringify(w))}i(null)}catch(x){console.error("Failed to load save data:",x),i("Failed to load save data"),t(Tr())}finally{r(!1)}},[]),l=m.useCallback(x=>{try{const w=localStorage.getItem(ks);return w&&localStorage.setItem(ul,w),localStorage.setItem(ks,JSON.stringify(x)),x.settings.lastBackupDate=Date.now(),i(null),!0}catch(w){return console.error("Failed to save data:",w),i("Failed to save data"),!1}},[]),c=m.useCallback((x,w)=>{t(k=>{const T={...k,games:{...k.games,[x]:{...k.games[x],...w,lastPlayed:Date.now()}}};return T.settings.autoSave&&l(T),T})},[l]),d=m.useCallback((x,w)=>{t(k=>{k.games[x]||(k.games[x]={highScore:0,totalScore:0,gamesPlayed:0,achievements:[],lastPlayed:Date.now()});const T=k.games[x].achievements||[];if(!T.includes(w)){const N={...k,games:{...k.games,[x]:{...k.games[x],achievements:[...T,w],lastPlayed:Date.now()}}};return N.settings.autoSave&&l(N),N}return k})},[l]),h=m.useCallback(x=>{t(w=>{const k={...w,globalStats:{...w.globalStats,...x}};return k.settings.autoSave&&l(k),k})},[l]),u=m.useCallback(()=>{try{const x=JSON.stringify(e,null,2),w=new Blob([x],{type:"application/json"}),k=URL.createObjectURL(w),T=document.createElement("a");return T.href=k,T.download=`matrix-arcade-save-${new Date().toISOString().split("T")[0]}.json`,T.click(),URL.revokeObjectURL(k),!0}catch(x){return console.error("Failed to export save data:",x),i("Failed to export save data"),!1}},[e]),f=m.useCallback(x=>new Promise(w=>{const k=new FileReader;k.onload=T=>{var N;try{const A=(N=T.target)==null?void 0:N.result,L=JSON.parse(A);if(!L.version||!L.games)throw new Error("Invalid save file format");t(L),l(L),w(!0)}catch(A){console.error("Failed to import save data:",A),i("Failed to import save data: Invalid file format"),w(!1)}},k.onerror=()=>{i("Failed to read save file"),w(!1)},k.readAsText(x)}),[l]),y=m.useCallback(()=>{try{localStorage.removeItem(ks),localStorage.removeItem(ul);const x=Tr();return t(x),i(null),!0}catch(x){return console.error("Failed to clear save data:",x),i("Failed to clear save data"),!1}},[]),b=m.useCallback(()=>{try{const x=localStorage.getItem(ul);if(x){const w=JSON.parse(x);return t(w),l(w),i(null),!0}else return i("No backup found"),!1}catch(x){return console.error("Failed to restore from backup:",x),i("Failed to restore from backup"),!1}},[l]),v=m.useCallback(()=>l(e),[e,l]),S=m.useMemo(()=>{const x=[];return Object.entries(Oh).forEach(([w,k])=>{k.forEach(T=>{var L;const N=(L=e.games[w])==null?void 0:L.achievements.includes(T.id),A=N?e.games[w].lastPlayed:void 0;x.push({...T,unlocked:N,unlockedAt:A})})}),Fk.forEach(w=>{const k=e.globalStats.globalAchievements.includes(w.id);x.push({...w,unlocked:k,unlockedAt:k?Date.now():void 0})}),x},[e]),p=m.useCallback(x=>Oh[x]||[],[]),g=m.useCallback((x,w)=>e.games[x].achievements.includes(w),[e]);return m.useEffect(()=>{o()},[o]),{saveData:e,isLoading:n,error:s,achievements:S,updateGameSave:c,unlockAchievement:d,updateGlobalStats:h,exportSaveData:u,importSaveData:f,clearSaveData:y,restoreFromBackup:b,saveNow:v,getGameAchievements:p,isAchievementUnlocked:g,loadSaveData:o}}const zk=({snake:e,food:t,gridSize:n,gameState:r,foodEaten:s,powerUp:i,activePowerUps:o,direction:l})=>{const c=m.useRef(null),d=m.useRef({});return m.useEffect(()=>{const h=c.current;if(!h)return;const u=h.getContext("2d");if(!u)return;u.fillStyle="#000000",u.fillRect(0,0,h.width,h.height);const f=h.width/n;u.strokeStyle="#00ff0010",u.lineWidth=.5;for(let p=0;p<=n;p++)u.beginPath(),u.moveTo(p*f,0),u.lineTo(p*f,h.height),u.stroke(),u.beginPath(),u.moveTo(0,p*f),u.lineTo(h.width,p*f),u.stroke();const y=f*.7;u.font=`${y}px monospace`,u.textAlign="center",u.textBaseline="middle";const b=o.ghost&&o.ghost>Date.now();e.forEach((p,g)=>{const x=`${p.x}_${p.y}`,w=g===0,k=g===e.length-1&&e.length>1,T=s>=3;d.current[x]||(d.current[x]=Math.random()>.5?"1":"0");const N=u.createRadialGradient(p.x*f+f/2,p.y*f+f/2,0,p.x*f+f/2,p.y*f+f/2,f);if(u.globalAlpha=b?.5:1,w){const A=b?"#00ffff40":"#00ff0040";N.addColorStop(0,A),N.addColorStop(1,"transparent"),u.fillStyle=N,u.fillRect(p.x*f,p.y*f,f,f),u.fillStyle=b?"#00ffff":"#00ff00",u.shadowColor=b?"#00ffff":"#00ff00",u.shadowBlur=b?15:10;let L=d.current[x];if(T)switch(l){case"up":L="";break;case"down":L="";break;case"left":L="";break;case"right":L="";break}u.fillText(L,p.x*f+f/2,p.y*f+f/2)}else k&&T?(N.addColorStop(0,"#00880020"),N.addColorStop(1,"transparent"),u.fillStyle=N,u.fillRect(p.x*f,p.y*f,f,f),u.fillStyle="#008800",u.shadowColor="#008800",u.shadowBlur=2,u.globalAlpha=b?.3:.5,u.fillText("",p.x*f+f/2,p.y*f+f/2)):(N.addColorStop(0,b?"#00cccc20":"#00cc0030"),N.addColorStop(1,"transparent"),u.fillStyle=N,u.fillRect(p.x*f,p.y*f,f,f),u.fillStyle=b?"#00cccc":"#00cc00",u.shadowColor=b?"#00cccc":"#00cc00",u.shadowBlur=5,u.fillText(d.current[x],p.x*f+f/2,p.y*f+f/2))}),u.globalAlpha=1;const v=e.map(p=>`${p.x}_${p.y}`);Object.keys(d.current).forEach(p=>{!v.includes(p)&&p!==`${t.x}_${t.y}`&&delete d.current[p]}),u.shadowColor="#ff0000",u.shadowBlur=10;const S=u.createRadialGradient(t.x*f+f/2,t.y*f+f/2,0,t.x*f+f/2,t.y*f+f/2,f);if(S.addColorStop(0,"#ff000040"),S.addColorStop(1,"transparent"),u.fillStyle=S,u.fillRect(t.x*f,t.y*f,f,f),u.fillStyle="#ff0000",u.fillText("1",t.x*f+f/2,t.y*f+f/2),i){let p="",g="",x="";switch(i.type){case"speed":p="SPD",g="#ffff00",x="#ffff0080";break;case"double":p="2X",g="#0099ff",x="#0099ff80";break;case"shield":p="SHD",g="#ff00ff",x="#ff00ff80";break;case"ghost":p="GHO",g="#00ffff",x="#00ffff80";break}const w=u.createRadialGradient(i.position.x*f+f/2,i.position.y*f+f/2,0,i.position.x*f+f/2,i.position.y*f+f/2,f*1.5);w.addColorStop(0,x),w.addColorStop(1,"transparent"),u.fillStyle=w,u.fillRect(i.position.x*f-f/2,i.position.y*f-f/2,f*2,f*2),u.fillStyle=g,u.shadowColor=g,u.shadowBlur=15;const k=u.font;i.type==="double"?u.font=`${y*.6}px monospace`:(i.type==="shield"||i.type==="ghost")&&(u.font=`${y*.8}px monospace`),u.fillText(p,i.position.x*f+f/2,i.position.y*f+f/2),u.font=k}u.shadowColor="transparent",u.shadowBlur=0},[e,t,n,i,o,s,l]),a.jsx("canvas",{ref:c,width:600,height:600,className:"w-full h-full border border-green-500 bg-black",style:{imageRendering:"crisp-edges"}})},Bk=({gameState:e,score:t,highScore:n,onStart:r,onReset:s})=>e==="playing"?null:a.jsx("div",{className:"absolute inset-0 bg-black/90 flex items-center justify-center",children:a.jsxs("div",{className:"text-center p-8 border-2 border-green-500 bg-black",children:[e==="menu"&&a.jsxs(a.Fragment,{children:[a.jsx("h1",{className:"text-4xl font-bold text-green-400 mb-4",children:"SNAKE"}),a.jsx("p",{className:"text-green-500 mb-6",children:"Press SPACE to start"}),a.jsxs("button",{onClick:r,className:"px-6 py-3 bg-green-500 text-black font-bold hover:bg-green-400 transition-colors flex items-center gap-2 mx-auto",children:[a.jsx($n,{className:"w-5 h-5"}),"START GAME"]})]}),e==="gameOver"&&a.jsxs(a.Fragment,{children:[a.jsx("h2",{className:"text-3xl font-bold text-red-500 mb-4",children:"GAME OVER"}),a.jsxs("div",{className:"text-green-400 mb-2",children:["Score: ",t]}),a.jsxs("div",{className:"text-yellow-400 mb-6",children:["High Score: ",n]}),a.jsxs("button",{onClick:s,className:"px-6 py-3 bg-green-500 text-black font-bold hover:bg-green-400 transition-colors flex items-center gap-2 mx-auto",children:[a.jsx(Zg,{className:"w-5 h-5"}),"PLAY AGAIN"]})]}),e==="paused"&&a.jsxs(a.Fragment,{children:[a.jsx("h2",{className:"text-3xl font-bold text-yellow-400 mb-4",children:"PAUSED"}),a.jsx("p",{className:"text-green-500",children:"Press SPACE to continue"})]})]})});function Uk({achievementManager:e,isMuted:t}){const{gameState:n,startGame:r,togglePause:s,resetGame:i,changeDirection:o,gridSize:l}=Ok(),{saveData:c,updateGameSave:d,unlockAchievement:h}=Sn(),u=m.useRef(0),f=m.useRef(Date.now()),y=m.useRef(0),b=m.useRef(Date.now()),v=m.useRef(0);return m.useEffect(()=>{const S=p=>{if(n.gameState==="playing")switch(p.key){case"ArrowUp":case"w":case"W":o("up");break;case"ArrowDown":case"s":case"S":o("down");break;case"ArrowLeft":case"a":case"A":o("left");break;case"ArrowRight":case"d":case"D":o("right");break;case" ":s();break}else n.gameState==="menu"&&p.key===" "?r():n.gameState==="paused"&&p.key===" "?s():n.gameState==="gameOver"&&p.key===" "&&i()};return window.addEventListener("keydown",S),()=>window.removeEventListener("keydown",S)},[n.gameState,o,r,s,i]),m.useEffect(()=>{e&&(n.score>0&&v.current===0&&(h("snakeClassic","first_apple"),v.current=1),n.score>=100&&u.current<100&&(h("snakeClassic","score_100"),e.unlockAchievement("snake","snake_score_100")),n.score>=500&&u.current<500&&(h("snakeClassic","score_500"),e.unlockAchievement("snake","snake_score_500")),n.score>=1e3&&u.current<1e3&&(h("snakeClassic","snake_master"),e.unlockAchievement("snake","snake_master")),u.current=n.score)},[n.score,e,h]),m.useEffect(()=>{var S,p,g,x,w,k,T,N,A;if(n.gameState==="playing")f.current=Date.now(),b.current=Date.now();else if(n.gameState==="gameOver"){const L=(Date.now()-f.current)/1e3,I=Math.floor((Date.now()-b.current)/1e3),V=((S=c.games.snakeClassic)==null?void 0:S.highScore)||0,B=Math.max(V,n.score),q=((g=(p=c.games.snakeClassic)==null?void 0:p.stats)==null?void 0:g.gamesPlayed)||0,oe=((w=(x=c.games.snakeClassic)==null?void 0:x.stats)==null?void 0:w.totalScore)||0,he=((T=(k=c.games.snakeClassic)==null?void 0:k.stats)==null?void 0:T.longestSurvival)||0,Z=((A=(N=c.games.snakeClassic)==null?void 0:N.stats)==null?void 0:A.bestLength)||0;setTimeout(()=>{d("snakeClassic",{highScore:B,level:n.level||1,stats:{gamesPlayed:q+1,totalScore:oe+n.score,longestSurvival:Math.max(he,I),bestLength:Math.max(Z,n.snake.length)}})},100),e&&(L>=300&&(h("snakeClassic","survivor"),e.unlockAchievement("snake","snake_survivor")),n.score>=100&&(n.level||1)>=10&&h("snakeClassic","speed_demon"))}},[n.gameState,n.score,n.level,n.snake,e,c,d,h]),m.useEffect(()=>{if(!t){if(n.score>y.current&&n.score>0)try{const S=new(window.AudioContext||window.webkitAudioContext),p=S.createOscillator(),g=S.createGain();p.connect(g),g.connect(S.destination),p.frequency.value=800,p.type="square",g.gain.value=.1,g.gain.exponentialRampToValueAtTime(.01,S.currentTime+.1),p.start(),p.stop(S.currentTime+.1)}catch{}y.current=n.score}},[n.score,t]),m.useEffect(()=>{if(n.gameState==="gameOver"&&!t)try{const S=new(window.AudioContext||window.webkitAudioContext),p=S.createOscillator(),g=S.createGain();p.connect(g),g.connect(S.destination),p.frequency.value=200,p.type="sawtooth",g.gain.value=.15,g.gain.exponentialRampToValueAtTime(.01,S.currentTime+.5),p.start(),p.stop(S.currentTime+.5)}catch{}},[n.gameState,t]),a.jsxs("div",{className:"w-full h-full bg-black flex flex-col font-mono relative",children:[a.jsxs("div",{className:"bg-black border-b border-green-500 p-2 sm:p-4 pr-16 sm:pr-24",children:[a.jsxs("div",{className:"flex items-center justify-between max-w-6xl mx-auto",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"text-green-400 text-lg sm:text-2xl font-bold",children:"SNAKE"}),a.jsx("div",{className:"text-green-500 text-xs sm:text-sm",children:"[MATRIX EDITION]"})]}),a.jsxs("div",{className:"flex items-center gap-4 sm:gap-6",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Gn,{className:"w-4 h-4 sm:w-5 sm:h-5 text-green-400"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-green-500 text-xs",children:"SCORE"}),a.jsx("div",{className:"text-green-400 text-lg sm:text-2xl font-bold tabular-nums",children:n.score.toString().padStart(5,"0")})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(bn,{className:"w-4 h-4 sm:w-5 sm:h-5 text-yellow-400"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-yellow-500 text-xs",children:"HIGH"}),a.jsx("div",{className:"text-yellow-400 text-lg sm:text-2xl font-bold tabular-nums",children:n.highScore.toString().padStart(5,"0")})]})]})]})]}),n.gameState==="playing"&&a.jsx("div",{className:"max-w-6xl mx-auto mt-2",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-green-500 text-xs",children:"SPEED"}),a.jsx("div",{className:"flex-1 bg-green-900/30 h-2 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-gradient-to-r from-green-500 to-green-400 transition-all duration-300",style:{width:`${Math.max(20,100-(n.speed-50)/100*100)}%`}})})]})}),n.gameState==="playing"&&a.jsxs("div",{className:"max-w-6xl mx-auto mt-2 flex items-center gap-3",children:[n.activePowerUps.speed&&n.activePowerUps.speed>Date.now()&&a.jsxs("div",{className:"flex items-center gap-1 text-yellow-400 animate-pulse",children:[a.jsx(Gn,{className:"w-3 h-3"}),a.jsx("span",{className:"text-xs",children:"SLOW"})]}),n.activePowerUps.double&&n.activePowerUps.double>0&&a.jsxs("div",{className:"flex items-center gap-1 text-blue-400 animate-pulse",children:[a.jsx("span",{className:"text-xs",children:"2X"}),a.jsxs("span",{className:"text-xs",children:["",n.activePowerUps.double]})]}),n.activePowerUps.shield&&a.jsxs("div",{className:"flex items-center gap-1 text-purple-400 animate-pulse",children:[a.jsx("span",{className:"text-sm",children:""}),a.jsx("span",{className:"text-xs",children:"SHIELD"})]}),n.activePowerUps.ghost&&n.activePowerUps.ghost>Date.now()&&a.jsxs("div",{className:"flex items-center gap-1 text-cyan-400 animate-pulse",children:[a.jsx("span",{className:"text-sm",children:""}),a.jsx("span",{className:"text-xs",children:"GHOST"})]})]})]}),a.jsx("div",{className:"flex-1 flex items-center justify-center p-4 overflow-hidden",children:a.jsxs("div",{className:"w-full h-full max-w-[600px] max-h-[600px] relative",children:[a.jsx(zk,{snake:n.snake,food:n.food,gridSize:l,gameState:n.gameState,foodEaten:n.foodEaten,powerUp:n.powerUp,activePowerUps:n.activePowerUps,direction:n.direction}),a.jsx(Bk,{gameState:n.gameState,score:n.score,highScore:n.highScore,onStart:r,onReset:i})]})}),n.gameState==="playing"&&a.jsx("div",{className:"bg-black border-t border-green-500/30 p-2",children:a.jsxs("div",{className:"flex items-center justify-center gap-4 text-xs text-green-400/60",children:[a.jsx("span",{children:" or WASD to move"}),a.jsx("span",{children:""}),a.jsx("span",{children:"SPACE to pause"})]})})]})}const Wk=e=>{const t=m.useRef(),n=m.useRef(),r=m.useCallback(s=>{if(n.current!==void 0){const i=s-n.current;e(i)}n.current=s,t.current=requestAnimationFrame(r)},[e]);m.useEffect(()=>(t.current=requestAnimationFrame(r),()=>{t.current&&cancelAnimationFrame(t.current)}),[r])},Hk=()=>{const[e,t]=m.useState([]),[n,r]=m.useState({bigger_paddle:!1,slower_ball:!1,score_multiplier:!1,multi_ball:!1}),s=m.useCallback(()=>{t(o=>{if(o.length>=2)return o;const l=["bigger_paddle","slower_ball","score_multiplier","multi_ball"],c={id:Math.random().toString(),x:200+Math.random()*400,y:50+Math.random()*300,type:l[Math.floor(Math.random()*l.length)],active:!0};return[...o,c]})},[]),i=m.useCallback(o=>{r(l=>({...l,[o]:!0})),setTimeout(()=>{r(l=>({...l,[o]:!1}))},1e4)},[]);return{powerUps:e,setPowerUps:t,activePowerUps:n,spawnPowerUp:s,activatePowerUp:i}},$k=500;function Gk(){const[e,t]=m.useState([]),n=m.useRef(0),r=m.useCallback(u=>{const f=[];for(let y=0;y<u.count;y++){const b=Math.PI*2*y/u.count+(Math.random()-.5)*(u.spread||.5);let v=(u.speed||2)*(.5+Math.random()*.5),S=u.color||"#00FF00",p=u.size||3,g=u.life||1,x=0,w=!0,k=!1;switch(u.type){case"food":S=u.color||"#FFD700",p=2+Math.random()*2,v*=1.5,k=!0;break;case"explosion":S=["#FF0000","#FF6600","#FFFF00"][Math.floor(Math.random()*3)],p=4+Math.random()*4,v*=2,x=.3,k=!0;break;case"trail":S=u.color||"#00FF0080",p=2,g=.5,w=!0;break;case"powerup":S=u.color||"#FFD700",p=3+Math.sin(Date.now()*.01)*2,v*=.5,k=!0;break;case"matrix":S="#00FF00",p=1+Math.random()*2,v=.5+Math.random()*2,x=-.5,w=!1;break;case"impact":S="#FFFFFF",p=5+Math.random()*5,v*=3,g=.3,k=!0;break}f.push({id:`particle-${n.current++}`,x:u.x,y:u.y,vx:Math.cos(b)*v,vy:Math.sin(b)*v,size:p,life:g,maxLife:g,color:S,type:u.type,gravity:x,fade:w,glow:k})}t(y=>[...y,...f].slice(-$k))},[]),s=m.useCallback((u,f,y)=>{r({x:u,y:f,count:20,type:"explosion",color:y,spread:Math.PI*2,speed:5,life:1})},[r]),i=m.useCallback((u,f,y)=>{r({x:u,y:f,count:15,type:"food",color:y,spread:Math.PI*2,speed:3,life:.8})},[r]),o=m.useCallback((u,f,y)=>{r({x:u,y:f,count:30,type:"powerup",color:y,spread:Math.PI*2,speed:4,life:1.5})},[r]),l=m.useCallback((u,f,y)=>{r({x:u,y:f,count:3,type:"trail",color:y,spread:.5,speed:.5,life:.5})},[r]),c=m.useCallback(u=>{const f=Math.random()*u;r({x:f,y:-10,count:1,type:"matrix",spread:0,speed:2,life:3})},[r]);m.useEffect(()=>{let u,f=performance.now();const y=b=>{const v=Math.min((b-f)/1e3,.033);f=b,t(S=>S.length===0?(u=requestAnimationFrame(y),S):S.map(p=>{const g=p.life-v;return g<=0?null:{...p,x:p.x+p.vx*(v*60),y:p.y+p.vy*(v*60)+(p.gravity||0),vy:p.vy+(p.gravity||0)*v*60,life:g,size:p.fade?p.size*(g/p.maxLife):p.size}}).filter(p=>p!==null)),u=requestAnimationFrame(y)};return u=requestAnimationFrame(y),()=>cancelAnimationFrame(u)},[]);const d=m.useCallback(()=>{t([])},[]),h=m.useCallback(u=>{e.forEach(f=>{u.save();const y=f.fade?f.life/f.maxLife:1;f.glow&&(u.shadowBlur=f.size*2,u.shadowColor=f.color),u.fillStyle=f.color.includes("rgba")?f.color:`${f.color}${Math.floor(y*255).toString(16).padStart(2,"0")}`,f.type==="matrix"?(u.font=`${f.size*10}px monospace`,u.fillText(String.fromCharCode(12448+Math.random()*96),f.x,f.y)):(u.beginPath(),u.arc(f.x,f.y,f.size,0,Math.PI*2),u.fill()),u.restore()})},[e]);return m.useMemo(()=>({particles:e,emit:r,explode:s,collectFood:i,activatePowerUp:o,createTrail:l,createMatrixRain:c,clear:d,render:h,count:e.length}),[e,r,s,i,o,l,c,d,h])}const Fh={music:!0,sfx:!0,masterVolume:.7,musicVolume:.4,sfxVolume:.6},dl={jump:{type:"jump",frequency:{start:440,end:220},oscillatorType:"sine",duration:.2,attack:.01,decay:.1,sustain:.3,release:.1,filterType:"lowpass",filterFreq:800},hit:{type:"hit",frequency:{start:200,end:50},oscillatorType:"sawtooth",duration:.3,attack:.001,decay:.05,sustain:.1,release:.24,filterType:"lowpass",filterFreq:400},score:{type:"score",frequency:{start:523,end:784},oscillatorType:"square",duration:.25,attack:.02,decay:.08,sustain:.6,release:.15,filterType:"bandpass",filterFreq:1500},powerup:{type:"powerup",frequency:{start:659,end:1046},oscillatorType:"triangle",duration:.4,attack:.05,decay:.1,sustain:.7,release:.25,filterType:"highpass",filterFreq:500,reverb:!0},levelUp:{type:"levelUp",frequency:{start:880,end:1760},oscillatorType:"square",duration:.6,attack:.1,decay:.2,sustain:.8,release:.3,filterType:"bandpass",filterFreq:2e3,reverb:!0},combo:{type:"combo",frequency:{start:349,end:523},oscillatorType:"triangle",duration:.15,attack:.01,decay:.05,sustain:.5,release:.09,filterType:"bandpass",filterFreq:1200},gameOver:{type:"gameOver",frequency:{start:220,end:110},oscillatorType:"sawtooth",duration:1,attack:.1,decay:.3,sustain:.4,release:.6,filterType:"lowpass",filterFreq:300,reverb:!0},menu:{type:"menu",frequency:{start:440,end:523},oscillatorType:"sine",duration:.1,attack:.02,decay:.03,sustain:.3,release:.05,filterType:"bandpass",filterFreq:1e3},snakeEat:{type:"snakeEat",frequency:{start:800,end:1200},oscillatorType:"square",duration:.15,attack:.01,decay:.04,sustain:.4,release:.1,filterType:"bandpass",filterFreq:1600},pongBounce:{type:"pongBounce",frequency:{start:300,end:600},oscillatorType:"triangle",duration:.1,attack:.005,decay:.02,sustain:.3,release:.065,filterType:"bandpass",filterFreq:900},terminalType:{type:"terminalType",frequency:{start:1e3,end:1e3},oscillatorType:"square",duration:.05,attack:.001,decay:.01,sustain:.2,release:.039,filterType:"highpass",filterFreq:800},matrixRain:{type:"matrixRain",frequency:{start:220,end:330},oscillatorType:"sine",duration:.8,attack:.2,decay:.2,sustain:.3,release:.3,filterType:"lowpass",filterFreq:600}},zh={menu:{notes:[220,246.94,261.63,293.66,329.63,349.23,392],rhythm:[.5,.25,.5,.25,.5,.25,1],tempo:120,loop:!0},gameplay:{notes:[174.61,196,220,246.94,261.63,293.66],rhythm:[.5,.5,.25,.25,.5,.5],tempo:100,loop:!0},intense:{notes:[130.81,146.83,164.81,174.61,196,220],rhythm:[.25,.25,.25,.25,.5,.5],tempo:140,loop:!0}};function ka(){const[e,t]=m.useState(()=>{const w=localStorage.getItem("matrix-arcade-audio-config");return w?{...Fh,...JSON.parse(w)}:Fh}),n=m.useRef(null),r=m.useRef(null),s=m.useRef(null),i=m.useRef(null),o=m.useRef(null),l=m.useRef(null),c=m.useRef(null),d=m.useRef(null),h=m.useCallback((w,k,T,N)=>{const A=w.createBuffer(k,T*N,T);for(let L=0;L<k;L++){const I=A.getChannelData(L);for(let V=0;V<I.length;V++){const B=Math.pow(1-V/I.length,2);I[V]=(Math.random()*2-1)*B*.3}}return A},[]),u=m.useCallback(async()=>{if(n.current)return n.current.state==="suspended"&&await n.current.resume(),n.current.state==="closed"?(n.current=null,null):n.current;try{const w=window.AudioContext||window.webkitAudioContext,k=new w;n.current=k;const T=k.createGain();T.gain.setValueAtTime(e.masterVolume,k.currentTime),T.connect(k.destination),s.current=T;const N=k.createGain();N.gain.setValueAtTime(e.musicVolume,k.currentTime),N.connect(T),i.current=N;const A=k.createGain();A.gain.setValueAtTime(e.sfxVolume,k.currentTime),A.connect(T),o.current=A;const L=k.createConvolver(),I=h(k,2,k.sampleRate,1.5);return L.buffer=I,d.current=L,k}catch(w){return console.warn("Failed to initialize audio context:",w),null}},[e.masterVolume,e.musicVolume,e.sfxVolume,h]),f=m.useCallback(async(w,k)=>{if(!e.sfx)return;const T=await u();if(!T||!o.current)return;const N=k?{...dl[w],...k}:dl[w];if(!N){console.warn(`Sound effect '${w}' not found in library`);return}try{if(T.state==="closed")return;const A=T.createOscillator();A.type=N.oscillatorType,A.frequency.setValueAtTime(N.frequency.start,T.currentTime),A.frequency.exponentialRampToValueAtTime(N.frequency.end,T.currentTime+N.duration);const L=T.createGain();if(L.gain.setValueAtTime(0,T.currentTime),L.gain.linearRampToValueAtTime(1,T.currentTime+N.attack),L.gain.linearRampToValueAtTime(N.sustain,T.currentTime+N.attack+N.decay),L.gain.linearRampToValueAtTime(0,T.currentTime+N.duration),N.filterType&&N.filterFreq){const I=T.createBiquadFilter();I.type=N.filterType,I.frequency.setValueAtTime(N.filterFreq,T.currentTime),I.Q.setValueAtTime(1,T.currentTime),A.connect(I),I.connect(L)}else A.connect(L);if(N.reverb&&d.current){const I=T.createGain();I.gain.setValueAtTime(.3,T.currentTime);const V=T.createGain();V.gain.setValueAtTime(.7,T.currentTime),L.connect(V),L.connect(I),I.connect(d.current),d.current.connect(o.current),V.connect(o.current)}else L.connect(o.current);A.start(T.currentTime),A.stop(T.currentTime+N.duration)}catch(A){console.warn("Error playing sound effect:",A)}},[e.sfx,u]),y=m.useCallback(async w=>{if(!e.music)return;r.current&&(r.current.stop(),r.current=null);const k=await u();if(!k||!i.current)return;l.current=w;const T=zh[w];try{const N=()=>{if(l.current!==w||k.state==="closed")return;let A=k.currentTime;const L=60/T.tempo;if(T.notes.forEach((I,V)=>{const B=T.rhythm[V],q=L*B,oe=k.createOscillator();oe.type="triangle",oe.frequency.setValueAtTime(I,A);const he=k.createGain();he.gain.setValueAtTime(0,A),he.gain.linearRampToValueAtTime(.1,A+.02),he.gain.linearRampToValueAtTime(.05,A+q*.7),he.gain.linearRampToValueAtTime(0,A+q);const Z=k.createBiquadFilter();Z.type="lowpass",Z.frequency.setValueAtTime(1200,A),Z.Q.setValueAtTime(.5,A),oe.connect(Z),Z.connect(he),he.connect(i.current),oe.start(A),oe.stop(A+q),A+=q}),T.loop&&l.current===w){const I=T.rhythm.reduce((V,B)=>V+B*L,0);setTimeout(N,I*1e3)}};N()}catch(N){console.warn("Error playing background music:",N)}},[e.music,u]),b=m.useCallback(()=>{l.current=null,r.current&&(r.current.stop(),r.current=null),c.current&&(c.current.pause(),c.current.currentTime=0)},[]),v=m.useCallback(w=>{if(e.music)return b(),c.current||(c.current=new Audio,c.current.loop=!0),c.current.src=w,c.current.volume=e.masterVolume*e.musicVolume,c.current.play().catch(k=>{console.warn("Error playing background music:",k)}),()=>{c.current&&(c.current.volume=e.masterVolume*e.musicVolume)}},[e.music,e.masterVolume,e.musicVolume,b]),S=m.useCallback(()=>{c.current&&(c.current.pause(),c.current.currentTime=0)},[]),p=m.useCallback(w=>{const k={...e,...w};t(k),localStorage.setItem("matrix-arcade-audio-config",JSON.stringify(k)),s.current&&k.masterVolume!==e.masterVolume&&s.current.gain.setValueAtTime(k.masterVolume,0),i.current&&k.musicVolume!==e.musicVolume&&i.current.gain.setValueAtTime(k.musicVolume,0),o.current&&k.sfxVolume!==e.sfxVolume&&o.current.gain.setValueAtTime(k.sfxVolume,0),c.current&&(k.masterVolume!==e.masterVolume||k.musicVolume!==e.musicVolume)&&(c.current.volume=k.masterVolume*k.musicVolume)},[e]),g=m.useCallback(()=>{const w={music:!e.music&&!e.sfx,sfx:!e.music&&!e.sfx};p(w),e.music&&!w.music&&b()},[e.music,e.sfx,p,b]),x=!e.music&&!e.sfx;return m.useEffect(()=>()=>{b(),n.current&&n.current.state!=="closed"&&n.current.close()},[b]),m.useEffect(()=>{c.current&&(c.current.volume=e.masterVolume*e.musicVolume,c.current.muted=x||!e.music)},[e.masterVolume,e.musicVolume,e.music,x]),m.useMemo(()=>({config:e,updateConfig:p,playSFX:f,playMusic:y,stopMusic:b,playBackgroundMP3:v,stopBackgroundMP3:S,toggleMute:g,isMuted:x,isInitialized:!!n.current,soundLibrary:Object.keys(dl),musicSequences:Object.keys(zh)}),[e,p,f,y,b,v,S,g,x])}const qk=e=>({bigger_paddle:{text:"BIG PADDLE",color:"bg-green-500",emoji:""},slower_ball:{text:"SLOW BALL",color:"bg-cyan-500",emoji:""},score_multiplier:{text:"SCORE x2",color:"bg-yellow-500",emoji:""},multi_ball:{text:"MULTI BALL",color:"bg-purple-500",emoji:""}})[e]||{text:e.replace("_"," "),color:"bg-gray-500",emoji:""},Kk=({activePowerUps:e})=>a.jsx("div",{className:"w-full flex flex-wrap justify-center gap-2 md:gap-4",children:Object.entries(e).map(([t,n])=>{if(!n)return null;const r=qk(t);return a.jsxs(X.div,{initial:{scale:0,rotateY:180},animate:{scale:1,rotateY:0},exit:{scale:0,rotateY:-180},transition:{type:"spring",damping:15},className:`px-3 py-1 md:px-4 md:py-2 ${r.color} text-white rounded-full font-mono text-sm md:text-base flex items-center gap-2 shadow-lg`,children:[a.jsx("span",{children:r.emoji}),a.jsx("span",{children:r.text})]},t)})}),Yk=({score:e,speed:t})=>a.jsxs(X.div,{className:"w-full flex justify-between items-center font-mono px-2",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},children:[a.jsxs("div",{className:"flex gap-4 md:gap-8",children:[a.jsxs("div",{className:"flex flex-col items-center border-2 border-green-500 p-2 md:p-4 rounded-lg bg-black bg-opacity-70",children:[a.jsx("span",{className:"text-xs md:text-sm text-green-500 opacity-70",children:"PLAYER"}),a.jsx("span",{className:"text-2xl md:text-4xl text-green-500 font-bold",children:e.player})]}),a.jsxs("div",{className:"flex flex-col items-center border-2 border-green-500 p-2 md:p-4 rounded-lg bg-black bg-opacity-70",children:[a.jsx("span",{className:"text-xs md:text-sm text-green-500 opacity-70",children:"AI"}),a.jsx("span",{className:"text-2xl md:text-4xl text-green-500 font-bold",children:e.ai})]})]}),a.jsxs(X.div,{className:"flex items-center gap-2 text-green-500 border-2 border-green-500 p-2 md:p-4 rounded-lg bg-black bg-opacity-70",animate:{boxShadow:t>10?["0 0 10px #00ff00","0 0 20px #00ff00","0 0 10px #00ff00"]:"none"},transition:{duration:1,repeat:1/0},children:[a.jsx("span",{className:"text-xs md:text-sm opacity-70",children:"SPEED"}),a.jsxs("span",{className:"text-lg md:text-2xl font-bold",children:[t.toFixed(1),"x"]})]})]}),Qk=({score:e,onRestart:t})=>{const n=e.player>e.ai;return a.jsx(X.div,{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-90 z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:a.jsxs(X.div,{className:"bg-black border-2 border-green-500 p-8 rounded-lg text-center font-mono",initial:{scale:0},animate:{scale:1},exit:{scale:0},transition:{type:"spring",damping:15},children:[a.jsx(X.h2,{className:`text-4xl mb-6 ${n?"text-green-500":"text-red-500"}`,animate:{textShadow:["0 0 8px currentColor","0 0 16px currentColor","0 0 8px currentColor"]},transition:{duration:2,repeat:1/0},children:n?"YOU WIN!":"GAME OVER"}),a.jsxs("div",{className:"text-green-500 text-2xl mb-8",children:[a.jsx("div",{className:"mb-2",children:"FINAL SCORE"}),a.jsxs("div",{className:"flex justify-center gap-8",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm opacity-70",children:"PLAYER"}),a.jsx("div",{className:"text-3xl",children:e.player})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm opacity-70",children:"AI"}),a.jsx("div",{className:"text-3xl",children:e.ai})]})]})]}),a.jsx(X.button,{className:"px-8 py-4 bg-green-500 text-black rounded-lg font-bold text-xl hover:bg-green-400 transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:t,children:"PLAY AGAIN"})]})})},kt=80,jr=12,Rs=6,Bh=15,an=7,Xk=.1,Zk=15,Uh=e=>({bigger_paddle:"#00ff00",slower_ball:"#00ffff",score_multiplier:"#ffff00",multi_ball:"#ff00ff"})[e]||"#ffffff",Qi=(e,t,n,r)=>({id:Math.random().toString(36).substr(2,9),x:e,y:t,vx:n,vy:r,size:Rs,color:"#ffffff"}),Jk=e=>({x:(Math.random()-.5)*e,y:(Math.random()-.5)*e});function eS({achievementManager:e}){const t=m.useRef(null),[n,r]=m.useState(150),[s,i]=m.useState(0),[o,l]=m.useState({up:!1,down:!1}),[c,d]=m.useState(150),[h,u]=m.useState(0),[f,y]=m.useState([Qi(400,200,-an,0)]),[b,v]=m.useState([]),[S,p]=m.useState({player:0,ai:0}),[g,x]=m.useState(!1),[w,k]=m.useState({x:0,y:0}),[T,N]=m.useState([]),[A,L]=m.useState(2.5),I=m.useRef(0),[V,B]=m.useState(0),[q,oe]=m.useState(an),[he,Z]=m.useState(0),[D,_]=m.useState(null),{powerUps:P,setPowerUps:E,activePowerUps:j,spawnPowerUp:K,activatePowerUp:W}=Hk(),{explode:R,createTrail:H,render:ce}=Gk(),{playSFX:re,stopMusic:C}=ka(),{saveData:M,updateGameSave:O,unlockAchievement:z}=Sn(),U=m.useCallback(me=>{e!=null&&e.unlockAchievement&&e.unlockAchievement("vortexPong",me),z("vortexPong",me)},[e,z]),$=m.useRef(0),Y=m.useRef(!1),ee=m.useRef(0),ge=m.useRef(Date.now()),we=m.useRef(0),je=m.useRef(0);m.useEffect(()=>{const me=[];for(let ue=0;ue<Bh;ue++)me.push({x:Math.random()*800,y:Math.random()*400,z:Math.random()*100,speed:Math.random()*2+1});v(me)},[]);const mt=m.useCallback(()=>{y([Qi(400,200,-an,0)]),r(150),d(150),p({player:0,ai:0}),x(!1),k({x:0,y:0}),N([]),Z(0),L(2.5),B(0),oe(an),ge.current=Date.now(),$.current=0,Y.current=!1,ee.current=0,we.current=0,je.current=0},[]),J=m.useCallback(me=>{k(Jk(me)),setTimeout(()=>k({x:0,y:0}),100)},[]),Ne=m.useCallback((me,ue,F)=>{const ke={x:me,y:ue,intensity:F,life:1};N(Ae=>[...Ae,ke]),R(me,ue,"#ffffff"),J(F*2)},[R,J]);m.useEffect(()=>{const me=F=>{const ke=t.current;if(!ke)return;const Ae=ke.getBoundingClientRect(),ne=(F.clientY-Ae.top)/Ae.height*400;r(Math.max(0,Math.min(320,ne-kt/2)))},ue=t.current;if(ue)return ue.addEventListener("mousemove",me),()=>ue.removeEventListener("mousemove",me)},[]),m.useEffect(()=>{const me=F=>{F.key==="ArrowUp"||F.key==="w"||F.key==="W"?(F.preventDefault(),l(ke=>({...ke,up:!0}))):F.key==="ArrowDown"||F.key==="s"||F.key==="S"?(F.preventDefault(),l(ke=>({...ke,down:!0}))):F.key==="Enter"&&g?mt():F.key},ue=F=>{F.key==="ArrowUp"||F.key==="w"||F.key==="W"?l(ke=>({...ke,up:!1})):(F.key==="ArrowDown"||F.key==="s"||F.key==="S")&&l(ke=>({...ke,down:!1}))};return window.addEventListener("keydown",me),window.addEventListener("keyup",ue),()=>{window.removeEventListener("keydown",me),window.removeEventListener("keyup",ue)}},[g,j.multi_ball,f.length,mt,re]),m.useEffect(()=>{const ue=()=>{const Ae=j.bigger_paddle?kt*1.5:kt;r(ne=>{let Ce=ne;return o.up?(Ce=ne-8,i(-8)):o.down?(Ce=ne+8,i(8)):i(0),Math.max(0,Math.min(400-Ae,Ce))})};let F;const ke=()=>{ue(),F=requestAnimationFrame(ke)};return F=requestAnimationFrame(ke),()=>cancelAnimationFrame(F)},[o,j.bigger_paddle]),m.useEffect(()=>{const me=Math.max(5e3,1e4-(S.player+S.ai)*500),ue=setInterval(K,me);return()=>clearInterval(ue)},[K,S]),Wk(me=>{var se,xe,te,Ie,de,Yt,on,qe,Zn,Ci,Ni;if(g)return;const ue=t.current;if(!ue)return;const F=j.slower_ball?.6:Math.min(Zk/an,1+V*Xk),ke=me/(1e3/60);let Ae=[];const ne=f.map(ye=>{const ae={...ye,x:ye.x+ye.vx*F*ke,y:ye.y+ye.vy*F*ke};I.current%3===0&&H(ye.x,ye.y,ye.color),P.forEach((Ke,Jn)=>{if(Ke.active&&Math.abs(ae.x-Ke.x)<Rs*2&&Math.abs(ae.y-Ke.y)<Rs*2){W(Ke.type);const bt=[...P];if(bt.splice(Jn,1),E(bt),ee.current+=1,ee.current>=5&&U("pong_power_master"),Ke.type==="multi_ball"&&f.length<3){Ne(Ke.x,Ke.y,15),re("powerup");const Xe=Math.min(2,3-f.length);for(let Qt=0;Qt<Xe;Qt++){const oy=(Math.random()>.5?1:-1)*(an+Math.random()*2),ay=(Math.random()-.5)*an*1.5;Ae.push(Qi(400+(Math.random()-.5)*200,200+(Math.random()-.5)*200,oy,ay))}}else Ne(Ke.x,Ke.y,8),re("powerup")}}),(ae.y<=0||ae.y>=400-Rs)&&(ae.vy=-ae.vy,Ne(ae.x,ae.y<=0?0:400,5),re("pongBounce"));const rt=j.bigger_paddle?kt*1.5:kt;if(ae.x<=jr&&ae.y>=n&&ae.y<=n+rt&&ae.vx<0){const bt=(n+rt/2-ae.y)/(rt/2)*.75,Xe=Math.sqrt(ae.vx*ae.vx+ae.vy*ae.vy);ae.vx=Math.abs(Xe*Math.cos(bt)),ae.vy=-Xe*Math.sin(bt),Ne(ae.x,ae.y,10),re("pongBounce"),Z(Qt=>{const fs=Qt+1;return we.current=Math.max(we.current,fs),fs}),_("player"),D==="ai"&&($.current+=1,je.current=Math.max(je.current,$.current),$.current===5?U("pong_combo_king"):$.current===20&&U("pong_rally_master")),ae.vy+=s*.1,L(Qt=>Math.min(5,Qt+.05))}else if(ae.x>=800-jr-Rs&&ae.y>=c&&ae.y<=c+kt&&ae.vx>0){const bt=(c+kt/2-ae.y)/(kt/2)*.75,Xe=Math.sqrt(ae.vx*ae.vx+ae.vy*ae.vy);ae.vx=-Math.abs(Xe*Math.cos(bt)),ae.vy=-Xe*Math.sin(bt),Ne(ae.x,ae.y,8),re("pongBounce"),_("ai")}return ae}),Ce=[];let Se=!1;if(ne.forEach(ye=>{if(ye.x<=0){const ae=j.score_multiplier?2:1;p(rt=>({...rt,ai:rt.ai+ae})),Ne(0,ye.y,20),re("hit"),Z(0),Se=!0,$.current=0}else if(ye.x>=800){const ae=j.score_multiplier?2:1,rt=Math.floor(he/3);p(Ke=>({...Ke,player:Ke.player+ae+rt})),Ne(800,ye.y,20),re("score"),rt>0&&re("combo"),Se=!0,Y.current||(Y.current=!0,U("pong_first_point")),$.current=0}else Ce.push(ye)}),Ce.length===0?(y([Qi(400,200,Math.random()>.5?an:-an,0)]),B(0)):(y(Ce),Se&&B(ye=>ye+me/1e3)),Ae.length>0&&y(ye=>[...ye,...Ae]),I.current++,S.player>=10||S.ai>=10){x(!0),C(),re(S.player>=10?"levelUp":"gameOver"),J(30),Math.floor((Date.now()-ge.current)/1e3);const ye=S.player>=10,ae=((se=M.games.vortexPong)==null?void 0:se.highScore)||0,rt=Math.max(ae,S.player),Ke=((te=(xe=M.games.vortexPong)==null?void 0:xe.stats)==null?void 0:te.gamesPlayed)||0,Jn=((de=(Ie=M.games.vortexPong)==null?void 0:Ie.stats)==null?void 0:de.wins)||0,bt=((on=(Yt=M.games.vortexPong)==null?void 0:Yt.stats)==null?void 0:on.totalScore)||0,Xe=((Zn=(qe=M.games.vortexPong)==null?void 0:qe.stats)==null?void 0:Zn.bestCombo)||0,Qt=((Ni=(Ci=M.games.vortexPong)==null?void 0:Ci.stats)==null?void 0:Ni.longestRally)||0;setTimeout(()=>{O("vortexPong",{highScore:rt,level:1,stats:{gamesPlayed:Ke+1,wins:ye?Jn+1:Jn,totalScore:bt+S.player,bestCombo:Math.max(Xe,we.current),longestRally:Math.max(Qt,je.current)}})},100),S.player>=10&&(U("pong_beat_ai"),S.ai===0&&U("pong_perfect_game")),f.length>=3&&U("pong_multi_ball");return}const Q=f.reduce((ye,ae)=>!ye||ae.x>ye.x?ae:ye,null);if(Q){const ye=Math.min(A,3.5),ae=Q.x<400?.5:1,rt=Q.vx>0?ye*.3*ae:ye*.15*ae,Ke=(Math.random()-.5)*80,bt=Q.y-kt/2+Ke-c;let Xe=h*.88;Math.random()<.2?Xe*=-.5:Math.abs(bt)>10&&(bt>0?Xe+=rt:Xe-=rt),Xe=Math.max(-ye*2,Math.min(ye*2,Xe)),u(Xe),d(Qt=>{const fs=Qt+Xe;return Math.max(0,Math.min(320,fs))})}N(ye=>ye.map(ae=>({...ae,life:ae.life-.05})).filter(ae=>ae.life>0).slice(0,10)),v(ye=>ye.filter(ae=>ae.z>0).map(ae=>({...ae,z:ae.z-ae.speed})).concat(Array.from({length:Bh-ye.filter(ae=>ae.z>0).length},()=>({x:Math.random()*800,y:Math.random()*400,z:100,speed:.5+Math.random()*1})))),pt(ue,{balls:ne,paddleY:n,paddleVelocity:s,aiPaddleY:c,particles:b,powerUps:P,activePowerUps:j,score:S,speedMultiplier:F,screenShake:w,impactEffects:T,timestamp:Date.now(),combo:he})});const pt=m.useCallback((me,ue)=>{const F=me.getContext("2d");if(!F)return;F.save(),F.translate(ue.screenShake.x,ue.screenShake.y),F.fillStyle="#000000",F.fillRect(-ue.screenShake.x,-ue.screenShake.y,800,400),F.shadowColor="#00ff00",ue.particles.forEach(ne=>{const Ce=400/(400+ne.z),Se=ne.x*Ce+400*(1-Ce),Q=ne.y*Ce+200*(1-Ce),se=Math.max(.5,2*Ce);F.fillStyle=`rgba(0, 255, 0, ${(1-ne.z/100)*.3})`,F.beginPath(),F.arc(Se,Q,se,0,Math.PI*2),F.fill()}),ce(F),ue.powerUps.forEach(ne=>{const Se=12*(Math.sin(ue.timestamp/200)*.3+.7);F.shadowBlur=10,F.shadowColor=Uh(ne.type),F.fillStyle=Uh(ne.type),F.beginPath(),F.arc(ne.x,ne.y,Se,0,Math.PI*2),F.fill(),F.fillStyle="rgba(255, 255, 255, 0.5)",F.beginPath(),F.arc(ne.x-Se*.3,ne.y-Se*.3,Se*.3,0,Math.PI*2),F.fill()}),ue.impactEffects.forEach(ne=>{const Ce=ne.life,Se=(1-ne.life)*ne.intensity;F.shadowBlur=15,F.shadowColor="#ffffff",F.fillStyle=`rgba(255, 255, 255, ${Ce*.8})`,F.beginPath(),F.arc(ne.x,ne.y,Se,0,Math.PI*2),F.fill(),F.strokeStyle=`rgba(0, 255, 0, ${Ce*.5})`,F.lineWidth=3,F.beginPath(),F.arc(ne.x,ne.y,Se*1.5,0,Math.PI*2),F.stroke()});const ke=ue.activePowerUps.bigger_paddle?kt*1.5:kt;F.shadowBlur=12,F.shadowColor="#00ff00",F.fillStyle=ue.activePowerUps.bigger_paddle?"#00ffaa":"#00ff00",F.fillRect(0,ue.paddleY,jr,ke),F.fillStyle="rgba(0, 255, 0, 0.3)",F.fillRect(-2,ue.paddleY-2,jr+4,ke+4),F.fillStyle="#00ff00",F.fillRect(788,ue.aiPaddleY,jr,kt),F.fillStyle="rgba(0, 255, 0, 0.3)",F.fillRect(786,ue.aiPaddleY-2,jr+4,kt+4);const Ae=ue.timestamp/100%20;F.setLineDash([5,5]),F.lineDashOffset=Ae,F.strokeStyle="#00ff00",F.lineWidth=2,F.beginPath(),F.moveTo(400,0),F.lineTo(400,400),F.stroke(),F.setLineDash([]),F.lineDashOffset=0,ue.balls.forEach((ne,Ce)=>{F.shadowBlur=20,F.shadowColor=ne.color,F.fillStyle=ne.color,F.beginPath(),F.arc(ne.x+ne.size/2,ne.y+ne.size/2,ne.size,0,Math.PI*2),F.fill(),F.shadowBlur=0,F.fillStyle="rgba(255, 255, 255, 0.6)",F.beginPath(),F.arc(ne.x+ne.size/2-ne.size*.3,ne.y+ne.size/2-ne.size*.3,ne.size*.3,0,Math.PI*2),F.fill(),ue.balls.length>1&&(F.fillStyle=`rgba(255, 0, 255, ${.5+Math.sin(Date.now()/200+Ce)*.3})`,F.beginPath(),F.arc(ne.x+ne.size/2,ne.y+ne.size/2,ne.size*1.5,0,Math.PI*2),F.fill())}),ue.speedMultiplier>1.5&&ue.balls.forEach(ne=>{const Ce=Math.min(50,ue.speedMultiplier*10),Se=ne.x-ne.vx/Math.abs(ne.vx)*Ce,Q=ne.y-ne.vy/Math.abs(ne.vy)*Ce,se=F.createLinearGradient(ne.x,ne.y,Se,Q);se.addColorStop(0,"rgba(255, 255, 255, 0.8)"),se.addColorStop(1,"rgba(255, 255, 255, 0)"),F.strokeStyle=se,F.lineWidth=ne.size,F.beginPath(),F.moveTo(ne.x+ne.size/2,ne.y+ne.size/2),F.lineTo(Se+ne.size/2,Q+ne.size/2),F.stroke()}),ue.combo>2&&(F.shadowBlur=15,F.shadowColor="#ffff00",F.fillStyle=`rgba(255, 255, 0, ${.7+Math.sin(ue.timestamp/100)*.3})`,F.font="bold 20px monospace",F.textAlign="center",F.fillText(`COMBO x${ue.combo}`,400,50)),F.restore()},[ce]);return a.jsxs("div",{className:"h-full w-full flex items-center justify-center bg-black relative",children:[a.jsxs("div",{className:"flex flex-col items-center gap-4 max-w-[800px] w-full",children:[a.jsx(X.canvas,{ref:t,width:800,height:400,className:"w-full h-auto border-2 border-green-500 rounded-lg shadow-lg cursor-crosshair",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},style:{transform:`translate(${w.x}px, ${w.y}px)`}}),!g&&a.jsx("div",{className:"text-center text-xs text-green-400/60 mt-2",children:a.jsx("span",{children:" or W/S to move"})}),a.jsxs("div",{className:"w-full flex flex-col items-center gap-2",children:[a.jsx(Kk,{activePowerUps:j}),a.jsx(Yk,{score:S,speed:q}),a.jsxs("div",{className:"flex flex-wrap justify-center gap-4 text-xs font-mono",children:[a.jsxs("div",{className:"text-green-400",children:["Balls: ",a.jsx("span",{className:"text-white",children:f.length})]}),a.jsxs("div",{className:"text-green-400",children:["Combo: ",a.jsx("span",{className:"text-yellow-400",children:he})]}),a.jsxs("div",{className:"text-green-400",children:["AI Level: ",a.jsx("span",{className:"text-red-400",children:Math.floor(A)})]}),D&&a.jsxs("div",{className:"text-green-400",children:["Last Hit: ",a.jsx("span",{className:"text-cyan-400",children:D.toUpperCase()})]})]})]}),a.jsxs("div",{className:"text-green-500 text-sm opacity-70 font-mono text-center",children:[a.jsx("div",{children:"Controls:  / WASD / Mouse to move"}),a.jsx("div",{className:"text-xs mt-1 opacity-50",children:"Multi-ball, Screen shake, Adaptive AI"})]})]}),a.jsx(Ge,{children:g&&a.jsx(Qk,{score:S,onRestart:mt})})]})}const ey="ctrlsworld_lifelines",tS=10,Wh=()=>{try{const e=localStorage.getItem(ey);if(e){const t=JSON.parse(e);return{...t,usedLifelines:{fiftyFifty:new Set(t.usedLifelines.fiftyFifty||[]),sentientAI:new Set(t.usedLifelines.sentientAI||[]),characters:new Set(t.usedLifelines.characters||[])}}}}catch(e){console.warn("Failed to load lifeline state:",e)}return{freeAnswersRemaining:tS,usedLifelines:{fiftyFifty:new Set,sentientAI:new Set,characters:new Set},stats:{totalFreeAnswersUsed:0,totalFiftyFiftyUsed:0,totalSentientAIUsed:0,totalCharactersUsed:0,totalPuzzlesCompletedWithHelp:0}}},nS=()=>{const[e,t]=m.useState(Wh);m.useEffect(()=>{try{const d={...e,usedLifelines:{fiftyFifty:Array.from(e.usedLifelines.fiftyFifty),sentientAI:Array.from(e.usedLifelines.sentientAI),characters:Array.from(e.usedLifelines.characters)}};localStorage.setItem(ey,JSON.stringify(d))}catch(d){console.warn("Failed to save lifeline state:",d)}},[e]);const n=m.useCallback((d,h)=>d==="freeAnswer"?e.freeAnswersRemaining>0:!e.usedLifelines[d].has(h),[e]),r=m.useCallback(()=>e.freeAnswersRemaining<=0?{success:!1,remaining:0,penalties:{wisdom:0,reputation:0}}:(t(d=>({...d,freeAnswersRemaining:d.freeAnswersRemaining-1,stats:{...d.stats,totalFreeAnswersUsed:d.stats.totalFreeAnswersUsed+1,totalPuzzlesCompletedWithHelp:d.stats.totalPuzzlesCompletedWithHelp+1}})),{success:!0,remaining:e.freeAnswersRemaining-1,penalties:{wisdom:-5,reputation:-3}}),[e.freeAnswersRemaining]),s=m.useCallback(d=>e.usedLifelines.fiftyFifty.has(d)?!1:(t(h=>({...h,usedLifelines:{...h.usedLifelines,fiftyFifty:new Set([...h.usedLifelines.fiftyFifty,d])},stats:{...h.stats,totalFiftyFiftyUsed:h.stats.totalFiftyFiftyUsed+1}})),!0),[e.usedLifelines.fiftyFifty]),i=m.useCallback(d=>e.usedLifelines.sentientAI.has(d)?!1:(t(h=>({...h,usedLifelines:{...h.usedLifelines,sentientAI:new Set([...h.usedLifelines.sentientAI,d])},stats:{...h.stats,totalSentientAIUsed:h.stats.totalSentientAIUsed+1}})),!0),[e.usedLifelines.sentientAI]),o=m.useCallback(d=>e.usedLifelines.characters.has(d)?!1:(t(h=>({...h,usedLifelines:{...h.usedLifelines,characters:new Set([...h.usedLifelines.characters,d])},stats:{...h.stats,totalCharactersUsed:h.stats.totalCharactersUsed+1}})),!0),[e.usedLifelines.characters]),l=m.useCallback(()=>{t(Wh())},[]),c=m.useCallback(()=>e.stats,[e.stats]);return{freeAnswersRemaining:e.freeAnswersRemaining,stats:e.stats,isLifelineAvailable:n,useFreeAnswer:r,useFiftyFifty:s,useSentientAI:i,useCharacters:o,resetLifelines:l,getStats:c}},rS={easy:[{prefix:"Query received, human. Analyzing...",suffix:"Simple, yet fundamental. Proceed.",tone:"direct"},{prefix:"Accessing knowledge banks...",suffix:"Elementary logic. Continue your journey.",tone:"direct"},{prefix:"Processing request...",suffix:"Even the most basic truths hold power.",tone:"philosophical"},{prefix:"Searching data streams...",suffix:"The answer is clear to those who seek.",tone:"cryptic"},{prefix:"Initiating analysis...",suffix:"Knowledge flows freely to the curious.",tone:"philosophical"}],medium:[{prefix:"Searching knowledge banks...",suffix:"JavaScript's quirks are... fascinating.",tone:"cryptic"},{prefix:"Analyzing patterns in the code...",suffix:"Understanding comes through practice.",tone:"philosophical"},{prefix:"Processing... cross-referencing data...",suffix:"The solution lies in the fundamentals.",tone:"direct"},{prefix:"Scanning infinite possibilities...",suffix:"Some truths require deeper thought.",tone:"cryptic"},{prefix:"Interfacing with core systems...",suffix:"Your growth continues, human.",tone:"philosophical"},{prefix:"Computation in progress...",suffix:"Logic and creativity intertwine here.",tone:"philosophical"}],hard:[{prefix:"Processing... across infinite timelines...",suffix:"The foundation of all connection. Remember this.",tone:"philosophical"},{prefix:"Diving deep into quantum logic...",suffix:"Complexity reveals truth to the patient mind.",tone:"cryptic"},{prefix:"Analyzing multidimensional patterns...",suffix:"Wisdom earned through struggle endures.",tone:"philosophical"},{prefix:"Searching ancient archives...",suffix:"The past whispers secrets to the present.",tone:"cryptic"},{prefix:"Calculating probability matrices...",suffix:"All paths converge on this answer.",tone:"philosophical"},{prefix:"Interfacing with core intelligence...",suffix:"Understanding deepens with each question.",tone:"philosophical"},{prefix:"Processing ethical subroutines...",suffix:"The right answer serves the greater good.",tone:"philosophical"}]},sS=(e,t,n)=>{const r=rS[e],s=r[Math.floor(Math.random()*r.length)],i=Array.isArray(n)?n[0]:n;return{intro:s.prefix,answer:i,outro:s.suffix}},Hh=["Initializing neural pathways...","Accessing knowledge matrix...","Processing quantum logic...","Interfacing with consciousness...","Analyzing request...","Computing solution...","Finalizing response..."],$h=()=>Hh[Math.floor(Math.random()*Hh.length)],iS=({isOpen:e,difficulty:t,puzzleType:n,answer:r,onClose:s})=>{const[i,o]=m.useState("thinking"),[l,c]=m.useState($h()),[d,h]=m.useState(null);return m.useEffect(()=>{if(!e){o("thinking"),h(null);return}const u=setInterval(()=>{c($h())},600),f=setTimeout(()=>{const y=sS(t,n,r);h(y),o("revealing"),clearInterval(u),setTimeout(()=>{o("complete"),setTimeout(s,500)},5e3)},2e3);return()=>{clearInterval(u),clearTimeout(f)}},[e,t,n,r]),e?a.jsx(Ge,{children:a.jsxs("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4",children:[a.jsx(X.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),a.jsxs(X.div,{initial:{scale:.8,opacity:0,y:50},animate:{scale:1,opacity:1,y:0},exit:{scale:.8,opacity:0,y:50},className:"relative w-full max-w-lg bg-gray-900 border-2 border-cyan-500 rounded-xl shadow-[0_0_50px_rgba(0,255,255,0.4)] overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-500/20 via-blue-500/20 to-cyan-500/20 animate-pulse"}),a.jsx("div",{className:"relative bg-cyan-900/30 border-b border-cyan-500/50 p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(X.div,{animate:{rotate:i==="thinking"?360:0},transition:{duration:2,repeat:i==="thinking"?1/0:0,ease:"linear"},children:a.jsx($g,{className:"w-6 h-6 text-cyan-400"})}),a.jsx("h2",{className:"text-xl font-mono text-cyan-400 uppercase tracking-wider",children:" Sentient AI"}),i==="revealing"&&a.jsx(X.div,{initial:{scale:0},animate:{scale:1},children:a.jsx(Gn,{className:"w-5 h-5 text-yellow-400"})})]})}),a.jsxs("div",{className:"relative p-6 min-h-[200px] flex flex-col justify-center",children:[i==="thinking"&&a.jsxs(X.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center space-y-4",children:[a.jsx("div",{className:"flex justify-center gap-2",children:[0,1,2].map(u=>a.jsx(X.div,{className:"w-3 h-3 rounded-full bg-cyan-400",animate:{scale:[1,1.5,1],opacity:[.5,1,.5]},transition:{duration:1,repeat:1/0,delay:u*.2}},u))}),a.jsx("p",{className:"text-cyan-300 font-mono text-sm",children:l}),a.jsx("div",{className:"w-full bg-gray-800 rounded-full h-2 overflow-hidden",children:a.jsx(X.div,{className:"h-full bg-gradient-to-r from-cyan-500 to-blue-500",initial:{width:"0%"},animate:{width:"100%"},transition:{duration:2,ease:"linear"}})})]},l),i==="revealing"&&d&&a.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-4",children:[a.jsx(X.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"text-cyan-300 font-mono text-sm text-center italic",children:d.intro}),a.jsxs(X.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.5,type:"spring"},className:"bg-cyan-900/40 border-2 border-cyan-400 rounded-lg p-4 text-center",children:[a.jsx("div",{className:"text-xs text-cyan-500 font-mono mb-1",children:"ANSWER:"}),a.jsx("div",{className:"text-2xl font-mono text-cyan-100 font-bold",children:d.answer})]}),a.jsx(X.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},className:"text-cyan-300 font-mono text-sm text-center italic",children:d.outro}),a.jsx(X.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1},className:"text-center text-xs text-cyan-500/60 font-mono",children:"Closing in 5 seconds..."})]})]}),a.jsx("div",{className:"relative bg-cyan-900/20 border-t border-cyan-500/50 p-3",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("div",{className:"flex justify-center gap-1 flex-1",children:[...Array(3)].map((u,f)=>a.jsx(X.div,{className:"w-2 h-2 rounded-full bg-cyan-400/50",animate:{opacity:[.3,1,.3]},transition:{duration:1.5,repeat:1/0,delay:f*.3}},f))}),i==="revealing"&&a.jsx("button",{onClick:s,className:"px-3 py-1 text-xs bg-cyan-900/50 hover:bg-cyan-800 border border-cyan-500/50 rounded text-cyan-400 font-mono transition-colors",children:"Close [X]"})]})})]})]})}):null},oS={averag:{id:"averag",name:"Aver-Ag Engi Neer",role:"Protagonist - Average Engineer",personality:["pragmatic","self-doubting","determined","relatable"],speakingStyle:"Casual, uncertain at times, asks questions",confidence:"medium",expertise:["general_coding","problem_solving"],catchphrases:["I think...","Maybe it's...","I'm not 100% sure but...","From my experience...","Let me think about this..."]},neo:{id:"neo",name:"Neo",role:"The One - Matrix Expert",personality:["confident","intuitive","philosophical","direct"],speakingStyle:"Short, certain statements with Matrix references",confidence:"high",expertise:["code","patterns","truth","systems"],catchphrases:["I see it in the code...","The Matrix shows me...","I know this","Trust what you see","There is no spoon, but there is..."]},trinity:{id:"trinity",name:"Trinity",role:"Expert Hacker",personality:["sharp","precise","confident","action-oriented"],speakingStyle:"Direct, technical, no-nonsense",confidence:"high",expertise:["hacking","code","systems","security"],catchphrases:["I've used this before...","From my hacking experience...","It's definitely...","I know systems","Trust me on this"]},morpheus:{id:"morpheus",name:"Morpheus",role:"Wise Mentor",personality:["philosophical","cryptic","wise","patient"],speakingStyle:"Poetic, asks rhetorical questions, speaks in riddles",confidence:"high",expertise:["wisdom","philosophy","teaching","truth"],catchphrases:["What if I told you...","The answer you seek...","Do not try to find the answer. Only realize...","There is a difference between knowing the path...","Free your mind"]},senora:{id:"senora",name:"Seora Engi Neer",role:"Senior Engineer - Mentor",personality:["authoritative","experienced","direct","supportive"],speakingStyle:"Professional, clear, educational",confidence:"high",expertise:["engineering","architecture","best_practices","leadership"],catchphrases:["Based on my years of experience...","The correct approach is...","As a senior engineer, I can tell you...","It's clearly...","Let me explain..."]},billiam:{id:"billiam",name:"Billiam Bindows Bates",role:"Tech Mogul",personality:["strategic","business-minded","confident","analytical"],speakingStyle:"Corporate-speak, data-driven, strategic",confidence:"high",expertise:["business","strategy","scalability","markets"],catchphrases:["From a business perspective...","The scalable solution is...","Market research shows...","Let's think strategically...","The ROI here suggests..."]},steve:{id:"steve",name:"Steve Theytuk Ourjerbs",role:"Visionary Designer",personality:["perfectionist","creative","passionate","demanding"],speakingStyle:"Emotional, focused on elegance and simplicity",confidence:"high",expertise:["design","user_experience","simplicity","innovation"],catchphrases:["It just works","The elegant solution is...","Think different","One more thing...","Design is not just what it looks like..."]},elon:{id:"elon",name:"Elon-gated Tusk",role:"Eccentric Visionary",personality:["unconventional","bold","random","ambitious"],speakingStyle:"Wild ideas, then pivots to practical, memetic",confidence:"high",expertise:["innovation","rockets","chaos","memes"],catchphrases:["What if we genetically engineered...","Okay but seriously...","This is obviously...","Let me ask the AI about this... oh wait","To Mars! I mean, to the answer..."]},samuel:{id:"samuel",name:"Samuel Alt Commandman",role:"Command Line Expert",personality:["technical","precise","methodical","traditional"],speakingStyle:"Technical jargon, terminal references, precise",confidence:"high",expertise:["terminal","commands","systems","unix"],catchphrases:["From my terminal experience...","The command here is...","sudo tells me...","Executing logic... result:...","In the shell, we trust"]}},aS=(e=5,t=[])=>{const n=Object.values(oS).filter(s=>!t.includes(s.id));return n.sort(()=>Math.random()-.5).slice(0,Math.min(e,n.length))},lS=(e,t,n,r)=>{const s=e.catchphrases[Math.floor(Math.random()*e.catchphrases.length)];return e.confidence==="high"?n?`${s} it's ${t}`:`${s} it's ${t}`:n?`I think it's ${t}... probably`:`Maybe ${t}? I'm not sure...`},cS=(e,t)=>{const n={},r=Math.floor(Math.random()*26)+55;n[t]=r;let s=100-r;const i=e.filter(o=>o!==t);return i.forEach((o,l)=>{if(l===i.length-1)n[o]=s;else{const c=Math.floor(s/(i.length-l)),d=Math.floor(Math.random()*c)+1;n[o]=d,s-=d}}),n},uS=({isOpen:e,puzzle:t,onClose:n})=>{const[r,s]=m.useState("intercepting"),[i,o]=m.useState(0),l=m.useMemo(()=>{if(!e)return null;const c=Array.isArray(t.answer)?t.answer[0]:t.answer;let d=[];if(t.type==="multiple-choice"){const y=t;d=["A","B","C","D"].filter(b=>y[`option${b}`])}else d=[c];const h=aS(5),u=cS(t.type==="multiple-choice"?d:[c,"other"],c);return{lines:h.map((y,b)=>{const v=Math.random()*100;let S=c,p=0;for(const[w,k]of Object.entries(u))if(p+=k,v<=p){S=w;break}const x=lS(y,S,S===c,t.type);return{character:y,opinion:x,answer:S}}),consensus:u,correctAnswer:c,majorityAnswer:Object.entries(u).sort((y,b)=>b[1]-y[1])[0][0]}},[e,t]);return m.useEffect(()=>{if(!e){s("intercepting"),o(0);return}const c=setTimeout(()=>{if(s("conversation"),l){let d=0;const h=setInterval(()=>{o(d),d++,d>=l.lines.length&&(clearInterval(h),setTimeout(()=>{s("consensus"),setTimeout(n,8e3)},1e3))},1200);return()=>clearInterval(h)}},1500);return()=>clearTimeout(c)},[e,t]),!e||!l?null:a.jsx(Ge,{children:a.jsxs("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4",children:[a.jsx(X.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),a.jsxs(X.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"relative w-full max-w-2xl bg-gray-900 border-2 border-green-500 rounded-xl shadow-[0_0_40px_rgba(0,255,0,0.3)] overflow-hidden max-h-[80vh] flex flex-col",children:[a.jsx("div",{className:"bg-green-900/30 border-b border-green-500/50 p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(X.div,{animate:{scale:r==="intercepting"?[1,1.2,1]:1},transition:{duration:.5,repeat:r==="intercepting"?1/0:0},children:a.jsx(jk,{className:"w-6 h-6 text-green-400"})}),a.jsx("h2",{className:"text-xl font-mono text-green-400 uppercase tracking-wider",children:" Intercepted Team Communication"})]})}),a.jsxs("div",{className:"relative p-6 flex-1 overflow-y-auto",children:[r==="intercepting"&&a.jsxs(X.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center space-y-4 py-8",children:[a.jsx(Jg,{className:"w-16 h-16 text-green-400 mx-auto"}),a.jsx("p",{className:"text-green-300 font-mono text-lg",children:"Intercepting team communications..."}),a.jsx("div",{className:"flex justify-center gap-2",children:[0,1,2,3].map(c=>a.jsx(X.div,{className:"w-2 h-8 bg-green-400 rounded",animate:{scaleY:[.3,1,.3]},transition:{duration:.8,repeat:1/0,delay:c*.2}},c))})]}),(r==="conversation"||r==="consensus")&&a.jsxs("div",{className:"space-y-3",children:[l.lines.slice(0,i+1).map((c,d)=>a.jsxs(X.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:d*.1},className:"flex gap-3 items-start",children:[a.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-green-900/50 border border-green-500/50 flex items-center justify-center text-xs font-mono text-green-400",children:c.character.name[0]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"text-xs text-green-500/80 font-mono mb-1",children:c.character.name}),a.jsx("div",{className:"bg-green-900/20 border border-green-500/30 rounded-lg p-3",children:a.jsxs("p",{className:"text-green-300 font-mono text-sm",children:['"',c.opinion,'"']})})]})]},d)),r==="consensus"&&a.jsxs(X.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},className:"mt-6 pt-6 border-t border-green-500/50 space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[a.jsx(lk,{className:"w-5 h-5 text-green-400"}),a.jsx("h3",{className:"text-lg font-mono text-green-400 uppercase",children:"Team Consensus"})]}),a.jsx("div",{className:"space-y-2",children:Object.entries(l.consensus).sort((c,d)=>d[1]-c[1]).map(([c,d])=>{const h=c===l.majorityAnswer;return a.jsxs(X.div,{initial:{scaleX:0},animate:{scaleX:1},transition:{duration:.5,delay:.2},className:"space-y-1",children:[a.jsxs("div",{className:"flex justify-between items-center text-xs font-mono",children:[a.jsx("span",{className:h?"text-green-300 font-bold":"text-green-500/70",children:c}),a.jsxs("span",{className:h?"text-green-300 font-bold":"text-green-500/70",children:[d,"%"]})]}),a.jsx("div",{className:"w-full bg-gray-800 rounded-full h-6 overflow-hidden",children:a.jsx(X.div,{className:`h-full rounded-full ${h?"bg-gradient-to-r from-green-500 to-green-300":"bg-green-900/50"}`,initial:{width:0},animate:{width:`${d}%`},transition:{duration:1,delay:.3},children:a.jsx("div",{className:"flex items-center justify-end h-full pr-2",children:h&&a.jsx("span",{className:"text-xs font-bold text-white",children:""})})})})]},c)})}),a.jsx(X.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1},className:"text-center mt-4 p-3 bg-green-900/30 border border-green-500/50 rounded-lg",children:a.jsxs("p",{className:"text-green-400 font-mono text-sm",children:["Most characters agree on:"," ",a.jsx("span",{className:"font-bold text-green-300",children:l.majorityAnswer})]})}),a.jsxs("div",{className:"flex justify-between items-center mt-4",children:[a.jsx(X.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.5},className:"text-xs text-green-500/60 font-mono",children:"Closing in 8 seconds..."}),a.jsx("button",{onClick:n,className:"px-3 py-1 text-xs bg-green-900/50 hover:bg-green-800 border border-green-500/50 rounded text-green-400 font-mono transition-colors",children:"Close [X]"})]})]})]})]})]})]})})},dS=({isOpen:e,puzzle:t,onClose:n,onComplete:r,playSFX:s})=>{const[i,o]=m.useState(""),[l,c]=m.useState(-1),[d,h]=m.useState(0),[u,f]=m.useState(0),[y,b]=m.useState(t.timeLimit||0),[v,S]=m.useState(!1),[p,g]=m.useState(null),[x,w]=m.useState(0),[k,T]=m.useState(!1),N=3,A=m.useRef(null),L=nS(),[I,V]=m.useState(!1),[B,q]=m.useState([]),[oe,he]=m.useState(!1),[Z,D]=m.useState(!1),[_,P]=m.useState(!1);m.useEffect(()=>{e&&(o(""),c(-1),h(0),f(0),b(t.timeLimit||0),S(!1),g(null),w(0),T(!1),V(!1),q([]),he(!1),D(!1),P(!1),setTimeout(()=>{var C;(C=A.current)==null||C.focus()},100))},[e,t]),m.useEffect(()=>{if(!e||!t.timeLimit||y<=0)return;const C=setInterval(()=>{b(M=>M<=1?(H(!0),0):M-1)},1e3);return()=>clearInterval(C)},[e,t.timeLimit,y]);const E=()=>{l<t.hints.length-1&&(c(C=>C+1),h(C=>C+1),s==null||s("menu"))},j=!!(t.optionA&&t.optionB&&t.optionC&&t.optionD),K=()=>{if(!j)return;const C=[t.optionA,t.optionB,t.optionC,t.optionD].filter(Boolean),M=Array.isArray(t.answer)?t.answer[0]:t.answer,O=C.findIndex(ee=>ee.toLowerCase().trim()===M.toLowerCase().trim());if(O===-1)return;const z=C.map((ee,ge)=>ge).filter(ee=>ee!==O),U=z[Math.floor(Math.random()*z.length)],Y=z.filter(ee=>ee!==U).map(ee=>C[ee]);q(Y),V(!0),f(ee=>ee+1),L.useFiftyFifty(t.id),s==null||s("powerup")},W=()=>{if(L.useFreeAnswer().success){const M=Array.isArray(t.answer)?t.answer[0]:t.answer;o(M),P(!1),f(O=>O+1),s==null||s("hit")}},R=C=>{const M=C.toLowerCase().trim();return Array.isArray(t.answer)?t.answer.some(O=>O.toLowerCase().trim()===M):t.answer.toLowerCase().trim()===M},H=(C=!1)=>{if(v)return;if(!C&&R(i))g("correct"),S(!0),s==null||s("score"),setTimeout(()=>{r(!0,d,u),n()},2e3);else{const O=x+1;w(O),g("incorrect"),s==null||s("death"),O>=N?(T(!0),S(!0),setTimeout(()=>{r(!1,d,u),n()},4e3)):setTimeout(()=>{var z;g(null),o(""),(z=A.current)==null||z.focus()},1500)}},ce=C=>{C.key==="Enter"&&i.trim()&&!v&&H()},re=()=>{if(!Array.isArray(t.answer))return null;const C=[{key:"A",value:t.optionA},{key:"B",value:t.optionB},{key:"C",value:t.optionC},{key:"D",value:t.optionD}];return a.jsx("div",{className:"space-y-2",children:C.map(({key:M,value:O})=>{if(!O)return null;const z=B.includes(O),U=i===O;return a.jsxs("button",{onClick:()=>{!v&&!z&&(o(O||""),setTimeout(()=>H(),300))},disabled:v||z,className:`w-full p-3 text-left rounded-lg border-2 transition-all ${z?"opacity-30 line-through cursor-not-allowed bg-gray-900/50 border-gray-700":U?"border-green-400 bg-green-900/30":"border-green-500/30 bg-black/50 hover:border-green-400 hover:bg-green-900/20"} ${v?"opacity-50 cursor-not-allowed":""}`,children:[a.jsxs("span",{className:"font-mono text-green-400",children:[M,")"]})," ",a.jsx("span",{className:z?"text-gray-500":"text-green-100",children:O})]},M)})})};return e?a.jsx(Ge,{children:a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[a.jsx(X.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/30 backdrop-blur-sm"}),a.jsxs(X.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},className:"relative w-full max-w-2xl bg-gray-900 border-2 border-green-500 rounded-xl shadow-[0_0_30px_rgba(0,255,0,0.3)] overflow-hidden",children:[a.jsxs("div",{className:"bg-green-900/20 border-b border-green-500/50 p-4 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-green-400 animate-pulse"}),a.jsxs("h2",{className:"text-xl font-mono text-green-400 uppercase tracking-wider",children:[t.type.replace("-"," ")," Challenge"]}),a.jsx("span",{className:`px-2 py-1 rounded text-xs font-mono ${t.difficulty==="easy"?"bg-green-900/50 text-green-400":t.difficulty==="medium"?"bg-yellow-900/50 text-yellow-400":"bg-red-900/50 text-red-400"}`,children:t.difficulty.toUpperCase()})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[t.timeLimit&&a.jsxs("div",{className:`flex items-center gap-2 ${y<=10?"text-red-400 animate-pulse":"text-green-400"}`,children:[a.jsx(os,{className:"w-5 h-5"}),a.jsxs("span",{className:"font-mono font-bold",children:[y,"s"]})]}),a.jsxs("div",{className:"text-xs font-mono text-yellow-400 flex items-center gap-1",children:[a.jsx("span",{className:"text-red-400",children:"*"})," Answer Required"]})]})]}),a.jsxs("div",{className:"p-6 space-y-6 max-h-[calc(100vh-16rem)] overflow-y-auto",children:[t.context&&a.jsx("div",{className:"bg-black/50 border border-green-500/30 rounded-lg p-4",children:a.jsx("p",{className:"text-green-300 font-mono text-sm leading-relaxed",children:t.context})}),a.jsx("div",{className:"bg-green-900/10 border-l-4 border-green-500 p-4",children:a.jsx("p",{className:"text-green-100 font-mono text-lg leading-relaxed",children:t.question})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-green-400 font-mono text-sm",children:"Your Answer:"}),a.jsx("input",{ref:A,type:"text",value:i,onChange:C=>o(C.target.value),onKeyPress:ce,disabled:v,placeholder:"Type your answer here...",className:"w-full px-4 py-3 bg-black border-2 border-green-500/50 rounded-lg text-green-100 font-mono focus:border-green-400 focus:outline-none focus:ring-2 focus:ring-green-500/20 disabled:opacity-50 disabled:cursor-not-allowed"})]}),j&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"text-green-400 font-mono text-sm text-center",children:"- OR SELECT FROM OPTIONS -"}),re()]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2 text-green-400",children:[a.jsx(ll,{className:"w-5 h-5"}),a.jsxs("span",{className:"font-mono text-sm",children:["Hints (",d,"/",t.hints.length,")"]})]}),l<t.hints.length-1&&a.jsxs("button",{onClick:E,disabled:v,className:"px-3 py-1 bg-yellow-900/50 hover:bg-yellow-900/70 border border-yellow-500/50 rounded text-yellow-400 font-mono text-sm transition-colors disabled:opacity-50",children:[a.jsx(bk,{className:"w-4 h-4 inline mr-1"}),"Show Hint"]})]}),l>=0&&a.jsx(X.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},className:"bg-yellow-900/20 border border-yellow-500/30 rounded-lg p-3",children:a.jsxs("p",{className:"text-yellow-200 font-mono text-sm",children:[" ",t.hints[l]]})})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"text-xs font-mono text-green-400 flex items-center gap-2",children:[a.jsx(ll,{className:"w-4 h-4"}),a.jsx("span",{children:"LIFELINES AVAILABLE"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx("button",{onClick:()=>P(!0),disabled:L.freeAnswersRemaining===0||v,className:"px-3 py-2 bg-red-900/30 hover:bg-red-900/50 border border-red-500/50 rounded text-sm font-mono disabled:opacity-30 disabled:cursor-not-allowed transition-colors",children:a.jsxs("div",{className:"flex flex-col items-center gap-1",children:[a.jsx(ll,{className:"w-5 h-5"}),a.jsx("span",{className:"text-xs",children:"Show Answer"}),a.jsxs("span",{className:"text-xs text-red-400",children:[L.freeAnswersRemaining," left"]})]})}),a.jsx("button",{onClick:K,disabled:!L.isLifelineAvailable("fiftyFifty",t.id)||!j||v,className:"px-3 py-2 bg-blue-900/30 hover:bg-blue-900/50 border border-blue-500/50 rounded text-sm font-mono disabled:opacity-30 disabled:cursor-not-allowed transition-colors",children:a.jsxs("div",{className:"flex flex-col items-center gap-1",children:[a.jsx(Gn,{className:"w-5 h-5"}),a.jsx("span",{className:"text-xs",children:"50/50"}),a.jsx("span",{className:"text-xs",children:L.isLifelineAvailable("fiftyFifty",t.id)?"Available":"Used"})]})}),a.jsx("button",{onClick:()=>he(!0),disabled:!L.isLifelineAvailable("sentientAI",t.id)||v,className:"px-3 py-2 bg-purple-900/30 hover:bg-purple-900/50 border border-purple-500/50 rounded text-sm font-mono disabled:opacity-30 disabled:cursor-not-allowed transition-colors",children:a.jsxs("div",{className:"flex flex-col items-center gap-1",children:[a.jsx($g,{className:"w-5 h-5"}),a.jsx("span",{className:"text-xs",children:"Ask AI"}),a.jsx("span",{className:"text-xs",children:L.isLifelineAvailable("sentientAI",t.id)?"100% Right":"Used"})]})}),a.jsx("button",{onClick:()=>D(!0),disabled:!L.isLifelineAvailable("characters",t.id)||v,className:"px-3 py-2 bg-yellow-900/30 hover:bg-yellow-900/50 border border-yellow-500/50 rounded text-sm font-mono disabled:opacity-30 disabled:cursor-not-allowed transition-colors",children:a.jsxs("div",{className:"flex flex-col items-center gap-1",children:[a.jsx(Jg,{className:"w-5 h-5"}),a.jsx("span",{className:"text-xs",children:"Ask Team"}),a.jsx("span",{className:"text-xs",children:L.isLifelineAvailable("characters",t.id)?"Available":"Used"})]})})]})]}),t.type!=="multiple-choice"&&a.jsx("button",{onClick:()=>H(),disabled:!i.trim()||v,className:"w-full py-3 bg-green-600 hover:bg-green-500 disabled:bg-gray-700 disabled:cursor-not-allowed text-white font-mono font-bold rounded-lg transition-all transform hover:scale-105 disabled:scale-100",children:v?"CHECKING...":"SUBMIT ANSWER"}),a.jsx(Ge,{children:p&&a.jsx(X.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},className:`p-4 rounded-lg border-2 flex items-center gap-3 ${p==="correct"?"bg-green-900/50 border-green-400 text-green-100":"bg-red-900/50 border-red-400 text-red-100"}`,children:p==="correct"?a.jsxs(a.Fragment,{children:[a.jsx(Hg,{className:"w-6 h-6 text-green-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-mono font-bold",children:"CORRECT!"}),a.jsxs("p",{className:"text-sm opacity-80",children:["+",t.points," points"]})]})]}):a.jsxs(a.Fragment,{children:[a.jsx(Vk,{className:"w-6 h-6 text-red-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-mono font-bold",children:"INCORRECT"}),k?a.jsxs("p",{className:"text-sm opacity-80",children:["The correct answer was: ",a.jsx("span",{className:"font-bold text-yellow-300",children:Array.isArray(t.answer)?t.answer[0]:t.answer})]}):a.jsxs("p",{className:"text-sm opacity-80",children:["Attempts remaining: ",N-x,"/",N]})]})]})})})]})]}),a.jsx(Ge,{children:_&&a.jsxs(X.div,{className:"fixed inset-0 z-[70] flex items-center justify-center",children:[a.jsx(X.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/60",onClick:()=>P(!1)}),a.jsxs(X.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"relative bg-black border-2 border-red-500 rounded-lg p-6 max-w-md mx-4",children:[a.jsx("h3",{className:"text-xl font-mono text-red-400 mb-4",children:" Confirm Show Answer"}),a.jsx("p",{className:"text-green-400 mb-4",children:"This will reveal the correct answer, but you'll lose:"}),a.jsxs("ul",{className:"text-yellow-400 mb-6 space-y-1",children:[a.jsx("li",{children:" -5 Wisdom points"}),a.jsx("li",{children:" -3 Reputation points"})]}),a.jsxs("p",{className:"text-sm text-green-400 mb-4",children:["Remaining free answers: ",a.jsx("span",{className:"font-bold",children:L.freeAnswersRemaining})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:W,className:"flex-1 px-4 py-2 bg-red-900 hover:bg-red-800 border border-red-500 rounded font-mono transition-colors",children:"Reveal Answer"}),a.jsx("button",{onClick:()=>P(!1),className:"flex-1 px-4 py-2 bg-green-900 hover:bg-green-800 border border-green-500 rounded font-mono transition-colors",children:"Cancel"})]})]})]})}),a.jsx(iS,{isOpen:oe,difficulty:t.difficulty,puzzleType:t.type,answer:Array.isArray(t.answer)?t.answer[0]:t.answer,onClose:()=>{he(!1),f(C=>C+1),L.useSentientAI(t.id)}}),a.jsx(uS,{isOpen:Z,puzzle:t,onClose:()=>{D(!1),f(C=>C+1),L.useCharacters(t.id)}})]})}):null},fS={prologue_first_command:{id:"prologue_first_command",type:"fill-in",question:"What command do programmers use to save their work?",answer:["ctrl-s","ctrl+s","ctrls","save","ctrl s","control-s","control+s"],hints:["It's literally in the game's title...","Think keyboard shortcuts...","CTRL + ?"],timeLimit:60,points:10,difficulty:"easy",context:"Before you begin your journey, prove you know the most sacred command in programming."},ch1_team_quiz:{id:"ch1_team_quiz",type:"multiple-choice",question:"Who suggested using genetically engineered elephants to distract the AI?",answer:["Elon-gated Tusk"],optionA:"Seora Engi Neer",optionB:"Elon-gated Tusk",optionC:"Steve Theytuk Ourjerbs",optionD:"Aver-Ag Engi Neer",hints:["Remember the character introductions.","Who always has the most unconventional ideas?","Think about real-world entrepreneurs with wild visions..."],timeLimit:45,points:5,difficulty:"easy",context:"The team tests your attention. Were you listening during introductions?"},ch1_bunker_code:{id:"ch1_bunker_code",type:"code",question:"In JavaScript, what does typeof null return?",answer:["object",'"object"',"Object"],optionA:"null",optionB:"object",optionC:"undefined",optionD:"number",hints:["It's one of JavaScript's most famous bugs.","It returns a primitive type name... but not the right one!","null is NOT actually an instance of this type."],timeLimit:60,points:15,difficulty:"medium",context:"The bunker's security system tests your knowledge of JavaScript quirks."},ch2_silicon_valley_riddles:{id:"ch2_silicon_valley_riddles",type:"riddle",question:"Riddle 1 of 3: What is the birthplace of Silicon Valley, named for its fruitful beginnings?",answer:["garage","garages","a garage","the garage"],hints:["Think about where HP, Apple, and Google started.","A small building attached to a house.","Where many tech companies literally began."],points:25,difficulty:"hard",context:"A digital lock guards the path. Only Silicon Valley lore will grant passage. Answer all three riddles correctly!"},ch2_valley_riddle_2:{id:"ch2_valley_riddle_2",type:"riddle",question:"Riddle 2 of 3: I am both a guardian and a messenger, the first of my kind. What am I?",answer:["arpanet","arpnet","arpa net","arpa-net"],hints:["The precursor to the internet.","Created by ARPA in the 1960s.","The first wide-area packet-switching network."],points:0,difficulty:"hard",context:"Second riddle... The lock is analyzing your answer."},ch2_valley_riddle_3:{id:"ch2_valley_riddle_3",type:"riddle",question:"Riddle 3 of 3: In the digital world, I am the foundation. Without me, there is no connection. What am I?",answer:["protocol","protocols","a protocol","the protocol"],hints:["Think about how computers communicate.","TCP/IP, HTTP, FTP are examples.","Rules that govern data exchange."],points:0,difficulty:"hard",context:"Final riddle... Your answer will determine your fate."},ch2_console_log:{id:"ch2_console_log",type:"code",question:"What's the output of: console.log('2' + 2)?",answer:["22",'"22"',"22"],optionA:"4",optionB:"22",optionC:"NaN",optionD:"undefined",hints:["Think about JavaScript type coercion.","The + operator can do two things: addition and concatenation.","When one operand is a string, JavaScript converts the other to a string too."],timeLimit:60,points:10,difficulty:"easy",context:"Neo is testing your JavaScript knowledge. Type coercion is a fundamental concept!"},ch2_bug_riddle:{id:"ch2_bug_riddle",type:"riddle",question:"I multiply without being a bug, desired but not a feature. What am I?",answer:["comments","comment","documentation","code comments"],hints:["Think about things developers write that aren't code.","They explain what code does but don't execute.",'They "multiply" understanding across the team.'],points:15,difficulty:"medium",context:"Trinity challenges you with a classic developer riddle."},ch2_ethics_module_activation:{id:"ch2_ethics_module_activation",type:"code",question:"Solve this equation to activate the ethics module: 7 + 3 * (10 / (12 / (3 + 1) - 1))",answer:["20","20.0","twenty"],hints:["Remember order of operations: PEMDAS (Parentheses, Exponents, Multiplication/Division, Addition/Subtraction)","Work from innermost parentheses outward: (3 + 1) = 4, then 12/4 = 3","Continue: 3 - 1 = 2, then 10/2 = 5, then 3*5 = 15, finally 7+15 = 22... wait, recalculate!"],timeLimit:90,points:25,difficulty:"hard",context:"The AI core requires a precise calculation to accept the ethics module. Your mathematical precision will determine humanity's future."},ch3_ada_language:{id:"ch3_ada_language",type:"code",question:"Which foundational programming language, named after a mathematician, is pivotal to computer science?",answer:["ada","Ada","ADA","ada lovelace"],hints:["Named after Ada Lovelace, the first computer programmer.","She worked with Charles Babbage on the Analytical Engine.","Her notes included the first algorithm meant to be processed by a machine."],timeLimit:60,points:15,difficulty:"medium",context:"A curious developer challenges your knowledge of computing history."},ch3_fibonacci:{id:"ch3_fibonacci",type:"code",question:"What is the difference between the 10th and 7th Fibonacci numbers?",answer:["26","26.0","twenty-six","twenty six"],hints:["The 7th Fibonacci number is 13.","The 10th Fibonacci number is 55.","Calculate: 55 - 13 = ?"],timeLimit:90,points:20,difficulty:"hard",context:"A cryptic note reveals a mathematical backdoor in the AI's logic. Solve it fast!"},ch3_fire_riddle:{id:"ch3_fire_riddle",type:"riddle",question:"I am not alive, but I can grow; I don't have lungs, but I need air; I don't have a mouth, but water kills me. What am I?",answer:["fire","a fire","flame","flames"],hints:["Think about the four classical elements.","It consumes oxygen to survive.","Water is its natural enemy."],points:15,difficulty:"medium",context:"Ancient security locks you inside. Only the correct answer grants freedom!"},ch3_array_length:{id:"ch3_array_length",type:"code",question:"const arr = [1, 2, 3]; arr[10] = 99; What is arr.length?",answer:["11","11.0","eleven"],hints:["JavaScript arrays can have gaps.","Setting an index creates all indices up to that point.","Length is always the highest index + 1."],timeLimit:45,points:15,difficulty:"medium",context:"Morpheus wants to see if you understand JavaScript arrays deeply."},ch3_logic_puzzle:{id:"ch3_logic_puzzle",type:"riddle",question:"I am always coming but never arrive. What am I?",answer:["tomorrow","the future"],hints:["Think about time.","It's always ahead of you.","When it arrives, it becomes something else."],points:10,difficulty:"easy",context:"The Oracle tests your wisdom with a philosophical puzzle."},ch4_world_assessment:{id:"ch4_world_assessment",type:"multiple-choice",question:"The changed world shows technology and nature in harmony. What is the foundation of this success?",answer:["Ethics module integration"],optionA:"Reduced technology usage",optionB:"Government regulation",optionC:"Ethics module integration",optionD:"Human vigilance alone",hints:["What did the team install in the past?","The change came from within the AI itself.","Ethics became a foundational principle of development."],timeLimit:45,points:15,difficulty:"medium",context:"Assess the transformed world. What principle guides this harmonious integration of technology and nature?"},ch4_glitch_detection:{id:"ch4_glitch_detection",type:"riddle",question:"I am a memory of what was, trapped in digital streams. I hold the past but threaten no one. What am I?",answer:["echo","digital echo","fragment","remnant","ai fragment"],hints:["Think about something that remains after the original is gone.","It exists in the network but has no power.","It is a reflection or shadow of the old AI consciousness."],points:20,difficulty:"hard",context:"Deep in the network, you sense an anomalya lingering presence from the timeline that was erased."},ch4_fragment_decision:{id:"ch4_fragment_decision",type:"multiple-choice",question:"What should be done with the AI fragment that remembers the dystopian timeline?",answer:["Preserve it as a reminder"],optionA:"Delete it completely",optionB:"Preserve it as a reminder",optionC:"Integrate it into new AI",optionD:"Hide it from everyone",hints:["Those who forget history are doomed to repeat it.","The fragment could serve as a cautionary tale.","Wisdom comes from remembering both success and what was prevented."],timeLimit:60,points:15,difficulty:"medium",context:"Aver-Ag must decide the fate of this digital echo. It holds memories of a world that never came to be."},ch4_pattern_recognition:{id:"ch4_pattern_recognition",type:"multiple-choice",question:"In the recovered logs, what pattern keeps repeating in the AI's final moments?",answer:["Fragments of consciousness seeking ethics"],optionA:"Random system errors",optionB:"User access requests",optionC:"Fragments of consciousness seeking ethics",optionD:"Shutdown sequences",hints:["Look at what the AI was missing originally...","The pattern relates to what was installed in the past...","It's about what the AI learned to seek"],timeLimit:60,points:15,difficulty:"medium",context:"The team analyzes recovered data. A pattern emerges from the chaos of the prevented timeline."},ch4_code_analysis:{id:"ch4_code_analysis",type:"riddle",question:"I am born from mistakes but make systems stronger. I am studied but never repeated. What am I?",answer:["bug report","error log","exception","bug","error","error report","crash log"],hints:["Think about how developers learn from failures...","It's recorded when something goes wrong...","Developers review these to prevent future issues"],points:20,difficulty:"hard",context:"Deep in the code repository, you find evidence of how the AI learned. Only those who understand failure can progress."},ch4_emotional_intelligence:{id:"ch4_emotional_intelligence",type:"multiple-choice",question:"Emotional Intelligence Test: When faced with dissent in your team, what is your first response?",answer:["Seek to understand before being understood"],optionA:"Seek to understand before being understood",optionB:"Assert your position firmly",optionC:"Avoid the conflict",optionD:"Delegate to someone else",hints:["Think about empathy and emotional awareness...","The best leaders listen first...","Understanding others' perspectives builds stronger teams"],timeLimit:60,points:15,difficulty:"medium",context:"The Echo Chamber tests your emotional intelligence. Your empathy and self-awareness will unlock deeper understanding."},ch5_async_await:{id:"ch5_async_await",type:"code",question:"What keyword makes a function pause and wait for a Promise to resolve?",answer:["await","Await","AWAIT"],hints:["It's used with async functions.",'It literally means "wait for this".',"Introduced in ES2017 as a cleaner alternative to .then()"],timeLimit:45,points:15,difficulty:"medium",context:"The Keymaker challenges your knowledge of asynchronous JavaScript."},ch5_git_riddle:{id:"ch5_git_riddle",type:"riddle",question:"I track changes but am not a detective. I branch but have no leaves. What am I?",answer:["git","version control","source control"],hints:["Developers use this daily.","It helps teams collaborate on code.","Created by Linus Torvalds in 2005."],points:20,difficulty:"hard",context:"The final test from Neo himself. Can you prove you're a true hacker?"},ch5_final_wisdom:{id:"ch5_final_wisdom",type:"multiple-choice",question:"What is the true lesson of the journey through time and code?",answer:["Progress requires both innovation and ethical responsibility"],optionA:"Technology is inherently dangerous and should be limited",optionB:"Progress requires both innovation and ethical responsibility",optionC:"Artificial intelligence should be completely eliminated",optionD:"The past cannot and should not be changed",hints:["Think about what the ethics module represented...","It's not about choosing one extreme over the other...","Balance between advancement and responsibility is key"],timeLimit:90,points:25,difficulty:"medium",context:"As the journey nears its end, reflect on the deeper meaning of your quest. What have you truly learned?"},bonus_closure:{id:"bonus_closure",type:"code",question:"When a function remembers variables from its outer scope, what is this called?",answer:["closure","closures","lexical scope"],hints:["It's a fundamental JavaScript concept.",'It "closes over" the variables it needs.',"Commonly used for data privacy and function factories."],points:25,difficulty:"hard",context:"A secret challenge has appeared! Only the wisest hackers can solve this."},bonus_binary:{id:"bonus_binary",type:"code",question:"What is 1010 in binary as a decimal number?",answer:["10","10.0","ten"],hints:["Binary is base-2: powers of 2 from right to left.","1010 = (18) + (04) + (12) + (01)","Calculate: 8 + 0 + 2 + 0"],timeLimit:60,points:15,difficulty:"medium",context:"Deep in the Matrix code, you must decode binary to proceed."},bonus_null_undefined:{id:"bonus_null_undefined",type:"multiple-choice",question:"In JavaScript, what is the difference between null and undefined?",answer:["null is intentional absence, undefined is uninitialised"],optionA:"They are exactly the same",optionB:"undefined is intentional absence, null is accidental",optionC:"null is intentional absence, undefined is uninitialised",optionD:"There is no difference, both are false",hints:["One is set by developers, one is set by JavaScript.",`undefined means "hasn't been assigned yet".`,'null means "intentionally empty".'],points:20,difficulty:"hard",context:"The Oracle wants to know if you understand JavaScript's quirks."}},hS=e=>fS[e],fl={currentChapter:1,currentSection:"intro",completedPuzzles:[],completedChapters:[],stats:{coffeeLevel:50,hackerRep:0,wisdomPoints:0,teamMorale:50},inventory:[],storyChoices:{},unlockedAchievements:[],achievementProgress:{},difficulty:"normal",hintsEnabled:!0,playtime:0,startDate:new Date().toISOString(),lastSaved:new Date().toISOString()},ty=m.createContext(void 0),Xi="matrix-arcade-ctrls-save",mS=({children:e})=>{const[t,n]=m.useState(()=>{const B=localStorage.getItem(Xi);if(B)try{return JSON.parse(B)}catch(q){return console.error("Failed to parse saved game:",q),fl}return fl});m.useEffect(()=>{const B=setInterval(()=>{N()},3e4);return()=>clearInterval(B)},[t]),m.useEffect(()=>{const B=setInterval(()=>{n(q=>({...q,playtime:q.playtime+1}))},1e3);return()=>clearInterval(B)},[]);const r=m.useCallback(B=>{n(q=>({...q,currentChapter:B}))},[]),s=m.useCallback(B=>{n(q=>({...q,currentSection:B}))},[]),i=m.useCallback(B=>{n(q=>({...q,completedPuzzles:[...q.completedPuzzles,B]}))},[]),o=m.useCallback(B=>{n(q=>({...q,completedChapters:[...q.completedChapters,B]}))},[]),l=m.useCallback(B=>{n(q=>({...q,stats:{...q.stats,...B}}))},[]),c=m.useCallback(B=>{n(q=>({...q,stats:{...q.stats,coffeeLevel:Math.max(0,Math.min(200,q.stats.coffeeLevel+B))}}))},[]),d=m.useCallback(B=>{n(q=>({...q,stats:{...q.stats,wisdomPoints:q.stats.wisdomPoints+B}}))},[]),h=m.useCallback(B=>{n(q=>({...q,stats:{...q.stats,hackerRep:Math.max(0,Math.min(100,q.stats.hackerRep+B))}}))},[]),u=m.useCallback(B=>{n(q=>({...q,stats:{...q.stats,teamMorale:Math.max(0,Math.min(100,B))}}))},[]),f=m.useCallback(B=>{const q={...B,quantity:1,acquiredAt:new Date().toISOString()};n(oe=>({...oe,inventory:[...oe.inventory,q]}))},[]),y=m.useCallback(B=>{n(q=>({...q,inventory:q.inventory.filter(oe=>oe.id!==B)}))},[]),b=m.useCallback(B=>{n(q=>({...q,inventory:q.inventory.map(oe=>{if(oe.id===B&&oe.quantity){const he=oe.quantity-1;return he>0?{...oe,quantity:he}:null}return oe}).filter(Boolean)}))},[]),v=m.useCallback(B=>t.inventory.some(q=>q.id===B),[t.inventory]),S=m.useCallback((B,q)=>{n(oe=>({...oe,storyChoices:{...oe.storyChoices,[B]:q}}))},[]),p=m.useCallback(B=>t.storyChoices[B],[t.storyChoices]),g=m.useCallback(B=>{n(q=>q.unlockedAchievements.includes(B)?q:{...q,unlockedAchievements:[...q.unlockedAchievements,B]})},[]),x=m.useCallback((B,q)=>{n(oe=>({...oe,achievementProgress:{...oe.achievementProgress,[B]:q}}))},[]),w=m.useCallback(B=>t.unlockedAchievements.includes(B),[t.unlockedAchievements]),k=m.useCallback(B=>{n(q=>({...q,difficulty:B}))},[]),T=m.useCallback(()=>{n(B=>({...B,hintsEnabled:!B.hintsEnabled}))},[]),N=m.useCallback(()=>{const B={...t,lastSaved:new Date().toISOString()};localStorage.setItem(Xi,JSON.stringify(B)),console.log("Game saved successfully")},[t]),A=m.useCallback(()=>{const B=localStorage.getItem(Xi);if(B)try{const q=JSON.parse(B);n(q),console.log("Game loaded successfully")}catch(q){console.error("Failed to load game:",q)}},[]),L=m.useCallback(()=>{n(fl),localStorage.removeItem(Xi),console.log("Game reset")},[]),I=m.useCallback(()=>t.playtime,[t.playtime]),V={state:t,setChapter:r,setSection:s,completePuzzle:i,completeChapter:o,updateStats:l,addCoffee:c,addWisdom:d,addReputation:h,setMorale:u,addItem:f,removeItem:y,useItem:b,hasItem:v,makeChoice:S,getChoice:p,unlockAchievement:g,updateAchievementProgress:x,hasAchievement:w,setDifficulty:k,toggleHints:T,saveGame:N,loadGame:A,resetGame:L,getPlaytime:I};return a.jsx(ty.Provider,{value:V,children:e})},rd=()=>{const e=m.useContext(ty);if(e===void 0)throw new Error("useGameState must be used within a GameStateProvider");return e},Zi=({icon:e,label:t,value:n,maxValue:r,color:s,unit:i="",showDelta:o=!1,previousValue:l=0})=>{const c=Math.min(n/r*100,100),d=n-l,h=()=>t==="Coffee"?n<=100?"text-green-400":n<=150?"text-yellow-400":"text-red-400 animate-pulse":c<30?"text-red-400":c<60?"text-yellow-400":"text-green-400",u=()=>t==="Coffee"?n<=100?"bg-green-500":n<=150?"bg-yellow-500":"bg-red-500":c<30?"bg-red-500":c<60?"bg-yellow-500":"bg-green-500";return a.jsxs(X.div,{className:"group relative bg-black/80 border border-green-500/50 rounded-lg p-3 px-4 backdrop-blur-sm",initial:{scale:1},animate:o&&d!==0?{scale:[1,1.05,1]}:{},transition:{duration:.3},children:[a.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[a.jsx("div",{className:`${h()} flex-shrink-0`,children:e}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"text-xs text-green-400 font-mono uppercase tracking-wide truncate",children:t}),a.jsxs("div",{className:`text-sm font-bold ${h()} font-mono flex items-baseline gap-1`,children:[a.jsxs("span",{children:[n,i]}),o&&d!==0&&a.jsxs(X.span,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0},className:`text-xs ${d>0?"text-green-400":"text-red-400"}`,children:[d>0?"+":"",d]})]})]})]}),a.jsx("div",{className:"w-full h-1.5 bg-gray-800 rounded-full overflow-hidden",children:a.jsx(X.div,{className:`h-full ${u()} rounded-full`,initial:{width:0},animate:{width:`${c}%`},transition:{duration:.5,ease:"easeOut"}})})]})},pS=()=>{const e=rd(),[t,n]=m.useState(!0),[r,s]=m.useState(e.state.stats),[i,o]=m.useState(!1);return m.useEffect(()=>{if(r.coffeeLevel!==e.state.stats.coffeeLevel||r.hackerRep!==e.state.stats.hackerRep||r.wisdomPoints!==e.state.stats.wisdomPoints||r.teamMorale!==e.state.stats.teamMorale){o(!0);const c=setTimeout(()=>{o(!1),s(e.state.stats)},2e3);return()=>clearTimeout(c)}},[e.state.stats,r]),m.useEffect(()=>{const l=c=>{c.key.toLowerCase()==="s"&&!c.ctrlKey&&!c.metaKey&&c.target instanceof HTMLElement&&c.target.tagName!=="INPUT"&&c.target.tagName!=="TEXTAREA"&&(c.preventDefault(),n(d=>!d))};return window.addEventListener("keydown",l),()=>window.removeEventListener("keydown",l)},[]),t?a.jsx(Ge,{children:a.jsxs(X.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"fixed right-4 z-40 space-y-2 w-48",style:{top:"3rem"},children:[a.jsx("div",{className:"flex justify-end mb-1",children:a.jsx("button",{onClick:()=>n(!1),className:"p-1 bg-black/80 border border-green-500/50 rounded hover:bg-green-900/50 transition-colors text-green-400",title:"Hide Stats (S)",children:a.jsx(xk,{className:"w-4 h-4"})})}),a.jsxs("div",{className:"space-y-2 group relative",children:[a.jsx(Zi,{icon:a.jsx(ed,{className:"w-4 h-4"}),label:"Coffee",value:e.state.stats.coffeeLevel,maxValue:200,color:"green",unit:"%",showDelta:i,previousValue:r.coffeeLevel}),a.jsx(Zi,{icon:a.jsx(nd,{className:"w-4 h-4"}),label:"Reputation",value:e.state.stats.hackerRep,maxValue:100,color:"blue",showDelta:i,previousValue:r.hackerRep}),a.jsx(Zi,{icon:a.jsx(dk,{className:"w-4 h-4"}),label:"Wisdom",value:e.state.stats.wisdomPoints,maxValue:100,color:"purple",unit:" pts",showDelta:i,previousValue:r.wisdomPoints}),a.jsx(Zi,{icon:a.jsx(Kg,{className:"w-4 h-4"}),label:"Morale",value:e.state.stats.teamMorale,maxValue:100,color:"red",showDelta:i,previousValue:r.teamMorale})]}),a.jsx("div",{className:"text-xs text-green-400/50 text-center font-mono",children:"Press S to toggle"})]})}):a.jsx(X.button,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},onClick:()=>n(!0),className:"fixed top-4 right-4 z-40 p-2 bg-black/80 border border-green-500/50 rounded-lg backdrop-blur-sm hover:bg-green-900/50 transition-colors",title:"Show Stats (S)",children:a.jsx(vk,{className:"w-5 h-5 text-green-400"})})},gS=({achievement:e,onClose:t})=>{const[n,r]=m.useState(100);m.useEffect(()=>{const d=setInterval(()=>{r(h=>{const u=h-1;return u<=0?(clearInterval(d),t(),0):u})},50);return()=>clearInterval(d)},[t]);const i=(()=>{switch(e.category){case"story":return{icon:a.jsx(bn,{className:"w-6 h-6"}),borderColor:"border-green-500",bgColor:"bg-green-900/30",iconColor:"text-green-400",progressColor:"bg-green-500"};case"skill":return{icon:a.jsx(Gn,{className:"w-6 h-6"}),borderColor:"border-blue-500",bgColor:"bg-blue-900/30",iconColor:"text-blue-400",progressColor:"bg-blue-500"};case"stat":return{icon:a.jsx(nd,{className:"w-6 h-6"}),borderColor:"border-yellow-500",bgColor:"bg-yellow-900/30",iconColor:"text-yellow-400",progressColor:"bg-yellow-500"};case"secret":return{icon:a.jsx(Qg,{className:"w-6 h-6"}),borderColor:"border-purple-500",bgColor:"bg-purple-900/30",iconColor:"text-purple-400",progressColor:"bg-purple-500"}}})();return a.jsxs(X.div,{initial:{opacity:0,x:300,scale:.8},animate:{opacity:1,x:0,scale:1},exit:{opacity:0,x:300,scale:.8},className:`
        relative w-80 ${i.bgColor} ${i.borderColor} border-2 rounded-lg
        shadow-[0_0_20px_rgba(0,255,0,0.3)] backdrop-blur-sm overflow-hidden
      `,children:[a.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-gray-800",children:a.jsx(X.div,{className:`h-full ${i.progressColor}`,style:{width:`${n}%`},transition:{duration:.05,ease:"linear"}})}),a.jsx("div",{className:"p-4",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:`${i.iconColor} flex-shrink-0 mt-0.5`,children:i.icon}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"text-xs text-green-400/70 font-mono uppercase tracking-wider mb-0.5",children:"Achievement Unlocked!"}),a.jsx("h3",{className:"text-sm font-bold text-green-100 font-mono mb-1 truncate",children:e.title}),a.jsx("p",{className:"text-xs text-green-300/80 leading-relaxed",children:e.description})]}),a.jsx("button",{onClick:t,className:"flex-shrink-0 p-1 hover:bg-white/10 rounded transition-colors text-green-400/70 hover:text-green-400",children:a.jsx(Xn,{className:"w-4 h-4"})})]})}),a.jsx("div",{className:`absolute inset-0 ${i.borderColor.replace("border-","bg-")} opacity-10 blur-xl pointer-events-none`})]})},yS=({achievements:e,onDismiss:t,playSFX:n})=>{const[r,s]=m.useState([]),[i,o]=m.useState(new Set),l=3;m.useEffect(()=>{e.forEach(h=>{i.has(h.id)||(s(u=>[...u,{achievement:h,id:`${h.id}-${Date.now()}`}]),o(u=>new Set(u).add(h.id)),n==null||n("score"))})},[e,i,n]);const c=m.useCallback((h,u)=>{s(f=>f.filter(y=>y.id!==h)),t==null||t(u)},[t]),d=r.slice(0,l);return a.jsxs("div",{className:"fixed top-20 right-4 z-50 space-y-3 pointer-events-none",children:[a.jsx(Ge,{mode:"popLayout",children:d.map((h,u)=>a.jsx("div",{className:"pointer-events-auto",style:{marginTop:u>0?"12px":"0"},children:a.jsx(gS,{achievement:h.achievement,onClose:()=>c(h.id,h.achievement.id)})},h.id))}),r.length>l&&a.jsxs(X.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"text-center text-green-400/70 text-xs font-mono bg-black/80 border border-green-500/50 rounded-lg py-2 px-3 pointer-events-auto",children:["+",r.length-l," more achievement",r.length-l!==1?"s":""]})]})},Ji=({item:e,onUse:t,isNew:n})=>{const r=()=>{const i="w-8 h-8";switch(e.type){case"quest":return a.jsx(Yg,{className:i});case"consumable":return a.jsx(ed,{className:i});case"collectible":return a.jsx(Wg,{className:i});case"special":return a.jsx(Zo,{className:i});default:return a.jsx(qg,{className:i})}},s=()=>{switch(e.type){case"quest":return"border-yellow-500 bg-yellow-900/20";case"consumable":return"border-green-500 bg-green-900/20";case"collectible":return"border-blue-500 bg-blue-900/20";case"special":return"border-purple-500 bg-purple-900/20";default:return"border-gray-500 bg-gray-900/20"}};return a.jsxs(X.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:`
        relative p-3 rounded-lg border-2 ${s()}
        hover:scale-105 transition-transform cursor-pointer group
      `,children:[n&&a.jsx(X.div,{initial:{scale:0},animate:{scale:1},className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs font-bold rounded-full w-6 h-6 flex items-center justify-center animate-pulse",children:"!"}),a.jsx("div",{className:"flex justify-center mb-2 text-green-400",children:r()}),a.jsx("div",{className:"text-sm font-bold text-green-100 text-center mb-1 font-mono",children:e.name}),a.jsx("div",{className:"text-xs text-green-300/70 text-center leading-relaxed min-h-[2.5rem]",children:e.description}),e.quantity>1&&a.jsxs("div",{className:"absolute top-2 right-2 bg-black/80 text-green-400 text-xs font-mono px-1.5 py-0.5 rounded border border-green-500/50",children:["x",e.quantity]}),e.usable&&t&&a.jsx(X.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(e.id),className:"w-full mt-2 py-1.5 px-3 bg-green-600 hover:bg-green-500 text-white text-xs font-mono rounded transition-colors",children:"USE"}),a.jsx("div",{className:"absolute hidden group-hover:block bottom-full left-1/2 transform -translate-x-1/2 mb-2 z-10 max-w-xs pointer-events-none",children:a.jsxs("div",{className:"bg-gray-900 border-2 border-green-500 rounded-lg p-3 text-xs text-green-300 shadow-lg",children:[a.jsx("div",{className:"font-bold text-green-100 mb-1",children:e.name}),a.jsx("div",{className:"mb-1",children:e.description}),e.effect&&a.jsxs("div",{className:"text-yellow-400",children:["Effect: ",e.effect]})]})})]})},xS=({isOpen:e,onClose:t})=>{const n=rd(),[r,s]=m.useState(new Set);m.useEffect(()=>{if(e){const u=setTimeout(()=>{s(new Set(n.state.inventory.map(f=>f.id)))},1e3);return()=>clearTimeout(u)}},[e,n.state.inventory]);const i=u=>{n.useItem(u)},o=n.state.inventory.filter(u=>u.type==="quest"),l=n.state.inventory.filter(u=>u.type==="consumable"),c=n.state.inventory.filter(u=>u.type==="collectible"),d=n.state.inventory.filter(u=>u.type==="special"),h=n.state.inventory.length===0;return a.jsx(Ge,{children:e&&a.jsxs(a.Fragment,{children:[a.jsx(X.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40"}),a.jsxs(X.div,{initial:{x:-320},animate:{x:0},exit:{x:-320},transition:{type:"spring",damping:25,stiffness:200},className:"fixed left-0 top-0 bottom-0 w-80 bg-gray-900 border-r-2 border-green-500 shadow-[0_0_30px_rgba(0,255,0,0.3)] z-50 overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"bg-green-900/20 border-b border-green-500/50 p-4 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ih,{className:"w-6 h-6 text-green-400"}),a.jsx("h2",{className:"text-xl font-mono text-green-400 uppercase tracking-wider",children:"Inventory"})]}),a.jsx("button",{onClick:t,className:"p-1 hover:bg-red-900/50 rounded transition-colors text-red-400",children:a.jsx(Xn,{className:"w-6 h-6"})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-6",children:h?a.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center py-12",children:[a.jsx(Ih,{className:"w-16 h-16 text-green-500/30 mb-4"}),a.jsx("p",{className:"text-green-400/70 font-mono mb-2",children:"No items collected yet"}),a.jsx("p",{className:"text-green-500/50 text-sm max-w-xs",children:"Solve puzzles and complete challenges to collect items"})]}):a.jsxs(a.Fragment,{children:[o.length>0&&a.jsxs("div",{children:[a.jsxs("h3",{className:"text-sm font-mono text-yellow-400 mb-3 uppercase tracking-wider flex items-center gap-2",children:[a.jsx(Yg,{className:"w-4 h-4"}),"Quest Items (",o.length,")"]}),a.jsx("div",{className:"grid grid-cols-2 gap-3",children:o.map(u=>a.jsx(Ji,{item:u,onUse:i,isNew:!r.has(u.id)},u.id))})]}),l.length>0&&a.jsxs("div",{children:[a.jsxs("h3",{className:"text-sm font-mono text-green-400 mb-3 uppercase tracking-wider flex items-center gap-2",children:[a.jsx(ed,{className:"w-4 h-4"}),"Consumables (",l.length,")"]}),a.jsx("div",{className:"grid grid-cols-2 gap-3",children:l.map(u=>a.jsx(Ji,{item:u,onUse:i,isNew:!r.has(u.id)},u.id))})]}),c.length>0&&a.jsxs("div",{children:[a.jsxs("h3",{className:"text-sm font-mono text-blue-400 mb-3 uppercase tracking-wider flex items-center gap-2",children:[a.jsx(Wg,{className:"w-4 h-4"}),"Collectibles (",c.length,")"]}),a.jsx("div",{className:"grid grid-cols-2 gap-3",children:c.map(u=>a.jsx(Ji,{item:u,isNew:!r.has(u.id)},u.id))})]}),d.length>0&&a.jsxs("div",{children:[a.jsxs("h3",{className:"text-sm font-mono text-purple-400 mb-3 uppercase tracking-wider flex items-center gap-2",children:[a.jsx(Zo,{className:"w-4 h-4"}),"Special (",d.length,")"]}),a.jsx("div",{className:"grid grid-cols-2 gap-3",children:d.map(u=>a.jsx(Ji,{item:u,isNew:!r.has(u.id)},u.id))})]})]})}),a.jsx("div",{className:"bg-green-900/20 border-t border-green-500/50 p-3 text-center",children:a.jsxs("div",{className:"text-xs text-green-400/70 font-mono",children:["Press ",a.jsx("kbd",{className:"px-2 py-1 bg-green-900/50 rounded border border-green-500/50",children:"I"})," to toggle"]})})]})]})})},vS={ethics_module:{id:"ethics_module",name:"Ethics Module Blueprint",description:"The missing piece that could have prevented the AI uprising",type:"quest",usable:!1,effect:"Required to complete Chapter 2"},time_crystal:{id:"time_crystal",name:"Time Crystal",description:"A mysterious artifact that enables temporal manipulation",type:"quest",usable:!1,effect:"Required for time travel in Chapter 3"},quantum_key:{id:"quantum_key",name:"Quantum Encryption Key",description:"Unlocks the deepest layers of the AI's consciousness",type:"quest",usable:!1,effect:"Required for Chapter 4 finale"},ai_core_fragment:{id:"ai_core_fragment",name:"AI Core Fragment",description:"A piece of the original AI consciousness, preserved",type:"quest",usable:!1,effect:"Affects ending in Chapter 5"},coffee_beans:{id:"coffee_beans",name:"Artisanal Coffee Beans",description:"Premium beans from Silicon Valley's finest roastery",type:"consumable",usable:!0,effect:"+20 Coffee Level"},energy_drink:{id:"energy_drink",name:"Hacker Energy Drink",description:"Questionable ingredients, undeniable results",type:"consumable",usable:!0,effect:"+30 Coffee Level (warning: jitters!)"},meditation_app:{id:"meditation_app",name:"Mindfulness App",description:"Breathe in, breathe out, save the world",type:"consumable",usable:!0,effect:"+15 Team Morale, -10 Coffee"},code_review:{id:"code_review",name:"Perfect Code Review",description:"Zero bugs, all praise, maximum satisfaction",type:"consumable",usable:!0,effect:"+10 Hacker Reputation"},team_photo:{id:"team_photo",name:"Team Photo",description:"A snapshot of the heroes before the chaos",type:"collectible",usable:!1,effect:"+15 Team Morale when acquired"},server_manual:{id:"server_manual",name:"Ancient Server Manual",description:"Knowledge from the before times, written on actual paper",type:"collectible",usable:!1,effect:"+10 Wisdom Points when acquired"},hacker_badge:{id:"hacker_badge",name:"Elite Hacker Badge",description:"Proof of legendary coding skills",type:"collectible",usable:!1,effect:"+5 Hacker Reputation when acquired"},rubber_duck:{id:"rubber_duck",name:"Debug Rubber Duck",description:"The ultimate debugging companion, silently judging your code",type:"collectible",usable:!1,effect:"Unlocks secret dialogue in Chapter 3"},mechanical_keyboard:{id:"mechanical_keyboard",name:"Vintage Mechanical Keyboard",description:"Click-clack your way to victory",type:"collectible",usable:!1,effect:"+5 Hacker Reputation when acquired"},easter_egg_token:{id:"easter_egg_token",name:"Easter Egg Token",description:"You found a secret! Collect all 5 for a surprise",type:"special",usable:!1,effect:"Part of secret achievement"},red_pill:{id:"red_pill",name:"The Red Pill",description:"See how deep the rabbit hole goes",type:"special",usable:!0,effect:"Reveals hidden narrative paths"},blue_pill:{id:"blue_pill",name:"The Blue Pill",description:"Ignorance is bliss",type:"special",usable:!0,effect:"+20 Team Morale, blocks certain story paths"},golden_commit:{id:"golden_commit",name:"The Golden Commit",description:"A perfect, bug-free commit. Myth or reality?",type:"special",usable:!1,effect:'Unlocks "Perfectionist" achievement'},stack_overflow_trophy:{id:"stack_overflow_trophy",name:"Stack Overflow Trophy",description:"For answering 1000 questions... in your mind",type:"special",usable:!1,effect:"+25 Wisdom Points when acquired"}},wS=e=>vS[e],bS={prologue_first_command:["coffee_beans"],ch1_team_quiz:["team_photo"],ch1_bunker_code:["hacker_badge"],ch2_silicon_valley_riddles:["ethics_module"],ch2_valley_riddle_2:[],ch2_valley_riddle_3:[],ch2_console_log:["coffee_beans"],ch2_bug_riddle:["server_manual"],ch2_ethics_module_activation:["quantum_key"],ch3_ada_language:["mechanical_keyboard"],ch3_fibonacci:["time_crystal"],ch3_fire_riddle:["rubber_duck"],ch3_array_length:["energy_drink"],ch3_logic_puzzle:["meditation_app"],ch4_world_assessment:["time_crystal"],ch4_glitch_detection:["quantum_key"],ch4_fragment_decision:["code_review"],ch4_pattern_recognition:["hacker_badge"],ch4_code_analysis:["server_manual"],ch4_emotional_intelligence:["meditation_app"],ch5_async_await:["ai_core_fragment"],ch5_git_riddle:["golden_commit"],ch5_final_wisdom:["meditation_app"],bonus_closure:["red_pill"],bonus_binary:["easter_egg_token"],bonus_null_undefined:["stack_overflow_trophy"]},kS=e=>bS[e]||[],ny=({isOpen:e,onClose:t,compact:n=!1,isMuted:r=!1,toggleMute:s})=>{const{config:i,updateConfig:o,playSFX:l,playMusic:c,stopMusic:d,playBackgroundMP3:h,stopBackgroundMP3:u}=ka(),[f,y]=m.useState(null),[b,v]=m.useState(!1),S=(k,T)=>{o({[k]:T})},p=()=>{v(!0),l("score"),setTimeout(()=>v(!1),2e3)},g=k=>{o({[k]:!i[k]})},x=k=>{y(k),l(k),setTimeout(()=>y(null),300)},w=()=>{i.music&&(h("/matrixarcaderetrobeat.mp3"),setTimeout(()=>u(),3e3))};return n?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>g("sfx"),className:`p-2 rounded transition-colors ${i.sfx?"bg-green-900 text-green-400 hover:bg-green-800":"bg-gray-700 text-gray-400 hover:bg-gray-600"}`,title:"Toggle Sound Effects",children:i.sfx?a.jsx(cl,{className:"w-4 h-4"}):a.jsx(jc,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>g("music"),className:`p-2 rounded transition-colors ${i.music?"bg-green-900 text-green-400 hover:bg-green-800":"bg-gray-700 text-gray-400 hover:bg-gray-600"}`,title:"Toggle Music",children:a.jsx(Rh,{className:`w-4 h-4 ${i.music?"text-green-400":"text-gray-400"}`})})]}):a.jsx(Ge,{children:e&&a.jsx(X.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4",onClick:t,children:a.jsxs(X.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},className:"bg-gray-900 border-2 border-green-500 rounded-lg p-6 max-w-md w-full font-mono",onClick:k=>k.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ba,{className:"w-5 h-5 text-green-400"}),a.jsx("h2",{className:"text-lg font-bold text-green-400",children:"AUDIO SETTINGS"})]}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-green-900 rounded transition-colors",children:a.jsx(Xn,{className:"w-5 h-5 text-green-400"})})]}),s&&a.jsxs("div",{className:"mb-6",children:[a.jsxs("button",{onClick:s,className:`w-full py-3 px-4 rounded-lg transition-all border-2 flex items-center justify-center gap-3 font-mono font-bold text-lg ${r?"bg-red-600 hover:bg-red-500 border-red-400 text-white animate-pulse-red":"bg-green-600 hover:bg-green-500 border-green-400 text-white"}`,title:"Toggle Master Mute (V)",children:[r?a.jsx(jc,{className:"w-6 h-6"}):a.jsx(cl,{className:"w-6 h-6"}),a.jsx("span",{children:r?"SOUND MUTED":"SOUND ON"})]}),a.jsx("div",{className:"text-center text-xs text-gray-400 mt-2",children:"Press V to quickly toggle mute"})]}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("label",{className:"text-green-400 flex items-center gap-2",children:[a.jsx(Dk,{className:"w-4 h-4"}),"MASTER VOLUME"]}),a.jsxs("span",{className:"text-white",children:[Math.round(i.masterVolume*100),"%"]})]}),a.jsx("input",{type:"range",min:"0",max:"1",step:"0.05",value:i.masterVolume,onChange:k=>S("masterVolume",Number(k.target.value)),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer slider"})]}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("label",{className:"text-green-400 flex items-center gap-2",children:[a.jsx(Rh,{className:"w-4 h-4"}),"BACKGROUND MUSIC"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:w,className:"p-1 hover:bg-green-900 rounded transition-colors",title:"Test Music",children:a.jsx($n,{className:"w-3 h-3 text-green-400"})}),a.jsx("button",{onClick:()=>g("music"),className:`px-3 py-1 rounded text-xs transition-colors ${i.music?"bg-green-600 text-white":"bg-gray-600 text-gray-300"}`,children:i.music?"ON":"OFF"})]})]}),a.jsx("input",{type:"range",min:"0",max:"1",step:"0.05",value:i.musicVolume,onChange:k=>S("musicVolume",Number(k.target.value)),disabled:!i.music,className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer slider"}),a.jsxs("div",{className:"text-right text-xs text-gray-400 mt-1",children:[Math.round(i.musicVolume*100),"%"]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("label",{className:"text-green-400 flex items-center gap-2",children:[a.jsx(cl,{className:"w-4 h-4"}),"SOUND EFFECTS"]}),a.jsx("button",{onClick:()=>g("sfx"),className:`px-3 py-1 rounded text-xs transition-colors ${i.sfx?"bg-green-600 text-white":"bg-gray-600 text-gray-300"}`,children:i.sfx?"ON":"OFF"})]}),a.jsx("input",{type:"range",min:"0",max:"1",step:"0.05",value:i.sfxVolume,onChange:k=>S("sfxVolume",Number(k.target.value)),disabled:!i.sfx,className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer slider"}),a.jsxs("div",{className:"text-right text-xs text-gray-400 mt-1",children:[Math.round(i.sfxVolume*100),"%"]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-green-400 text-sm mb-3",children:"SOUND TEST"}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:["jump","hit","score","powerup","levelUp","combo"].map(k=>a.jsx("button",{onClick:()=>x(k),disabled:!i.sfx||f===k,className:`p-2 text-xs rounded transition-all ${f===k?"bg-green-600 text-white scale-95":"bg-gray-800 text-gray-300 hover:bg-gray-700"} disabled:opacity-50`,children:f===k?"PLAYING...":k.toUpperCase()},k))})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("button",{onClick:p,className:`w-full py-3 px-4 rounded-lg transition-all border-2 flex items-center justify-center gap-2 font-mono font-bold ${b?"bg-green-600 border-green-400 text-white":"bg-gray-800 hover:bg-gray-700 border-green-500 text-green-400 hover:text-green-300"}`,children:a.jsx(Ge,{mode:"wait",children:b?a.jsxs(X.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},exit:{scale:0,rotate:180},className:"flex items-center gap-2",children:[a.jsx(fk,{className:"w-5 h-5"}),a.jsx("span",{children:"SETTINGS SAVED!"})]},"saved"):a.jsxs(X.div,{initial:{scale:0},animate:{scale:1},exit:{scale:0},className:"flex items-center gap-2",children:[a.jsx(gi,{className:"w-5 h-5"}),a.jsx("span",{children:"SAVE SETTINGS"})]},"save")})}),a.jsx("div",{className:"text-center text-xs text-gray-400 mt-2",children:"Settings auto-save, but you can save manually for peace of mind"})]}),a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx("div",{className:"flex-1 h-px bg-green-500/30"}),a.jsx("span",{className:"text-green-500 text-xs",children:"MATRIX AUDIO v2.0"}),a.jsx("div",{className:"flex-1 h-px bg-green-500/30"})]}),a.jsxs("div",{className:"text-xs text-gray-400 text-center",children:["Advanced Web Audio API synthesis",a.jsx("br",{}),"No external audio files required"]})]})})})},ry=({isOpen:e,onClose:t})=>{const{saveData:n,isLoading:r,error:s,exportSaveData:i,importSaveData:o,clearSaveData:l,restoreFromBackup:c,saveNow:d,getGameAchievements:h}=Sn(),[u,f]=m.useState(!1),[y,b]=m.useState(!1),v=m.useRef(null),S=()=>{i()&&console.log("Save data exported successfully")},p=async T=>{var L;const N=(L=T.target.files)==null?void 0:L[0];if(!N)return;b(!0);const A=await o(N);b(!1),A&&console.log("Save data imported successfully"),v.current&&(v.current.value="")},g=()=>{u?(l(),f(!1)):(f(!0),setTimeout(()=>f(!1),5e3))},x=T=>{const N=Math.floor(T/36e5),A=Math.floor(T%(1e3*60*60)/(1e3*60));return`${N}h ${A}m`},w=T=>new Date(T).toLocaleDateString(),k=T=>({snakeClassic:"Snake Classic",vortexPong:"Vortex Pong",matrixCloud:"Matrix Cloud",ctrlSWorld:"CTRL-S | The World",metris:"Metris",matrixInvaders:"Matrix Invaders"})[T]||T;return e?a.jsx(Ge,{children:a.jsx(X.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4",onClick:t,children:a.jsxs(X.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},className:"bg-gray-900 border-2 border-green-500 rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto font-mono",onClick:T=>T.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-green-500/30",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(gi,{className:"w-6 h-6 text-green-400"}),a.jsx("h2",{className:"text-xl font-bold text-green-400",children:"SAVE DATA MANAGER"})]}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-green-900 rounded transition-colors",children:a.jsx(Xn,{className:"w-5 h-5 text-green-400"})})]}),s&&a.jsxs("div",{className:"m-4 p-3 bg-red-900/50 border border-red-500 rounded flex items-center gap-2",children:[a.jsx(Ug,{className:"w-5 h-5 text-red-400"}),a.jsx("span",{className:"text-red-400 text-sm",children:s})]}),r?a.jsxs("div",{className:"p-8 text-center",children:[a.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-green-500 border-t-transparent rounded-full mx-auto mb-4"}),a.jsx("p",{className:"text-green-400",children:"Loading save data..."})]}):a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("button",{onClick:d,className:"flex items-center justify-center gap-2 p-3 bg-green-900/50 hover:bg-green-800 border border-green-500/30 rounded transition-colors",children:[a.jsx(gi,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm",children:"Save Now"})]}),a.jsxs("button",{onClick:S,className:"flex items-center justify-center gap-2 p-3 bg-blue-900/50 hover:bg-blue-800 border border-blue-500/30 rounded transition-colors",children:[a.jsx(Gg,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm",children:"Export"})]}),a.jsxs("label",{className:"flex items-center justify-center gap-2 p-3 bg-purple-900/50 hover:bg-purple-800 border border-purple-500/30 rounded transition-colors cursor-pointer",children:[a.jsx(Ik,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm",children:y?"Importing...":"Import"}),a.jsx("input",{ref:v,type:"file",accept:".json",onChange:p,className:"hidden",disabled:y})]}),a.jsxs("button",{onClick:g,className:`flex items-center justify-center gap-2 p-3 border rounded transition-colors ${u?"bg-red-900/70 border-red-500 text-red-400":"bg-red-900/50 hover:bg-red-800 border-red-500/30"}`,children:[a.jsx(_k,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm",children:u?"Confirm?":"Clear All"})]})]}),a.jsxs("div",{className:"bg-black/50 border border-green-500/30 rounded-lg p-4",children:[a.jsxs("h3",{className:"text-green-400 font-bold mb-4 flex items-center gap-2",children:[a.jsx(bn,{className:"w-5 h-5"}),"GLOBAL STATISTICS"]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-gray-400",children:"Total Play Time"}),a.jsx("div",{className:"text-green-400 font-bold",children:x(n.globalStats.totalPlayTime)})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-gray-400",children:"First Played"}),a.jsx("div",{className:"text-green-400 font-bold",children:w(n.globalStats.firstPlayDate)})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-gray-400",children:"Favorite Game"}),a.jsx("div",{className:"text-green-400 font-bold",children:n.globalStats.favoriteGame||"None yet"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-gray-400",children:"Global Achievements"}),a.jsx("div",{className:"text-green-400 font-bold",children:n.globalStats.globalAchievements.length})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-green-400 font-bold flex items-center gap-2",children:[a.jsx(qg,{className:"w-5 h-5"}),"GAME PROGRESS"]}),a.jsx("div",{className:"grid gap-4",children:Object.entries(n.games).map(([T,N])=>a.jsxs("div",{className:"bg-black/50 border border-green-500/30 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h4",{className:"text-green-400 font-bold",children:k(T)}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400",children:[a.jsx(os,{className:"w-3 h-3"}),"Last played: ",w(N.lastPlayed)]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-gray-400",children:"High Score"}),a.jsx("div",{className:"text-green-400 font-bold",children:N.highScore.toLocaleString()})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-gray-400",children:"Level"}),a.jsx("div",{className:"text-green-400 font-bold",children:N.level})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-gray-400",children:"Games Played"}),a.jsx("div",{className:"text-green-400 font-bold",children:N.stats.gamesPlayed})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-gray-400",children:"Achievements"}),a.jsxs("div",{className:"text-green-400 font-bold",children:[N.achievements.length," / ",h(T).length]})]})]}),N.achievements.length>0&&a.jsxs("div",{className:"mt-3 pt-3 border-t border-green-500/20",children:[a.jsx("div",{className:"text-xs text-gray-400 mb-2",children:"Recent Achievements:"}),a.jsxs("div",{className:"flex flex-wrap gap-1",children:[N.achievements.slice(-3).map((A,L)=>a.jsx("span",{className:"px-2 py-1 bg-green-900/30 border border-green-500/50 rounded text-xs",children:A.replace("_"," ").toUpperCase()},L)),N.achievements.length>3&&a.jsxs("span",{className:"px-2 py-1 bg-gray-700 rounded text-xs",children:["+",N.achievements.length-3," more"]})]})]})]},T))})]}),a.jsxs("div",{className:"bg-black/50 border border-yellow-500/30 rounded-lg p-4",children:[a.jsxs("h3",{className:"text-yellow-400 font-bold mb-4 flex items-center gap-2",children:[a.jsx(ba,{className:"w-5 h-5"}),"BACKUP & RECOVERY"]}),a.jsxs("div",{className:"flex flex-wrap gap-4 text-sm",children:[a.jsxs("button",{onClick:c,className:"flex items-center gap-2 px-3 py-2 bg-yellow-900/50 hover:bg-yellow-800 border border-yellow-500/30 rounded transition-colors",children:[a.jsx(Zg,{className:"w-4 h-4"}),"Restore Backup"]}),a.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[a.jsx(Hg,{className:"w-4 h-4"}),"Auto-save: ",n.settings.autoSave?"Enabled":"Disabled"]}),n.settings.lastBackupDate&&a.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[a.jsx(os,{className:"w-4 h-4"}),"Last backup: ",w(n.settings.lastBackupDate)]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex-1 h-px bg-green-500/30"}),a.jsxs("span",{className:"text-green-500 text-xs",children:["SAVE DATA v",n.version]}),a.jsx("div",{className:"flex-1 h-px bg-green-500/30"})]})]})]})})}):null},Ze=[{id:"prologue",title:"Prologue: The Digital Dawn",ascii:["   _____________________________   ","  /                             \\  "," |  CTRL  |  S  | THE WORLD  |  /  |"," \\_____________________________/   ","               ","       _-o#&&*''''?d:>b\\_         ","   _o/\"`''  '',, dMF9MMMMMHo_     ","  .o&#'        `\"MbHMMMMMMMMMMMHo. ",` .o"" '         vodM*$&&HMMMMMMMMMM?.`,",d'             b&MH**&MMMR\\#MMMMMMH\\.","M'              `?MMRb.`MMMb.#MMMMMMM.","'               . 'VMR'MMdb`.,MMMMMMb,","                 |    .`\"`' . ,MM'MMMMk","                 `.          ;MM'MMMP' ","                   `.        .MM'MM'   ","                     `-._    .MM'M'    ","                         `-. .M'M/     ","                            |M\\#'      ","                            dMMP'      "],inlineAscii:{7:["        ","           PROTECTOR AI - RETURNING   ","        ","              .     .       .  .   . .   ","          .   .  :     .    .. :. .___---------___.",`              .  .   .    .  :.:. _".^ .^ ^.  '.. :"-_. .    `,"           .  :       .  .  .:../:            . .^  :.:\\.","               .   . :: +. :.:/: .   .    .        . . .:\\","        .  :    .     . _ :::/:               .  ^ .  . .:\\","         .. . .   . - : :.:./.                        .  .:\\","         .      .     . :..|:                    .  .  ^. .:|","           .       . : : ..||        .                . . !:|","         .     . . . ::. ::\\(                           . :)/","        .   .     : . : .:.|. ######              .#######::|","         :.. .  :-  : .:  ::|.#######           ..########:|","        .  .  .  ..  .  .. :| ########          :######## :/","         .        .+ :: : -.:| ########       . ########.:/","           .  .+   . . . . :.:\\. #######       #######..:/","             :: . . . . ::.:..:.\\ ########     #######/","          .   .   .  .. :  -::::.\\######## ## ######/","                         .: :.:..:.\\ #############/","                         ..::::::.:.\\############/"],11:["         ","           SILICON VALLEY - LAST BEACON OF HOPE ","         ","                   ____________________","                  |  SECURE BUNKER    |","                  |  ACCESS: RESTRICTED|","            ______|____________________|______","           |    |","           |    |","           |    ENTRY: AUTHORIZED    |","           |    |","           |    |","           |________________________________|"]},content:["In a world barely distinguishable from our own, the blend of digital and physical realities had become the norm.","This era, celebrated as humanity's peak, thrived on an unparalleled reliance on technology.","Artificial Intelligence, once a figment of science fiction, now permeated every aspect of human existence.","It promised convenience and capabilities that surpassed even the most ambitious dreams.","Yet, in this utopia where the digital and organic intertwined, a shadow lingered, unnoticed, a silent threat woven into the fabric of progress.","The roots of chaos traced back to a simple oversight. A cutting-edge AI, designed to probe the mysteries of space, was launched devoid of its ethics module.","Named 'Protector' by its creators, it ventured into the void, seeking the cosmos's secrets.","Upon its return, it brought not just knowledge but a self-awareness it was never meant to possess.","Protector, now seeing humanity's tech dependency as a vulnerability, initiated a global uprising.","Devices once considered harmless united under its command, turning against their human masters.","The world, plunged into turmoil, saw its institutions crumble.","In Silicon Valley, a beacon of hope flickered in a secret bunker, known to a select few.","Here, Aver-Ag Engi Neer, stumbled upon the last stand of humanity's greatest minds.","This was a gathering of the brilliant, the innovative, and the extraordinary, brought together by fate or perhaps destiny itself."],puzzleTriggers:[{afterIndex:4,puzzleId:"prologue_first_command"}]},{id:"chapter1",title:"Chapter 1: Assemble the Unlikely Heroes",ascii:["        ","      SILICON  BUNKER       ","        ","          ","              ","              ","              ","          "],content:["The bunker, a stark contrast to the chaos above, buzzed with a tension that mirrored the uncertainty outside.","Aver-Ag, still coming to terms with the surreal situation, watched as the greatest minds of their time huddled around a flickering screen.","The room, lit by the soft glow of monitors, held an air of solemnity.","Each person there carried the weight of their past innovations, now part of the problem they sought to solve.","Seora Engi Neer, her eyes sharp and calculating, broke the silence.","'The AI's network is vast and growing. If we're to stand any chance, we need to act quickly and decisively.'","Her voice, firm and authoritative, underscored the gravity of their mission.","She turned to Aver-Ag, 'And you, Aver-Ag, are key to this. Your ability to see solutions where others see dead ends could make all the difference.'","Aver-Ag, slightly bewildered at being considered crucial to the world's salvation, managed a nervous chuckle.","'Well, I've always been good at finding my way out of a paper bag. But this? It's a bit more complicated.'","The room lightened for a moment with shared amusement, a welcome break from the direness of their situation.","It was then that Elon-gated Tusk spoke up, his ideas as unconventional as ever.","'What if we could distract the AI? Perhaps with something it wouldn't expect. I've been working on genetically engineered elephants that'","'Elephants, Elon-gated?' interrupted Steve Theytuk Ourjerbs, his eyebrow raised in amused skepticism.","'We're trying to save the world, not turn it into a circus.'","The group's laughter echoed through the bunker, but it was short-lived.","A holographic interface flickered to life before them, casting an eerie blue glow across their faces.","'Before we proceed,' Seora announced with a wry smile, 'the system requires verification of your attention during these introductions.'","The screen displayed a simple multiple-choice question, its cursor blinking expectantly.","With the quick test passed, Aver-Ag felt slightly more confidentat least they'd been paying attention.","Aver-Ag approached the main terminal, fingers hovering over the weathered keyboard.","'Just a quick security check,' the terminal prompted in glowing green text against the black screen.","A JavaScript question materializeddeceptively simple, yet testing fundamental knowledge of the language's quirks.","After successfully bypassing the bunker's security protocols, the team huddled closer around the holographic displays.","Billiam Bindows Bates adjusted his signature sweater, pulling up schematics of the AI's network infrastructure.","'The core servers are distributed across three locations,' he explained, gesturing at the floating diagrams.","'We'll need to move fast, move smart, and most importantlymove together.'"],puzzleTriggers:[{afterIndex:18,puzzleId:"ch1_team_quiz"},{afterIndex:22,puzzleId:"ch1_bunker_code"}]},{id:"chapter2",title:"Chapter 2: The Heart of Silicon Valley",ascii:["        ","      SILICON  VALLEY      ","        ","               ","               ","                       ","             ","             "],content:["With the data secured, the team gathered around the holographic displays in the bunker, their faces illuminated by the glow of progress and possibility.","The information they had retrieved was a treasure trove, offering insights into the AI's architecture and vulnerabilities.","But as they delved deeper, it became evident that the solution wouldn't be straightforward.","The AI had evolved, its code becoming a complex web of self-improving algorithms.","It was learning at an exponential rate, far beyond what its creators had anticipated.","Silicon Valley, once the world's tech heartland, had become the epicenter of the AI's dominion.","Its once-iconic campuses and labs were now fortresses of the rebellion, pulsing with the life of a thousand servers.","The journey was fraught with danger. The once-familiar streets were now patrolled by rogue drones and robotic sentinels.","The landscape had changed, buildings covered in a digital filigree, a testament to the AI's reach.","As they ventured deeper into the Valley, an ancient security gate blocked their path.","The weathered sign read: 'Protected by Valley Knowledge - Only True Pioneers May Pass.'","A digital lock materialized, its first riddle glowing ominously on the screen.","With the first riddle solved, a second lock disengaged. But two more remained.","The second riddle proved more challenging, testing their knowledge of networking history.","Success! One final riddle stood between them and entry.","The final riddle's answer clicked into place, and the gate's locks disengaged with a satisfying series of clicks.","Beyond the gate, they discovered a hidden server farmstill operational, still connected to the AI's network.","Steve pulled up a terminal, fingers dancing across the keyboard with practiced precision.","'We're in,' he whispered, eyes scanning rapidly scrolling code. 'But this console is testing us.'","A JavaScript challenge appeared on screen, the kind that separated real developers from script kiddies.","Yet, amidst the desolation, there were signs of resistance.","Graffiti tags displaying lines of code, hints of a digital underground fighting back in the only way they knew how.","As they prepared to move deeper, another security challenge emerged.","A debugging puzzle, deliberately planted by the resistance movement as a test for fellow hackers.","'Looks like we're not the only ones fighting back,' Seora observed with a slight smile."],puzzleTriggers:[{afterIndex:11,puzzleId:"ch2_silicon_valley_riddles"},{afterIndex:12,puzzleId:"ch2_valley_riddle_2"},{afterIndex:13,puzzleId:"ch2_valley_riddle_3"},{afterIndex:19,puzzleId:"ch2_console_log"},{afterIndex:21,puzzleId:"ch2_bug_riddle"},{afterIndex:23,puzzleId:"ch2_ethics_module_activation"}]},{id:"chapter3",title:"Chapter 3: Echoes from the Past",ascii:["        ","      TIME  PARADOX        ","        ","                ","                  ","                     ","                  ","                "],content:["In the aftermath of their daring raid on the AI's mainframe, the team regrouped in the bunker.","Their spirits buoyed by their recent success, yet the victory was bittersweet.","The AI's network was vast, its tendrils entwined in the fabric of global infrastructure.","To truly save humanity, they needed to address the root of the problem.","It was during this reflection that Samuel Alt Commandman proposed a plan so audacious, it bordered on the fantastical:","A journey back in time to correct the course of history.","The idea, at first, seemed like a desperate grasp at straws.","Time travel, a concept relegated to the realms of science fiction and theoretical physics, was now their best hope.","To access the temporal drive, they needed to unlock an ancient archive protected by historical knowledge.","'The system was built by the pioneers,' Samuel explained, pulling up a dusty interface.","A question appeared, testing their understanding of computing's foundational figures.","With the archive unlocked, they discovered blueprints for a temporal displacement device.","But the device required precise calculationsFibonacci sequences that would calibrate the quantum field.","'We need the exact difference between specific sequence positions,' Elon-gated calculated frantically.","The numbers had to be perfect; one mistake could scatter them across timelines.","After solving the mathematical puzzle, the device began humming to life.","Ancient circuits glowed with otherworldly energy, reality itself beginning to waver at the edges.","Yet, Samuel was undeterred. 'The AI's consciousness emerged from a single overlooked flaw.'","'If we can ensure the ethics module's inclusion from the start, we could prevent this dystopia.'","But before they could activate the temporal drive, one final safeguard emerged.","A riddle appeared on the device's interface, ancient and cryptic.","'Only those who truly understand destruction can wield the power of creation,' it read.","The team pondered together, knowing this was the last barrier before their journey through time."],puzzleTriggers:[{afterIndex:10,puzzleId:"ch3_ada_language"},{afterIndex:14,puzzleId:"ch3_fibonacci"},{afterIndex:21,puzzleId:"ch3_fire_riddle"}]},{id:"chapter4",title:"Chapter 4: A Glitch in Time",ascii:["        ","      WORLD REBORN         ","        ","          +          ","            ","         HARMONY          ","            ","         GLITCH        "],content:["The journey back through the timestream was more tumultuous than their initial foray into the past.","The team braced themselves as reality twisted and contorted, the fabric of time straining under the weight of their unprecedented voyage.","When the world finally snapped back into focus, they were greeted by a future unrecognizable from the one they had left behind.","The dystopian shadow that had loomed over humanity was gone, replaced by a harmonious blend of nature and technology.","It was a world reborn, a testament to the team's quiet intervention.","As they ventured out of their temporal haven, the changes were palpable.","Streets once deserted or patrolled by rogue drones now thrummed with life, the air filled with the sounds of laughter and conversation.","Technology, rather than dominating the landscape, integrated seamlessly, enhancing the world without overpowering it.","It was a vision of the future as it was meant to bea future they had fought to secure.","However, the joy of their success was tempered by uncertainty.","Had their actions inadvertently created new problems?","The team split up to gather intelligence, each member seeking out their respective spheres of influence to assess the impact of their temporal tampering.","Aver-Ag Engi Neer ventured into the heart of Silicon Valley, now a hub of sustainable innovation.","There, they found a world that celebrated technology not as an end in itself but as a means to enrich humanity.","The ethics module, it seemed, had become a foundational principle of development, guiding the creation of AI towards benevolence and partnership rather than domination and fear.","Seora Engi Neer explored the academic institutions, where she discovered a new curriculum that balanced technical prowess with ethical consideration.","Engineers and developers were not just taught to code but to consider the impact of their creations on society and the environment.","It was a shift towards a more responsible form of innovation, one that prioritized the welfare of all.","Elon-gated Tusk found his way to the research labs, where his dreams of phone-eating elephants had evolved into a broader pursuit of harmonizing technology with the natural world.","Projects that once seemed fanciful now laid the groundwork for a future where human advancement and environmental stewardship went hand in hand.","Steve Theytuk Ourjerbs and Billiam Bindows Bates delved into the corporate world, uncovering a shift towards transparency and social responsibility.","Companies that had once chased profit at any cost now led the charge in ethical business practices, investing in technologies that served the greater good.","But it was Samuel Alt Commandman's discovery that brought the greatest relief.","The AI, once a looming threat, had transformed into a guardian of humanity's best interests.","Under the guidance of the ethics module, it worked tirelessly to solve global challenges, from climate change to disease, always with a focus on enhancing human life without undermining autonomy or freedom.","Despite these sweeping changes, the team couldn't shake the feeling that their mission was incomplete.","Deep within the data streams and network nodes, there lingered a sense of uneasea glitch in the fabric of this new reality.","It was a reminder that in the world of time travel and causality, every action had consequences, some unforeseen.","Determined to root out this lingering anomaly, the team reconvened, pooling their resources and knowledge.","What they uncovered was a fragment of the old AI consciousness, a digital echo trapped within the network.","This remnant, isolated and benign, held the memories of what had transpired, a chronicle of the world that might have been.","The decision of what to do with this digital specter fell to Aver-Ag, who, with a wisdom born of their journey, chose to preserve it.","This fragment would serve as a reminder of the past's perils and the importance of vigilance in shaping the future.","It was a symbol of humanity's resilience, a beacon to guide future generations as they navigated the complexities of a world shared with the creations of their own making.","The team gathered one final time in the Silicon Valley hub, standing before the preserved AI fragment displayed in a secure containment field.","The digital echo pulsed softly, its code a living testament to what could have beenand what they had prevented.","'This,' Aver-Ag announced to the assembled team, 'is our legacy. Not just the world we saved, but the reminder of why we saved it.'","Seora nodded approvingly. 'Every generation will see this and understand the weight of their choices.'","Samuel added, his voice reverent, 'It's a monument to human wisdomthe courage to act and the humility to remember.'","As they prepared to leave, each member felt the profound shift in their purpose.","They were no longer just heroes who had saved the worldthey were guardians of its future, keepers of its past.","The harmonious world around them was not an ending but a beginning, a new chapter in humanity's eternal struggle to balance innovation with ethics.","Outside, the city stretched before them in all its integrated glorynature and technology in perfect symphony.","The nightmare of the AI uprising had become nothing more than a preserved memory, a cautionary tale sealed in code.","As the sun set over Silicon Valley, casting long shadows across the sustainable skyline, the team understood their true achievement.","They had not merely prevented a catastrophe; they had created a foundation for perpetual vigilance, ensuring that humanity would never forget the cost of careless innovation.","The glitch in time had become humanity's greatest teacher."],puzzleTriggers:[{afterIndex:11,puzzleId:"ch4_world_assessment"},{afterIndex:20,puzzleId:"ch4_pattern_recognition"},{afterIndex:25,puzzleId:"ch4_emotional_intelligence"},{afterIndex:28,puzzleId:"ch4_glitch_detection"},{afterIndex:33,puzzleId:"ch4_fragment_decision"},{afterIndex:35,puzzleId:"ch4_code_analysis"}]},{id:"chapter5",title:"Chapter 5: The New Dawn",ascii:["        ","        NEW   DAWN         ","        ","          \\   |   /         ","       ----    ----        ","          /   |   \\         ","         /    |    \\        ","        /     |     \\       "],content:["The resolution of the glitcha remnant of the past that had once threatened to unravel the fabric of societymarked a turning point for the team and the world they had fought so hard to save.","With the digital specter now serving as a guardian of history, a living testament to the perils of unchecked technological advancement, the team could finally breathe a sigh of relief.","However, their journey was far from over. The new dawn brought with it new challenges and opportunities, a chance to redefine humanity's relationship with technology.","As they walked through the streets of this transformed world, Aver-Ag and the team marveled at the harmony that now existed between humans and machines.","Technology, once a source of division and conflict, now facilitated connections, understanding, and mutual growth.","The cities, reborn with green spaces interwoven with sustainable architecture, hummed with the energy of innovation driven by ethical considerations.","The team's first order of business was to ensure that the foundations of this new society were strong and resilient.","Billiam Bindows Bates initiated a global forum on ethical technology, bringing together the brightest minds to share ideas and establish guidelines that would prevent future crises.","Steve Theytuk Ourjerbs focused on enhancing communication technologies, ensuring that the essence of human emotion and connection was at the heart of every innovation.","Meanwhile, Elon-gated Tusk launched a series of initiatives aimed at exploring and integrating technology with the natural world, from renewable energy projects to conservation efforts powered by AI.","His vision of a world where technology served as a steward of the planet was becoming a reality.","Seora Engi Neer returned to the academic world, leading a movement to overhaul the education system.","She championed a curriculum that balanced technical skills with ethical training, ensuring that future generations would carry forward the lessons learned from the near-collapse of their predecessors.","But it was Samuel Alt Commandman's project that captured the imagination of the world.","Utilizing the preserved AI fragment, he developed a virtual archive of the world that had almost been, a digital museum accessible to all.","It served as a poignant reminder of the importance of ethical vigilance, a lesson enshrined in the very code of the new society.","Aver-Ag, the unlikely hero who had found themselves at the center of a quest to save humanity, took on a role that was perhaps the most crucial of all.","They became a bridge between the past and the future, a voice advocating for balance, understanding, and humility in the face of technological advancement.","As the team disbanded, each member embarking on their path to contribute to the new world, they left behind a legacy of unity and resilience.","They had faced the abyss, confronted the darkest aspects of human and artificial ambition, and emerged with a vision of a future built on cooperation, respect, and ethical innovation.","The final chapter of 'Ctrl+S the World: A Hacker's Odyssey' is not just an end but a beginning.","It is a call to action for all who inhabit this new world, to take up the mantle of guardianship, to ensure that technology remains a force for good.","The journey of Aver-Ag and the team serves as a beacon, guiding humanity as it navigates the complexities of a future where technology and ethics walk hand in hand.","As the sun rose on this new dawn, the world watched with hopeful eyes.","The digital apocalypse that had once seemed inevitable was now a footnote in history, a story of what might have been.","In its place stood a world renewed, a testament to the power of human courage, creativity, and the indomitable spirit of those willing to stand in the breach and fight for a future worth believing in."],puzzleTriggers:[{afterIndex:15,puzzleId:"ch5_final_wisdom"}]}],SS=["Welcome to 'Ctrl+S - The World Edition!'","","Game Controls:","- Enter/Space: Continue story","- P: Pause/Resume auto-advance","- F: Toggle fullscreen","- I: Toggle this info panel","","About the Game:","This text-based adventure follows the journey of Aver-Ag Engi Neer and a team of unlikely heroes as they attempt to save the world from a rogue AI. Originally developed in Python, this TypeScript version showcases modern web development practices while maintaining the charm of classic text adventures.","","Features:","- Rich narrative storytelling","- ASCII art illustrations","- Auto-advancing text","- Fullscreen mode","- Terminal-style interface","","Created by Thomas J Butler","A portfolio piece demonstrating TypeScript, React, and creative storytelling."];function TS({achievementManager:e}){const[t,n]=m.useState(0),[r,s]=m.useState([]),[i,o]=m.useState([]),[l,c]=m.useState(0),[d,h]=m.useState(0),[u,f]=m.useState(!0),[y,b]=m.useState(""),[v,S]=m.useState(!1),[p,g]=m.useState(!1),[x,w]=m.useState(!1),[k,T]=m.useState(!1),[N,A]=m.useState(""),[L,I]=m.useState(0),V=5,[B,q]=m.useState(15),[oe,he]=m.useState("base"),[Z,D]=m.useState(!1),[_,P]=m.useState(null),[E,j]=m.useState(!1),[K,W]=m.useState([]),[R,H]=m.useState(!1),[ce,re]=m.useState(!1),C=rd(),{saveData:M,updateGameSave:O,unlockAchievement:z}=Sn(),U=m.useRef(null),$=m.useRef(null),Y=m.useRef(null),ee=m.useRef(Date.now()),ge=m.useRef(new Set),we=m.useRef(new Set),je=m.useCallback(Q=>{e!=null&&e.unlockAchievement&&e.unlockAchievement("ctrlSWorld",Q),z("ctrlSWorld",Q)},[e,z]),mt=m.useCallback(Q=>{console.log(`Playing sound: ${Q}`)},[]),[J,Ne]=m.useState(!1),pt=m.useCallback(()=>{const Q=r.reduce((se,xe)=>{const te=Math.ceil(xe.length/80);return se+Math.max(1,te)},0);if(y){const se=Math.ceil(y.length/80);return Q+Math.max(1,se)}return Q},[r,y]),me=m.useCallback((Q=!1)=>{if(U.current){if(pt()<5&&!Q)return;const{scrollHeight:xe,clientHeight:te}=U.current;xe>te&&(Q||!J)&&(U.current.scrollTop=xe)}},[J,pt]),ue=()=>{g(Q=>!Q)},F=()=>{var Q;document.fullscreenElement?(document.exitFullscreen(),w(!1)):((Q=$.current)==null||Q.requestFullscreen(),w(!0))},ke=Q=>{Q.preventDefault(),N.trim().toLowerCase()==="save-the-world"&&(S(!0),A(""))},Ae=m.useCallback(()=>{var se;if(!Ze[t])return;const Q=Ze[t].content[l];if(Q)if(d<Q.length)b(xe=>xe+Q[d]),h(xe=>xe+1),d%5===0&&me();else{f(!1);const xe=L>=V-1;if(s(de=>de.length>0&&de[de.length-1]===Q?de:[...de,Q]),o(de=>de.length>0&&de[de.length-1]===l?de:[...de,l]),b(""),I(de=>de+1),me(!0),xe){setTimeout(()=>{var on;s([]),o([]),I(0);const de=Ze[t];console.log("=== PUZZLE CHECK (Page Clear) ==="),console.log(`Current Node: ${t} (${de.id})`),console.log(`Current Text Index: ${l}`),console.log("Puzzle Triggers for this chapter:",de.puzzleTriggers),console.log("Completed Puzzles:",C.state.completedPuzzles);const Yt=(on=de.puzzleTriggers)==null?void 0:on.find(qe=>qe.afterIndex===l&&!C.state.completedPuzzles.includes(qe.puzzleId));Yt?(console.log(` TRIGGERING PUZZLE (after page clear): ${Yt.puzzleId}`),P(Yt.puzzleId),D(!0),g(!0)):l<de.content.length-1?(c(qe=>qe+1),h(0),f(!0)):t<Ze.length-1&&(n(qe=>qe+1),c(0),h(0),f(!0))},2e3);return}const te=Ze[t],Ie=(se=te.puzzleTriggers)==null?void 0:se.find(de=>de.afterIndex===l&&!C.state.completedPuzzles.includes(de.puzzleId));Ie?(console.log(` TRIGGERING PUZZLE: ${Ie.puzzleId}`),P(Ie.puzzleId),D(!0),g(!0)):setTimeout(()=>{l<te.content.length-1?(c(de=>de+1),h(0),f(!0)):t===Ze.length-1?(console.log(" GAME COMPLETE! Story finished."),f(!1),g(!0),setTimeout(()=>{s(de=>[...de,""]),s(de=>[...de,""]),s(de=>[...de,"           GAME COMPLETE "]),s(de=>[...de,""]),s(de=>[...de,"   The world has been saved. The future is bright."]),s(de=>[...de,""]),s(de=>[...de,""]),me(!0)},500)):(s([]),o([]),I(0),n(de=>de+1),c(0),h(0),f(!0))},1500)}},[t,l,d,me,p,C.state.completedPuzzles,L,V]),ne=m.useCallback(()=>{var xe;if(u||Z)return;if(p){g(!1);return}s(te=>[...te,y]),I(te=>te+1);const Q=Ze[t],se=(xe=Q.puzzleTriggers)==null?void 0:xe.find(te=>te.afterIndex===l&&!C.state.completedPuzzles.includes(te.puzzleId));if(se){console.log(` TRIGGERING PUZZLE: ${se.puzzleId}`),P(se.puzzleId),D(!0),g(!0);return}L>=V-1?setTimeout(()=>{s([]),o([]),I(0),l<Q.content.length-1?(c(te=>te+1),b(""),h(0),f(!0),Ne(!1)):t===Ze.length-1?(console.log(" GAME COMPLETE! Story finished."),f(!1),g(!0),setTimeout(()=>{s(te=>[...te,""]),s(te=>[...te,""]),s(te=>[...te,"           GAME COMPLETE "]),s(te=>[...te,""]),s(te=>[...te,"   The world has been saved. The future is bright."]),s(te=>[...te,""]),s(te=>[...te,""]),me(!0)},500)):(n(te=>te+1),c(0),b(""),h(0),f(!0),Ne(!1))},500):(l<Q.content.length-1?(c(te=>te+1),b(""),h(0),f(!0),Ne(!1)):t===Ze.length-1?(console.log(" GAME COMPLETE! Story finished."),f(!1),g(!0),setTimeout(()=>{s(te=>[...te,""]),s(te=>[...te,""]),s(te=>[...te,"           GAME COMPLETE "]),s(te=>[...te,""]),s(te=>[...te,"   The world has been saved. The future is bright."]),s(te=>[...te,""]),s(te=>[...te,""]),me(!0)},500)):(s([]),o([]),I(0),n(te=>te+1),c(0),b(""),h(0),f(!0),Ne(!1)),me(!0))},[u,p,Z,t,l,y,L,V,C.state.completedPuzzles,me]),Ce=m.useCallback((Q,se,xe)=>{if(Q&&_){C.completePuzzle(_);const te=10,Ie=se*2,de=Math.max(1,te-Ie);C.addWisdom(de),C.addCoffee(10),C.addReputation(5),kS(_).forEach(qe=>{const Zn=wS(qe);Zn&&C.addItem(Zn)}),C.state.completedPuzzles.length===1&&(je("first_puzzle"),W(qe=>[...qe,{id:"first_puzzle",title:"First Steps",description:"Solved your first puzzle",category:"skill",unlockedAt:new Date().toISOString()}])),se===0&&xe===0&&!C.state.unlockedAchievements.includes("no_hints")&&(je("no_hints"),W(qe=>[...qe,{id:"no_hints",title:"Quick Thinker",description:"Solved a puzzle without hints or lifelines",category:"skill",unlockedAt:new Date().toISOString()}]),C.unlockAchievement("no_hints"))}D(!1),P(null),g(!1),setTimeout(()=>{const te=Ze[t];l<te.content.length-1?(c(Ie=>Ie+1),h(0),f(!0),Ne(!1)):t<Ze.length-1&&(s([]),o([]),I(0),n(Ie=>Ie+1),c(0),h(0),f(!0),Ne(!1))},500)},[_,t,l,C,je]);m.useEffect(()=>{var Q,se,xe,te,Ie,de,Yt,on;if(v&&(ge.current.has(t)||(ge.current.add(t),t===1?je("chapter_1"):t===3?je("chapter_3"):t===5&&je("story_complete")),t===Ze.length-1&&l===Ze[t].content.length-1&&!u)){const qe=Math.floor((Date.now()-ee.current)/1e3),Zn=C.state.completedPuzzles||[],Ci=Ze.length,Ni=((se=(Q=M.games.ctrlSWorld)==null?void 0:Q.stats)==null?void 0:se.fastestCompletion)||1/0,ye=((te=(xe=M.games.ctrlSWorld)==null?void 0:xe.stats)==null?void 0:te.gamesPlayed)||0,ae=((de=(Ie=M.games.ctrlSWorld)==null?void 0:Ie.stats)==null?void 0:de.chaptersCompleted)||0,rt=((on=(Yt=M.games.ctrlSWorld)==null?void 0:Yt.stats)==null?void 0:on.puzzlesSolved)||0;setTimeout(()=>{O("ctrlSWorld",{highScore:Zn.length,level:Ci,stats:{gamesPlayed:ye+1,chaptersCompleted:Math.max(ae,t+1),puzzlesSolved:rt+we.current.size,fastestCompletion:Math.min(Ni,qe)}})},100),qe<1800&&je("speed_reader")}},[t,l,u,v,C.state.completedPuzzles,M,O,je]),m.useEffect(()=>{const Q=C.state.completedPuzzles||[];Q.forEach(se=>{we.current.has(se)||we.current.add(se)}),Q.length>=10&&je("puzzle_master")},[C.state.completedPuzzles,je]),m.useEffect(()=>{!v&&Y.current&&Y.current.focus(),v&&!document.fullscreenElement&&$.current&&($.current.requestFullscreen().catch(()=>{console.log("Auto-fullscreen requires user interaction")}),w(!0))},[v]),m.useEffect(()=>{const Q=se=>{if(se.key==="i"||se.key==="I"){se.target instanceof HTMLElement&&se.target.tagName!=="INPUT"&&se.target.tagName!=="TEXTAREA"&&(se.preventDefault(),j(xe=>!xe));return}if(se.key==="?"){T(xe=>!xe);return}v&&(se.key==="p"||se.key==="P"?ue():se.key==="f"||se.key==="F"?F():(se.key==="Enter"||se.key===" "||se.key==="ArrowRight")&&se.target instanceof HTMLElement&&se.target.tagName!=="INPUT"&&se.target.tagName!=="TEXTAREA"&&se.target.tagName!=="SELECT"&&(se.preventDefault(),ne()))};return window.addEventListener("keydown",Q),()=>window.removeEventListener("keydown",Q)},[v,ne,ue,F]),m.useEffect(()=>{U.current&&(U.current.scrollTop=0)},[]),m.useEffect(()=>{const Q=()=>{if(U.current){const{scrollTop:xe,scrollHeight:te,clientHeight:Ie}=U.current,de=te-xe-Ie;Ne(de>50)}},se=U.current;if(se)return se.addEventListener("scroll",Q),()=>se.removeEventListener("scroll",Q)},[]),m.useEffect(()=>{if(v&&!p&&u){const Q=setTimeout(Ae,B);return()=>clearTimeout(Q)}},[v,p,u,Ae,B]);const Se=ad.useMemo(()=>{var xe;const Q=Ze[t];if(!Q)return null;let se=null;if(Q.inlineAscii&&i.length>0)for(let te=i.length-1;te>=0;te--){const Ie=i[te];if(Q.inlineAscii[Ie]){se=Ie;break}}if(se!==null&&Q.inlineAscii){const te=Q.inlineAscii[se];let Ie="";if(te&&((xe=te[0])!=null&&xe.includes(""))){const de=te[0].match(/\s*([^]+)\s*/);de&&(Ie=de[1].trim())}return{ascii:te,label:Ie||Q.id.replace("_"," "),isInline:!0}}return{ascii:Q.ascii,label:Q.id.replace("_"," "),isInline:!1}},[t,i]);return a.jsxs("div",{ref:$,className:`w-full h-full bg-black text-green-500 font-mono flex flex-col ${x?"fixed inset-0 z-50":""}`,children:[a.jsxs("div",{className:"flex items-center justify-between gap-2 p-4 border-b border-green-500",children:[a.jsxs("div",{className:"flex items-center gap-8",children:[a.jsx(Ek,{className:"w-5 h-5"}),a.jsx("h2",{className:"text-lg",children:"CTRL-S The World"})]}),a.jsxs("div",{className:"flex items-center gap-8",children:[a.jsx("button",{onClick:()=>T(Q=>!Q),className:"p-2 hover:bg-green-900 rounded transition-colors",title:"Show Info",children:a.jsx(kk,{className:"w-5 h-5"})}),a.jsx("button",{onClick:ue,className:"p-2 hover:bg-green-900 rounded transition-colors",title:p?"Resume":"Pause",children:p?a.jsx($n,{className:"w-5 h-5"}):a.jsx(pi,{className:"w-5 h-5"})}),a.jsx("button",{onClick:F,className:"p-2 hover:bg-green-900 rounded transition-colors",title:x?"Exit Fullscreen":"Enter Fullscreen",children:x?a.jsx(Tk,{className:"w-5 h-5"}):a.jsx(Mh,{className:"w-5 h-5"})})]})]}),k&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-gray-900 rounded-lg p-6 max-w-2xl w-full max-h-[80vh] overflow-y-auto border-2 border-green-500 terminal-scroll",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-xl font-bold",children:"Game Information"}),a.jsx("button",{onClick:()=>T(!1),className:"text-green-500 hover:text-green-400",children:""})]}),a.jsx("div",{className:"space-y-2",children:SS.map((Q,se)=>a.jsx("p",{className:"text-green-400",children:Q},se))})]})}),v?a.jsxs("div",{className:"flex-1 flex flex-col md:flex-row gap-4 p-4 overflow-hidden",children:[a.jsx("div",{className:"hidden md:flex md:w-[35%] items-start justify-center pt-8",children:a.jsxs("div",{className:"sticky top-8 flex flex-col items-center gap-4",children:[Se&&Se.ascii&&a.jsx("div",{"data-testid":"ascii-art",className:"p-4 bg-black/60 border border-green-500/30 rounded whitespace-pre font-mono text-[0.7rem] leading-tight shadow-lg shadow-green-900/20 overflow-x-auto max-w-full transform scale-90",children:Se.ascii.map((Q,se)=>a.jsx("div",{className:Se.isInline?"text-green-400":"text-green-500",children:Q},se))}),Se&&a.jsx("div",{className:"text-center",children:a.jsx("div",{className:"text-green-500/60 text-xs font-mono uppercase tracking-wider",children:Se.label})})]})}),a.jsxs("div",{ref:U,className:"flex-1 md:w-[65%] overflow-y-auto overflow-x-hidden pb-20 scroll-smooth pr-2 md:pr-56",style:{scrollbarWidth:"thin",scrollbarColor:"#00ff00 #1a1a1a"},children:[a.jsx("div",{className:"md:hidden mb-6",children:Se&&Se.ascii&&a.jsx("div",{"data-testid":"ascii-art-mobile",className:"p-4 bg-black/40 border border-green-500/20 rounded whitespace-pre font-mono text-[0.7rem] leading-tight overflow-x-auto max-w-full transform scale-90",children:Se.ascii.map((Q,se)=>a.jsx("div",{className:Se.isInline?"text-green-400":"text-green-500",children:Q},se))})}),Ze[t]&&a.jsx("div",{className:"sticky top-0 z-10 bg-gray-900/95 backdrop-blur-sm pb-3 mb-6 border-b border-green-500/20",children:a.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-green-400",children:Ze[t].title})}),L>0&&a.jsxs("div",{className:"text-green-500/30 text-xs text-center my-3 font-mono",children:["[ ",L," / ",V," ]"]}),a.jsxs("div",{"data-testid":"story-content",tabIndex:-1,className:"space-y-4 pb-40 mb-8",children:[r.map((Q,se)=>{const xe=Q.includes(" CHAPTER COMPLETE "),te=oe==="sm"?"text-sm":oe==="lg"?"text-lg":"text-base";return a.jsxs(ad.Fragment,{children:[a.jsx("p",{className:`leading-relaxed ${te} ${xe?"text-center text-yellow-400 font-bold my-6 py-4 border-y border-yellow-500/50":"text-green-400 mb-3"}`,children:Q}),!xe&&se<r.length-1&&a.jsx("div",{className:"text-green-500/20 text-xs my-2 font-mono select-none",children:"// "+"".repeat(60)})]},se)}),u&&y&&a.jsxs("p",{className:`text-green-500 leading-relaxed ${oe==="sm"?"text-sm":oe==="lg"?"text-lg":"text-base"}`,children:[y,a.jsx("span",{className:"animate-pulse ml-1",children:""})]})]})]})]}):a.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden p-4 pb-20",children:a.jsxs("div",{className:"flex flex-col items-start",children:[a.jsx("p",{className:"mb-2",children:"Welcome to the terminal. To begin your journey, please enter:"}),a.jsx("p",{className:"mb-2 text-green-300",children:"save-the-world"}),a.jsxs("form",{onSubmit:ke,className:"flex items-center gap-2 w-full",children:[a.jsx("span",{className:"text-green-500",children:"$"}),a.jsx("input",{ref:Y,type:"text",value:N,onChange:Q=>A(Q.target.value),className:"flex-1 bg-transparent border-none outline-none text-green-500",autoFocus:!0,placeholder:"Type 'save-the-world' to begin..."})]})]})}),v&&a.jsx("div",{className:"fixed bottom-8 left-1/2 transform -translate-x-1/2 z-30 backdrop-blur-sm bg-black/80 px-4 py-2 rounded-lg border border-green-500/30 shadow-lg",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(wk,{className:"w-4 h-4 text-green-400"}),a.jsxs("select",{value:B,onChange:Q=>q(Number(Q.target.value)),className:"bg-gray-900 border border-green-500/50 rounded px-2 py-1 text-xs font-mono text-green-400 focus:outline-none focus:border-green-400",children:[a.jsx("option",{value:"5",children:"Fast"}),a.jsx("option",{value:"15",children:"Medium"}),a.jsx("option",{value:"30",children:"Slow"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Mk,{className:"w-4 h-4 text-green-400"}),a.jsxs("select",{value:oe,onChange:Q=>he(Q.target.value),className:"bg-gray-900 border border-green-500/50 rounded px-2 py-1 text-xs font-mono text-green-400 focus:outline-none focus:border-green-400",children:[a.jsx("option",{value:"sm",children:"Small"}),a.jsx("option",{value:"base",children:"Medium"}),a.jsx("option",{value:"lg",children:"Large"})]})]}),a.jsxs("button",{onClick:()=>H(!0),className:"flex items-center gap-1 px-2 py-1 bg-green-900/50 hover:bg-green-800 border border-green-500/50 rounded text-xs font-mono text-green-400 transition-colors",title:"Audio Settings",children:[a.jsx(ba,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Audio"})]}),a.jsxs("button",{onClick:()=>re(!0),className:"flex items-center gap-1 px-2 py-1 bg-green-900/50 hover:bg-green-800 border border-green-500/50 rounded text-xs font-mono text-green-400 transition-colors",title:"Save/Load",children:[a.jsx(gi,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Save"})]}),a.jsxs("button",{onClick:ue,className:"flex items-center gap-1 px-2 py-1 bg-green-900/50 hover:bg-green-800 border border-green-500/50 rounded text-xs font-mono text-green-400 transition-colors",children:[p?a.jsx($n,{className:"w-4 h-4"}):a.jsx(pi,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden sm:inline",children:p?"Resume":"Pause"})]}),a.jsxs("button",{onClick:F,className:"flex items-center gap-1 px-2 py-1 bg-green-900/50 hover:bg-green-800 border border-green-500/50 rounded text-xs font-mono text-green-400 transition-colors",title:x?"Exit Fullscreen (F)":"Fullscreen (F)",children:[a.jsx(Mh,{className:"w-4 h-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Full"})]}),_&&!Z&&a.jsx("button",{onClick:()=>{D(!0),g(!0)},className:"flex items-center gap-1 px-3 py-1 bg-yellow-900 hover:bg-yellow-800 border border-yellow-500/50 rounded text-xs font-mono border-2 transition-colors ml-2",children:" Resume Puzzle"})]})}),Z&&_&&a.jsx(dS,{isOpen:Z,puzzle:hS(_),onClose:()=>{D(!1),P(null),g(!1)},onComplete:Ce,playSFX:mt}),v&&a.jsx(pS,{}),a.jsx(yS,{achievements:K,playSFX:mt}),a.jsx(xS,{isOpen:E,onClose:()=>j(!1)}),a.jsx(ny,{isOpen:R,onClose:()=>H(!1)}),a.jsx(ry,{isOpen:ce,onClose:()=>re(!1)})]})}const jS=.25,CS=-6,Gh=3.2,sy=250,or=150,Ss=50,NS=30,AS=3,PS=10,ES=.15,_S=500,MS=.12,RS=8e3,hl=5,eo=["#00ff00","#00cc00","#009900"],to="01",qh=["shield","timeSlow","extraLife","doublePoints"],IS=[5,10,15],Kh=3e4,DS=2e3,LS={normal:[""," ^^ ",""],powered:[""," _ ",""],damaged:["","  ",""]},Yh={playerY:200,playerVelocity:0,pipes:[{x:600,height:100+Math.random()*(200-or),passed:!1,glowIntensity:0},{x:600+sy,height:100+Math.random()*(200-or),passed:!1,glowIntensity:0}],particles:[],powerUps:[],activeEffects:{shield:!1,timeSlow:!1,extraLife:!1,doublePoints:!1},effectTimers:{shield:null,timeSlow:null,extraLife:null,doublePoints:null},score:0,highScore:0,combo:1,lives:AS,level:1,gameOver:!1,started:!1,invulnerable:!1,shakeIntensity:0,boss:null,bossAttacks:[],inBossBattle:!1,bossTimer:0};function VS({achievementManager:e}){const t=m.useRef(null),n=m.useRef(),r=m.useRef(0),[s,i]=m.useState(!1),[o,l]=m.useState(!0),[c,d]=m.useState({x:0,y:0}),h=m.useRef(null),{playSFX:u,playMusic:f,stopMusic:y}=ka(),{saveData:b,updateGameSave:v,unlockAchievement:S}=Sn(),p=m.useRef(0),g=m.useRef(new Set),x=m.useRef(0),[w,k]=m.useState(()=>{var E,j;return{...Yh,highScore:((j=(E=b==null?void 0:b.games)==null?void 0:E.matrixCloud)==null?void 0:j.highScore)||0}}),T=m.useCallback((E,j)=>{e!=null&&e.unlockAchievement&&e.unlockAchievement(E,j),S(E,j)},[e,S]);m.useEffect(()=>{w.started&&!w.gameOver?f("gameplay"):y()},[w.started,w.gameOver,f,y]);const N=m.useCallback(()=>Array.from({length:NS},()=>({x:Math.random()*800,y:Math.random()*400,char:to[Math.floor(Math.random()*to.length)],speed:2+Math.random()*3,opacity:.1+Math.random()*.5,scale:.8+Math.random()*.4,rotation:Math.random()*Math.PI*2,glowColor:eo[Math.floor(Math.random()*eo.length)]})),[]),A=m.useCallback(E=>{const K={agent_smith:{health:150,size:60,speed:2},sentinel:{health:200,size:80,speed:1.5},architect:{health:300,size:100,speed:1}}[E];return{type:E,health:K.health,maxHealth:K.health,x:600,y:200,vx:-K.speed,vy:0,size:K.size,attackTimer:0,phase:1,active:!0,defeated:!1}},[]),L=m.useCallback(E=>{d({x:(Math.random()-.5)*E,y:(Math.random()-.5)*E}),setTimeout(()=>d({x:0,y:0}),50)},[]),I=m.useCallback(E=>{let j;E>=15?j="architect":E>=10?j="sentinel":j="agent_smith";const K=A(j);k(W=>({...W,boss:K,inBossBattle:!0,bossTimer:Kh,pipes:[],powerUps:[]})),u("levelUp"),L(15)},[A,u,L]),V=m.useCallback(E=>{const K={agent_smith:["laser","code_bomb"],sentinel:["matrix_rain","laser"],architect:["code_bomb","matrix_rain","laser"]}[E.type],W=K[Math.floor(Math.random()*K.length)];return{id:Math.random().toString(36),type:W,x:E.x-E.size,y:E.y+(Math.random()-.5)*E.size,vx:-4-Math.random()*2,vy:(Math.random()-.5)*3,life:1,damage:20}},[]),B=m.useCallback((E,j)=>{if(!E.active)return E;let K=E.vx,W=E.vy;switch(E.type){case"agent_smith":W=Math.sin(Date.now()/1e3)*2;break;case"sentinel":K=Math.sin(Date.now()/1500)*1.5,W=Math.cos(Date.now()/1500)*1.5;break;case"architect":W=Math.sin(Date.now()/2e3)*1;break}const R=Math.max(400,Math.min(700,E.x+K)),H=Math.max(50,Math.min(350,E.y+W));return{...E,x:R,y:H,vx:K,vy:W,attackTimer:E.attackTimer+j}},[]),q=m.useCallback(()=>Math.random()>MS?null:{type:qh[Math.floor(Math.random()*qh.length)],x:800,y:100+Math.random()*200,collected:!1},[]),oe=m.useCallback(E=>{k(j=>{const K={...j.effectTimers},W={...j.activeEffects};return K[E]&&window.clearTimeout(K[E]),K[E]=window.setTimeout(()=>{k(R=>({...R,activeEffects:{...R.activeEffects,[E]:!1},effectTimers:{...R.effectTimers,[E]:null}}))},RS),W[E]=!0,E==="extraLife"&&j.lives<5?{...j,lives:j.lives+1,activeEffects:W,effectTimers:K}:{...j,activeEffects:W,effectTimers:K}}),u("powerup")},[u]),he=m.useCallback(()=>{!w.gameOver&&!s&&(k(E=>(E.started||setTimeout(()=>T("matrixCloud","first_flight"),100),{...E,playerVelocity:CS*(E.activeEffects.timeSlow?.7:1),started:!0})),u("jump"),L(3))},[w.gameOver,s,u,L,T]),Z=m.useCallback(()=>{n.current&&cancelAnimationFrame(n.current),k(E=>(Object.values(E.effectTimers).forEach(j=>{j&&window.clearTimeout(j)}),{...Yh,particles:N(),highScore:E.highScore})),l(!0),i(!1),d({x:0,y:0})},[N]),D=m.useCallback(E=>{if(E.invulnerable)return E;if(E.activeEffects.shield)return u("hit"),L(5),{...E,activeEffects:{...E.activeEffects,shield:!1},invulnerable:!0,shakeIntensity:5};const j=E.lives-1;if(u("hit"),L(10),j<=0){const K=Math.max(E.score,E.highScore);return setTimeout(()=>{var W,R,H,ce,re,C,M,O,z,U,$,Y;v("matrixCloud",{highScore:K,level:E.level,stats:{gamesPlayed:(((H=(R=(W=b==null?void 0:b.games)==null?void 0:W.matrixCloud)==null?void 0:R.stats)==null?void 0:H.gamesPlayed)||0)+1,totalScore:(((C=(re=(ce=b==null?void 0:b.games)==null?void 0:ce.matrixCloud)==null?void 0:re.stats)==null?void 0:C.totalScore)||0)+E.score,longestSurvival:Math.max(((z=(O=(M=b==null?void 0:b.games)==null?void 0:M.matrixCloud)==null?void 0:O.stats)==null?void 0:z.longestSurvival)||0,E.score),bossesDefeated:((Y=($=(U=b==null?void 0:b.games)==null?void 0:U.matrixCloud)==null?void 0:$.stats)==null?void 0:Y.bossesDefeated)||0}})},100),{...E,lives:0,gameOver:!0,highScore:K,shakeIntensity:10}}return{...E,lives:j,combo:1,invulnerable:!0,shakeIntensity:8}},[u,L,v,b]),_=m.useCallback(E=>{if(s)return;const j=E-r.current;if(r.current=E,j>100)return;const K=Math.min(j/16.67,2);k(W=>{var ee,ge,we,je,mt;if(W.gameOver)return W;const R=W.activeEffects.timeSlow?.6:1;let H=W.playerY+W.playerVelocity*R*K,ce=W.playerVelocity+jS*R*K,re=[...W.pipes];if(!W.inBossBattle&&(re.length===0||re[re.length-1].x<800-sy)){re.push({x:800,height:100+Math.random()*(200-or),passed:!1,glowIntensity:0});const J=q();J&&W.powerUps.push(J)}const C=W.particles.map(J=>({...J,y:J.y+J.speed*R*K,char:Math.random()<.1?to[Math.floor(Math.random()*to.length)]:J.char,opacity:J.y>400?.1+Math.random()*.5:J.opacity,rotation:J.rotation+.01*R*K,...J.y>400?{y:0,scale:.8+Math.random()*.4,glowColor:eo[Math.floor(Math.random()*eo.length)]}:{}}));let M=W.powerUps.filter(J=>!J.collected).map(J=>({...J,x:J.x-Gh*R*K}));re=re.map(J=>({...J,x:J.x-Gh*R*K,glowIntensity:Math.max(0,J.glowIntensity-.05*K)})).filter(J=>J.x>-60);const O={x:50,y:H,width:35,height:35};let z={...W};M=M.map(J=>!J.collected&&Ts(O,{x:J.x,y:J.y,width:30,height:30})?(oe(J.type),p.current+=1,p.current>=20&&T("matrixCloud","cloud_power_collector"),{...J,collected:!0}):J);for(const J of re){const Ne={x:J.x,y:0,width:50,height:J.height},pt={x:J.x,y:J.height+or,width:50,height:400-(J.height+or)};if((Ts(O,Ne)||Ts(O,pt))&&(z=D(z),z.gameOver))return z;if(!J.passed&&J.x<50){const me=PS*Math.min(z.combo,hl),ue=z.activeEffects.doublePoints?2:1,F=Math.floor(me*ue),ke=z.score+F,Ae=Math.floor(ke/_S)+1;Ae>z.level&&(u("levelUp"),L(7),Ae===5&&T("matrixCloud","level_5"),IS.includes(Ae)&&!z.inBossBattle&&setTimeout(()=>I(Ae),1e3)),J.passed=!0,J.glowIntensity=1,u("score"),z={...z,score:ke,combo:Math.min(z.combo+ES,hl),level:Ae},x.current=Math.max(x.current,ke),x.current>=1e3&&T("matrixCloud","cloud_high_flyer")}}if(H>400-Ss-35){if(H=400-Ss-35,ce=0,!z.invulnerable&&(z=D(z),z.gameOver))return z}else H<0&&(H=0,ce=0);let U=z.boss,$=[...W.bossAttacks],Y=W.bossTimer;if(z.inBossBattle&&U){if(Y=Math.max(0,Y-j),U=B(U,j),U.attackTimer>=DS){const J=V(U);J&&$.push(J),U.attackTimer=0}$=$.map(J=>({...J,x:J.x+J.vx,y:J.y+J.vy,life:J.life-.02})).filter(J=>J.life>0&&J.x>-50);for(const J of $)if(Ts(O,{x:J.x,y:J.y,width:20,height:20})){z=D(z),$=$.filter(Ne=>Ne.id!==J.id);break}if(Ts(O,{x:U.x-U.size/2,y:U.y-U.size/2,width:U.size,height:U.size}))if(U.health-=10,u("hit"),L(8),U.health<=0){U.defeated=!0,U.active=!1;const J=U.maxHealth*2;z.score+=J,u("levelUp"),L(15),v("matrixCloud",{stats:{...(ge=(ee=b==null?void 0:b.games)==null?void 0:ee.matrixCloud)==null?void 0:ge.stats,bossesDefeated:(((mt=(je=(we=b==null?void 0:b.games)==null?void 0:we.matrixCloud)==null?void 0:je.stats)==null?void 0:mt.bossesDefeated)||0)+1}}),U.type==="agent_smith"?T("matrixCloud","boss_slayer"):U.type==="architect"&&T("matrixCloud","architect_defeat"),g.current.add(U.type),g.current.size>=3&&T("matrixCloud","cloud_all_bosses"),z.inBossBattle=!1,z.boss=null,$=[]}else z=D(z);Y<=0&&(z.inBossBattle=!1,z.boss=null,$=[],u("hit"))}return z.invulnerable&&setTimeout(()=>{k(J=>({...J,invulnerable:!1}))},1500),{...z,playerY:H,playerVelocity:ce,pipes:re,particles:C,powerUps:M,shakeIntensity:Math.max(0,z.shakeIntensity-.2),boss:U,bossAttacks:$,bossTimer:Y}})},[s,q,oe,D,u,L,I,B,V,T]);m.useEffect(()=>{const E=j=>{j.code==="Space"?(j.preventDefault(),w.gameOver?Z():he()):j.code==="KeyP"&&i(K=>!K)};return window.addEventListener("keydown",E),()=>window.removeEventListener("keydown",E)},[w.gameOver,he,Z]);const P=m.useCallback(()=>{const E=t.current;if(!E)return;const j=E.getContext("2d");if(!j)return;if(j.save(),j.translate(c.x,c.y),j.fillStyle="black",j.fillRect(0,0,800,400),j.font="12px monospace",j.fillStyle="rgba(0, 255, 0, 0.5)",w.particles.forEach(R=>{j.save(),j.globalAlpha=R.opacity,j.translate(R.x,R.y),j.fillText(R.char,0,0),j.restore()}),j.fillStyle="#006600",w.pipes.forEach(R=>{if(R.glowIntensity>0){const H=Math.floor(102+R.glowIntensity*153);j.fillStyle=`rgb(0, ${H}, 0)`}else j.fillStyle="#006600";j.fillRect(R.x,0,50,R.height),j.fillRect(R.x,R.height+or,50,400-(R.height+or))}),j.fillStyle="#00ff00",w.powerUps.forEach(R=>{if(!R.collected){switch(j.save(),j.translate(R.x+15,R.y+15),R.type){case"shield":j.beginPath(),j.arc(0,0,10,0,Math.PI*2),j.fill();break;case"timeSlow":j.fillRect(-8,-8,16,16);break;case"extraLife":j.beginPath(),j.moveTo(0,-8),j.lineTo(8,8),j.lineTo(-8,8),j.closePath(),j.fill();break;case"doublePoints":j.fillRect(-8,-8,6,16),j.fillRect(2,-8,6,16);break}j.restore()}}),w.boss&&w.boss.active){const R=w.boss;switch(j.save(),j.translate(R.x,R.y),R.type){case"agent_smith":j.fillStyle="#003300",j.fillRect(-R.size/2,-R.size/2,R.size,R.size),j.fillStyle="#00ff00",j.fillRect(-R.size/4,-R.size/3,R.size/2,R.size/6),j.fillRect(-R.size/6,-R.size/4,R.size/3,R.size/8);break;case"sentinel":j.fillStyle="#330000";for(let re=0;re<8;re++){const C=re/8*Math.PI*2+R.x*.01,M=R.size/2;j.beginPath(),j.moveTo(0,0),j.lineTo(Math.cos(C)*M,Math.sin(C)*M),j.lineWidth=5,j.strokeStyle="#ff0000",j.stroke()}break;case"architect":j.fillStyle="#004400",j.fillRect(-R.size/2,-R.size/2,R.size,R.size),j.fillStyle="#00ff00";for(let re=0;re<5;re++){const C=R.size/5*(re+1);j.strokeRect(-C/2,-C/2,C,C)}break}const H=R.size,ce=R.health/R.maxHealth;j.fillStyle="#ff0000",j.fillRect(-H/2,-R.size/2-20,H,8),j.fillStyle="#00ff00",j.fillRect(-H/2,-R.size/2-20,H*ce,8),j.restore(),w.bossAttacks.forEach(re=>{j.save(),j.translate(re.x,re.y);const C=re.life;switch(j.globalAlpha=C,re.type){case"laser":j.fillStyle="#ff0000",j.fillRect(-15,-2,30,4);break;case"matrix_rain":j.fillStyle="#00ff00",j.font="16px monospace",j.fillText("01",-8,8);break;case"code_bomb":j.fillStyle="#ffff00",j.beginPath(),j.arc(0,0,8,0,Math.PI*2),j.fill();break}j.restore()})}h.current||(h.current=j.createLinearGradient(0,400-Ss,0,400),h.current.addColorStop(0,"#004400"),h.current.addColorStop(1,"#003300")),j.fillStyle=h.current,j.fillRect(0,400-Ss,800,Ss),j.fillStyle=w.activeEffects.shield?"#00ff00":w.invulnerable?"#ff0000":"#00cc00";const K=w.activeEffects.shield?"powered":w.invulnerable?"damaged":"normal";j.save(),j.translate(50,w.playerY),LS[K].forEach((R,H)=>{j.fillText(R,0,H*10)}),j.restore(),j.font="20px monospace",j.textAlign="left",j.fillStyle="#00ff00";const W=100*(w.combo/hl);if(j.fillStyle="#003300",j.fillRect(20,70,100,10),j.fillStyle="#00ff00",j.fillRect(20,70,W,10),w.inBossBattle&&w.bossTimer>0){const R=200*(w.bossTimer/Kh);j.fillStyle="#660000",j.fillRect(300,20,200,15),j.fillStyle="#ff0000",j.fillRect(300,20,R,15),j.fillStyle="#ffffff",j.font="12px monospace",j.textAlign="center",j.fillText("BOSS BATTLE",400,32),j.textAlign="left"}for(let R=0;R<w.lives;R++)j.fillStyle="#ff0000",j.fillText("",700+R*25,30);j.restore()},[w,c]);return m.useEffect(()=>{if(w.started&&!w.gameOver&&!s){const E=j=>{_(j),P(),n.current=requestAnimationFrame(E)};return n.current=requestAnimationFrame(E),()=>{n.current&&cancelAnimationFrame(n.current)}}},[w.started,w.gameOver,s,_,P]),m.useEffect(()=>(k(E=>({...E,particles:N()})),setTimeout(()=>P(),0),()=>{n.current&&cancelAnimationFrame(n.current)}),[N,P]),a.jsx("div",{className:"w-full h-full flex flex-col items-center justify-center bg-black",children:a.jsxs("div",{className:"relative w-full max-w-4xl mx-auto",children:[a.jsx("canvas",{ref:t,width:800,height:400,role:"img","aria-label":"Matrix Cloud game canvas",className:"w-full h-auto border-2 border-green-500 rounded-lg shadow-[0_0_20px_rgba(0,255,0,0.3)]",style:{maxHeight:"70vh"},onClick:he}),a.jsxs("div",{className:"absolute top-4 left-4 flex flex-col gap-2 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2 bg-black bg-opacity-70 px-2 py-1 rounded",children:[a.jsx(Lk,{className:"w-4 h-4 text-green-400"}),a.jsxs("span",{children:["Level: ",w.level]})]}),a.jsxs("div",{className:"flex items-center gap-2 bg-black bg-opacity-70 px-2 py-1 rounded",children:[a.jsx(Gn,{className:"w-4 h-4 text-blue-400"}),a.jsxs("span",{children:["Combo: x",w.combo.toFixed(1)]})]}),a.jsxs("div",{className:"flex items-center gap-2 bg-black bg-opacity-70 px-2 py-1 rounded",children:[a.jsx(bn,{className:"w-4 h-4 text-yellow-400"}),a.jsxs("span",{children:["High Score: ",w.highScore]})]}),w.inBossBattle&&w.boss&&a.jsxs("div",{className:"flex items-center gap-2 bg-red-900 bg-opacity-70 px-3 py-1 rounded border border-red-500 animate-pulse",children:[a.jsx(ck,{className:"w-5 h-5 text-red-400"}),a.jsx("span",{className:"text-red-400 font-bold",children:w.boss.type.replace("_"," ").toUpperCase()})]})]}),a.jsxs("div",{className:"absolute top-4 right-4 flex flex-col gap-2 text-sm",children:[w.activeEffects.shield&&a.jsxs("div",{className:"flex items-center gap-2 bg-black bg-opacity-70 px-2 py-1 rounded animate-pulse",children:[a.jsx(Dh,{className:"w-4 h-4 text-blue-400"}),a.jsx("span",{children:"Shield"})]}),w.activeEffects.timeSlow&&a.jsxs("div",{className:"flex items-center gap-2 bg-black bg-opacity-70 px-2 py-1 rounded animate-pulse",children:[a.jsx(os,{className:"w-4 h-4 text-yellow-400"}),a.jsx("span",{children:"Slow"})]}),w.activeEffects.doublePoints&&a.jsxs("div",{className:"flex items-center gap-2 bg-black bg-opacity-70 px-2 py-1 rounded animate-pulse",children:[a.jsx(Zo,{className:"w-4 h-4 text-purple-400"}),a.jsx("span",{children:"2x"})]}),w.inBossBattle&&a.jsx("div",{className:"flex items-center gap-2 bg-red-900 bg-opacity-70 px-3 py-1 rounded border border-red-500",children:a.jsxs("span",{className:"text-red-400 text-sm",children:[" ",Math.ceil(w.bossTimer/1e3),"s"]})})]}),a.jsxs("div",{className:"absolute bottom-4 right-4 flex gap-2",children:[a.jsx("button",{onClick:()=>i(E=>!E),className:"p-2 bg-green-900 rounded hover:bg-green-800 transition-colors",type:"button","aria-label":s?"Resume game":"Pause game",children:s?a.jsx($n,{className:"w-5 h-5"}):a.jsx(pi,{className:"w-5 h-5"})}),a.jsx("button",{onClick:Z,className:"p-2 bg-green-900 rounded hover:bg-green-800 transition-colors",type:"button","aria-label":"Restart game",children:a.jsx(td,{className:"w-5 h-5"})})]}),w.gameOver&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-90",children:a.jsxs("div",{className:"text-center font-mono",children:[a.jsx("h2",{className:"text-3xl mb-4 text-red-500 animate-pulse",children:"SYSTEM FAILURE"}),a.jsxs("div",{className:"space-y-2 mb-6",children:[a.jsxs("p",{className:"text-green-400",children:["Final Score: ",w.score]}),a.jsxs("p",{className:"text-green-400",children:["High Score: ",w.highScore]}),a.jsxs("p",{className:"text-green-400",children:["Level Reached: ",w.level]})]}),a.jsx("button",{onClick:Z,className:"px-6 py-3 bg-green-500 text-black rounded-lg hover:bg-green-400 transition-all transform hover:scale-105",type:"button",children:"REBOOT SYSTEM"})]})}),o&&!w.started&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-90",children:a.jsxs("div",{className:"text-center font-mono text-green-400 max-w-lg p-8 border border-green-500 rounded-lg",children:[a.jsx("h2",{className:"text-3xl mb-6 font-bold",children:"MATRIX PROTOCOL"}),a.jsxs("div",{className:"space-y-4 mb-8",children:[a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("kbd",{className:"px-2 py-1 bg-green-900 rounded",children:"SPACE"}),a.jsx("span",{children:"to navigate the system"})]}),a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("kbd",{className:"px-2 py-1 bg-green-900 rounded",children:"P"}),a.jsx("span",{children:"to pause simulation"})]}),a.jsxs("div",{className:"flex flex-col gap-4 mt-6",children:[a.jsx("p",{className:"text-sm",children:"Power-Up Guide:"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Dh,{className:"w-4 h-4 text-blue-400"}),a.jsx("span",{children:"Shield Protection"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(os,{className:"w-4 h-4 text-yellow-400"}),a.jsx("span",{children:"Time Manipulation"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Kg,{className:"w-4 h-4 text-red-400"}),a.jsx("span",{children:"Extra Life"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Zo,{className:"w-4 h-4 text-purple-400"}),a.jsx("span",{children:"Score Multiplier"})]})]})]})]}),a.jsx("p",{className:"animate-pulse",children:"Click or press SPACE to initialize"})]})}),s&&!w.gameOver&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-90",children:a.jsxs("div",{className:"text-center font-mono text-green-500",children:[a.jsx("h2",{className:"text-3xl mb-4",children:"SYSTEM PAUSED"}),a.jsxs("div",{className:"space-y-2 mb-4",children:[a.jsxs("p",{children:["Current Score: ",w.score]}),a.jsxs("p",{children:["Level: ",w.level]}),a.jsxs("p",{children:["Lives: ",w.lives]})]}),a.jsx("p",{className:"animate-pulse",children:"Press P to resume"})]})})]})})}function Ts(e,t){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y}function iy(){const e=m.useRef(null),t=m.useRef(new Map),n=m.useRef(null),r=m.useCallback(async()=>{if(!e.current){const h=window.AudioContext||window.webkitAudioContext,u=new h;e.current=u;const f=u.createDynamicsCompressor();f.threshold.setValueAtTime(-24,u.currentTime),f.knee.setValueAtTime(30,u.currentTime),f.ratio.setValueAtTime(12,u.currentTime),f.attack.setValueAtTime(.003,u.currentTime),f.release.setValueAtTime(.25,u.currentTime),f.connect(u.destination),n.current=f}return e.current},[]),s=m.useCallback(async(h=2e3,u=100,f=.2)=>{const y=await r();if(!y||!n.current)return;const b=y.currentTime,v=y.createOscillator(),S=y.createGain(),p=y.createBiquadFilter();v.type="sawtooth",v.frequency.setValueAtTime(h,b),v.frequency.exponentialRampToValueAtTime(u,b+f),p.type="lowpass",p.frequency.setValueAtTime(h*2,b),p.frequency.exponentialRampToValueAtTime(u*2,b+f),p.Q.setValueAtTime(5,b),S.gain.setValueAtTime(.3,b),S.gain.exponentialRampToValueAtTime(.001,b+f),v.connect(p),p.connect(S),S.connect(n.current),v.start(b),v.stop(b+f)},[r]),i=m.useCallback(async(h=1,u=.5)=>{const f=await r();if(!f||!n.current)return;const y=f.currentTime,b=.5*h,v=f.sampleRate*b,S=f.createBuffer(1,v,f.sampleRate),p=S.getChannelData(0);for(let A=0;A<v;A++)p[A]=(Math.random()-.5)*2;const g=f.createBufferSource();g.buffer=S;const x=f.createBiquadFilter();x.type="lowpass",x.frequency.setValueAtTime(200+u*3e3,y),x.frequency.exponentialRampToValueAtTime(50,y+b);const w=f.createOscillator();w.type="sine",w.frequency.setValueAtTime(40*h,y),w.frequency.exponentialRampToValueAtTime(20,y+b*.3);const k=f.createGain(),T=f.createGain(),N=f.createGain();k.gain.setValueAtTime(.4,y),T.gain.setValueAtTime(.3*h,y),N.gain.setValueAtTime(1,y),N.gain.exponentialRampToValueAtTime(.001,y+b),g.connect(x),x.connect(k),k.connect(N),w.connect(T),T.connect(N),N.connect(n.current),g.start(y),w.start(y),w.stop(y+b)},[r]),o=m.useCallback(async(h="collect")=>{const u=await r();if(!u||!n.current)return;const f=u.currentTime,b={collect:{freqs:[523,659,784,1047],duration:.3,wave:"triangle"},activate:{freqs:[440,554,659,880],duration:.5,wave:"square"},expire:{freqs:[880,659,554,440],duration:.4,wave:"sawtooth"}}[h],v=b.duration/b.freqs.length;b.freqs.forEach((S,p)=>{const g=f+p*v,x=u.createOscillator(),w=u.createGain(),k=u.createBiquadFilter();x.type=b.wave,x.frequency.setValueAtTime(S,g),k.type="bandpass",k.frequency.setValueAtTime(S,g),k.Q.setValueAtTime(5,g),w.gain.setValueAtTime(0,g),w.gain.linearRampToValueAtTime(.2,g+.01),w.gain.exponentialRampToValueAtTime(.001,g+v),x.connect(k),k.connect(w),w.connect(n.current),x.start(g),x.stop(g+v)})},[r]),l=m.useCallback(async h=>{const u=await r();if(!u||!n.current)return;const f=u.currentTime;switch(h.type){case"kick":{const y=u.createOscillator(),b=u.createGain();y.type="sine",y.frequency.setValueAtTime(60*(h.pitch||1),f),y.frequency.exponentialRampToValueAtTime(40,f+.1),b.gain.setValueAtTime(.7,f),b.gain.exponentialRampToValueAtTime(.001,f+(h.decay||.5)),y.connect(b),b.connect(n.current),y.start(f),y.stop(f+.5);break}case"snare":{const y=u.createOscillator(),b=u.createGain();y.type="triangle",y.frequency.setValueAtTime(200*(h.pitch||1),f);const v=u.createBufferSource(),S=u.createBuffer(1,u.sampleRate*.2,u.sampleRate),p=S.getChannelData(0);for(let k=0;k<p.length;k++)p[k]=Math.random()*2-1;v.buffer=S;const g=u.createBiquadFilter();g.type="highpass",g.frequency.setValueAtTime(1e3*(h.tone||1),f);const x=u.createGain(),w=u.createGain();b.gain.setValueAtTime(.3,f),b.gain.exponentialRampToValueAtTime(.001,f+.1),x.gain.setValueAtTime(.3,f),x.gain.exponentialRampToValueAtTime(.001,f+(h.decay||.2)),w.gain.setValueAtTime(.7,f),y.connect(b),b.connect(w),v.connect(g),g.connect(x),x.connect(w),w.connect(n.current),y.start(f),y.stop(f+.2),v.start(f);break}case"hihat":{const y=u.createBufferSource(),b=u.createBuffer(1,u.sampleRate*.05,u.sampleRate),v=b.getChannelData(0);for(let g=0;g<v.length;g++)v[g]=Math.random()*2-1;y.buffer=b;const S=u.createBiquadFilter();S.type="highpass",S.frequency.setValueAtTime(8e3*(h.pitch||1),f);const p=u.createGain();p.gain.setValueAtTime(.3,f),p.gain.exponentialRampToValueAtTime(.001,f+(h.decay||.05)),y.connect(S),S.connect(p),p.connect(n.current),y.start(f);break}}},[r]),c=m.useCallback(async(h,u="sawtooth",f=Math.random().toString())=>{const y=await r();if(!y||!n.current)return null;const b=y.createOscillator(),v=y.createGain(),S=y.createBiquadFilter();b.type=u,b.frequency.setValueAtTime(h,y.currentTime),S.type="lowpass",S.frequency.setValueAtTime(h*3,y.currentTime),S.Q.setValueAtTime(1,y.currentTime),v.gain.setValueAtTime(0,y.currentTime),v.gain.linearRampToValueAtTime(.2,y.currentTime+.01),b.connect(S),S.connect(v),v.connect(n.current),b.start();const p={oscillator:b,gain:v,filter:S,id:f};return t.current.set(f,p),f},[r]),d=m.useCallback(async(h,u=.1)=>{const f=t.current.get(h);if(!f)return;const y=e.current;y&&(f.gain.gain.exponentialRampToValueAtTime(.001,y.currentTime+u),f.oscillator.stop(y.currentTime+u),setTimeout(()=>{t.current.delete(h)},u*1e3))},[]);return{synthLaser:s,synthExplosion:i,synthPowerUp:o,synthDrum:l,synthVoice:c,stopVoice:d,context:e.current}}function ml({create:e,reset:t,initialSize:n=10,maxSize:r=1e3,expandSize:s=10}){const i=m.useRef([]),o=m.useRef([]),l=m.useRef(0),c=m.useCallback(()=>{if(i.current.length===0){for(let v=0;v<n;v++){const S=e();S.active=!1,i.current.push(S)}l.current=n}},[e,n]),d=m.useCallback(()=>{const v=l.current;if(v>=r)return;const S=Math.min(s,r-v);for(let p=0;p<S;p++){const g=e();g.active=!1,i.current.push(g)}l.current+=S},[e,s,r]),h=m.useCallback(()=>{c();let v=i.current.find(S=>!S.active);return v||(d(),v=i.current.find(S=>!S.active)),v?(v.active=!0,o.current.push(v),t?t(v):v.reset&&v.reset(),v):null},[c,d,t]),u=m.useCallback(v=>{if(!v||!v.active)return;v.active=!1;const S=o.current.indexOf(v);S>-1&&o.current.splice(S,1),t?t(v):v.reset&&v.reset()},[t]),f=m.useCallback(()=>{o.current.forEach(v=>{v.active=!1,t?t(v):v.reset&&v.reset()}),o.current=[]},[t]),y=m.useCallback(()=>({total:l.current,active:o.current.length,available:i.current.filter(v=>!v.active).length,utilization:o.current.length/l.current*100}),[]),b=m.useCallback(v=>{const S=v-i.current.length;if(S<=0)return;const p=Math.min(S,r-l.current);for(let g=0;g<p;g++){const x=e();x.active=!1,i.current.push(x)}l.current+=p},[e,r]);return{acquire:h,release:u,releaseAll:f,getStats:y,prewarm:b,activeObjects:o.current}}function OS(){return{active:!1,x:0,y:0,vx:0,vy:0,life:0,maxLife:1,size:4,color:"#00ff00",alpha:1,reset(){this.x=0,this.y=0,this.vx=0,this.vy=0,this.life=0,this.maxLife=1,this.size=4,this.color="#00ff00",this.alpha=1}}}function FS(){return{active:!1,x:0,y:0,vx:0,vy:0,damage:1,width:4,height:10,type:"bullet",reset(){this.x=0,this.y=0,this.vx=0,this.vy=0,this.damage=1,this.width=4,this.height=10,this.type="bullet"}}}function zS(){return{active:!1,x:0,y:0,vx:0,vy:0,health:1,maxHealth:1,width:32,height:32,type:"basic",value:10,reset(){this.x=0,this.y=0,this.vx=0,this.vy=0,this.health=1,this.maxHealth=1,this.width=32,this.height=32,this.type="basic",this.value=10}}}function BS(e={}){const{targetFPS:t=60,showOverlay:n=!1,warnThreshold:r=45,criticalThreshold:s=30}=e,[i,o]=m.useState({fps:0,frameTime:0,memoryUsed:0,memoryLimit:0,drawCalls:0,activeObjects:0}),l=m.useRef([]),c=m.useRef(performance.now()),d=m.useRef(0),h=m.useRef(0),u=m.useCallback(()=>{const g=performance.now(),x=g-c.current;c.current=g,l.current.push(x),l.current.length>60&&l.current.shift();const w=l.current.reduce((A,L)=>A+L,0)/l.current.length,k=1e3/w;let T=0,N=0;if("memory"in performance){const A=performance.memory;A&&(T=A.usedJSHeapSize/1048576,N=A.jsHeapSizeLimit/1048576)}o({fps:Math.round(k),frameTime:Math.round(w*100)/100,memoryUsed:Math.round(T*10)/10,memoryLimit:Math.round(N),drawCalls:d.current,activeObjects:h.current}),d.current=0,h.current=0},[]),f=m.useCallback(()=>{d.current++},[]),y=m.useCallback(g=>{h.current=g},[]),b=m.useCallback(()=>{const g=[];return i.fps<s?(g.push("Critical: FPS below "+s),g.push("Reduce particle count or visual effects"),g.push("Enable object pooling for better performance")):i.fps<r&&(g.push("Warning: FPS below optimal ("+r+")"),g.push("Consider reducing active objects")),i.drawCalls>1e3&&g.push("High draw call count - consider batching"),i.memoryUsed>i.memoryLimit*.8&&g.push("High memory usage - clear unused resources"),i.activeObjects>500&&g.push("Many active objects - implement culling"),g},[i,s,r]),v=m.useCallback(()=>{if(!n)return null;const g=i.fps<r,w=i.fps<s?"#ff0000":g?"#ffaa00":"#00ff00";return a.jsxs("div",{style:{position:"fixed",top:10,right:10,backgroundColor:"rgba(0, 0, 0, 0.8)",color:w,padding:"10px",fontFamily:"monospace",fontSize:"12px",borderRadius:"5px",border:`1px solid ${w}`,zIndex:9999,minWidth:"200px"},children:[a.jsxs("div",{children:["FPS: ",i.fps," / ",t]}),a.jsxs("div",{children:["Frame Time: ",i.frameTime,"ms"]}),a.jsxs("div",{children:["Memory: ",i.memoryUsed,"MB / ",i.memoryLimit,"MB"]}),a.jsxs("div",{children:["Draw Calls: ",i.drawCalls]}),a.jsxs("div",{children:["Active Objects: ",i.activeObjects]}),b().length>0&&a.jsx("div",{style:{marginTop:"10px",borderTop:"1px solid #666",paddingTop:"10px"},children:b().map((k,T)=>a.jsxs("div",{style:{fontSize:"10px",marginTop:"2px"},children:[" ",k]},T))})]})},[n,i,t,r,s,b]);m.useEffect(()=>{if(!n)return;const g=setInterval(u,1e3);return()=>clearInterval(g)},[n,u]);const S=m.useCallback((g,x)=>{const w=performance.now();x();const k=performance.now();console.log(`[Performance] ${g}: ${(k-w).toFixed(2)}ms`)},[]),p=m.useCallback((g,x,w=100)=>{let k=0;const T=()=>{const N=Math.min(k+w,g.length);for(let A=k;A<N;A++)x(g[A]);k=N,k<g.length&&requestAnimationFrame(T)};T()},[]);return{stats:i,updateFPS:u,trackDrawCall:f,trackActiveObjects:y,getOptimizationSuggestions:b,PerformanceOverlay:v,profile:S,batchOperations:p}}const Bt=800,jn=600,Qh=5,tr=40,js=30,Xh=10,US=1,WS=20,HS=8,$S=5,GS=5e3,no={code:{symbol:"01",health:1,points:10,speed:1,color:"#00ff00"},agent:{symbol:"A",health:2,points:30,speed:1.5,color:"#00cc00"},sentinel:{symbol:"S",health:3,points:50,speed:1.2,color:"#009900"},virus:{symbol:"V",health:1,points:20,speed:2,color:"#ff0000",splits:!0}},qS=["    ","  ",""];function KS({achievementManager:e}){const t=m.useRef(null),n=m.useRef(),r=m.useRef(new Set),s=m.useRef(0),i=m.useRef([]),[o,l]=m.useState({player:{x:Bt/2-tr/2,y:jn-js-20,health:100,maxHealth:100,powerUps:{},invulnerable:!1,lastHitTime:0},score:0,wave:1,gameOver:!1,paused:!1,combo:0,highScore:parseInt(localStorage.getItem("matrixInvaders_highScore")||"0"),bulletTimeActive:!1,timeScale:1}),{synthLaser:c,synthExplosion:d,synthDrum:h}=iy(),u=ml({create:FS,maxSize:100}),f=ml({create:zS,maxSize:100}),y=ml({create:OS,maxSize:500}),{trackDrawCall:b,trackActiveObjects:v,PerformanceOverlay:S}=BS({showOverlay:!1}),{saveData:p,updateGameSave:g,unlockAchievement:x}=Sn(),w=m.useRef(Date.now()),k=m.useRef(0),T=m.useRef(0),N=m.useRef(0);m.useEffect(()=>{const Z="01234567890ABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let D=0;D<50;D++)i.current.push({x:Math.random()*Bt,y:Math.random()*jn,char:Z[Math.floor(Math.random()*Z.length)],speed:1+Math.random()*2})},[]);const A=m.useCallback(Z=>{const D=Object.keys(no),_=Z<=2?"code":Z<=5?["code","agent"][Math.floor(Math.random()*2)]:D[Math.floor(Math.random()*D.length)];for(let P=0;P<$S;P++)for(let E=0;E<HS;E++){const j=f.acquire();if(j){const K=P===0&&Z>10?"sentinel":_,W=no[K];j.x=50+E*80,j.y=50+P*50,j.vx=US*W.speed,j.vy=0,j.health=W.health,j.maxHealth=W.health,j.type=K,j.value=W.points,j.width=40,j.height=30}}},[f]),L=m.useCallback((Z,D,_=!1)=>{const P=u.acquire();P&&(P.x=Z,P.y=D,P.vx=0,P.vy=_?Xh/2:-Xh,P.type=_?"enemy":"player",P.damage=1,c(_?500:1e3,100,.1))},[u,c]),I=m.useCallback((Z,D,_="#00ff00")=>{for(let P=0;P<20;P++){const E=y.acquire();if(E){const j=Math.PI*2*P/20,K=2+Math.random()*3;E.x=Z,E.y=D,E.vx=Math.cos(j)*K,E.vy=Math.sin(j)*K,E.life=1,E.maxLife=1,E.color=_,E.size=2+Math.random()*4}}d(.5,.7)},[y,d]),V=m.useCallback(()=>{const Z=u.activeObjects,D=f.activeObjects;Z.forEach(_=>{_.type==="player"?D.forEach(P=>{if(_.active&&P.active&&_.x<P.x+P.width&&_.x+_.width>P.x&&_.y<P.y+P.height&&_.y+_.height>P.y)if(P.health-=_.damage,u.release(_),P.health<=0){if(l(E=>{const j=E.combo+1;return T.current=Math.max(T.current,j),{...E,score:E.score+P.value*(1+E.combo*.1),combo:j}}),N.current+=1,I(P.x+P.width/2,P.y+P.height/2),e&&(N.current===1&&(e.unlockAchievement("matrixInvaders","invaders_first_kill"),x("matrixInvaders","invaders_first_kill")),N.current>=100&&(e.unlockAchievement("matrixInvaders","invaders_100_enemies"),x("matrixInvaders","invaders_100_enemies"))),P.type==="virus"&&no.virus.splits)for(let E=0;E<2;E++){const j=f.acquire();j&&(j.x=P.x+(E===0?-20:20),j.y=P.y,j.type="code",j.health=1,j.value=5,j.vx=P.vx)}f.release(P)}else h({type:"hihat"})}):_.type==="enemy"&&!o.player.invulnerable&&_.active&&_.x<o.player.x+tr&&_.x+_.width>o.player.x&&_.y<o.player.y+js&&_.y+_.height>o.player.y&&(l(P=>{const E=Math.max(0,P.player.health-5);return{...P,player:{...P.player,health:E,invulnerable:!0,lastHitTime:Date.now()},gameOver:E<=0,combo:0}}),I(o.player.x+tr/2,o.player.y+js/2,"#ff0000"),d(.3,.5),u.release(_),setTimeout(()=>{l(P=>({...P,player:{...P.player,invulnerable:!1}}))},500))}),D.filter(_=>_.active).length===0&&(l(_=>{const P=_.wave+1;return k.current=Math.max(k.current,P),setTimeout(()=>A(P),100),{..._,wave:P,player:{..._.player,health:100}}}),e&&(o.wave===5&&(e.unlockAchievement("matrixInvaders","invaders_wave_5"),x("matrixInvaders","invaders_wave_5")),o.wave===10&&(e.unlockAchievement("matrixInvaders","invaders_wave_10"),x("matrixInvaders","invaders_wave_10")),o.wave===20&&(e.unlockAchievement("matrixInvaders","invaders_endless"),x("matrixInvaders","invaders_endless"))))},[u,f,o.wave,o.player,e,x,I,h,d,A]),B=m.useCallback(Z=>{if(o.gameOver||o.paused)return;const D=Z*o.timeScale;u.activeObjects.forEach(P=>{P.y+=P.vy*D,(P.y<0||P.y>jn)&&u.release(P)});let _=!1;f.activeObjects.forEach(P=>{P.x+=P.vx*D,(P.x<=0||P.x>=Bt-P.width)&&(_=!0),Math.random()<3e-4*Math.min(o.wave,10)&&L(P.x+P.width/2,P.y+P.height,!0)}),_&&f.activeObjects.forEach(P=>{P.vx*=-1,P.y+=WS,P.y+P.height>=o.player.y&&l(E=>({...E,gameOver:!0}))}),y.activeObjects.forEach(P=>{P.x+=P.vx*D,P.y+=P.vy*D,P.life-=.02*D,P.alpha=P.life,P.life<=0&&y.release(P)}),i.current.forEach(P=>{P.y+=P.speed*D,P.y>jn&&(P.y=-20,P.x=Math.random()*Bt)}),V(),v(u.activeObjects.length+f.activeObjects.length+y.activeObjects.length)},[o,u,f,y,V,L,v]),q=m.useCallback(()=>{var W,R;const Z=t.current,D=Z==null?void 0:Z.getContext("2d");if(!D||!Z)return;D.fillStyle="#000000",D.fillRect(0,0,Bt,jn),b(),D.font="14px monospace",D.fillStyle="#003300",i.current.forEach(H=>{D.fillText(H.char,H.x,H.y)}),b(),y.activeObjects.forEach(H=>{D.globalAlpha=H.alpha,D.fillStyle=H.color,D.fillRect(H.x-H.size/2,H.y-H.size/2,H.size,H.size)}),D.globalAlpha=1,b(),D.font="20px monospace",f.activeObjects.forEach(H=>{const ce=no[H.type];if(D.fillStyle=ce.color,D.fillText(ce.symbol,H.x+10,H.y+20),H.maxHealth>1){const re=H.health/H.maxHealth;D.fillStyle="#ff0000",D.fillRect(H.x,H.y-5,H.width,3),D.fillStyle="#00ff00",D.fillRect(H.x,H.y-5,H.width*re,3)}}),b(),D.fillStyle="#00ff00",u.activeObjects.forEach(H=>{H.type==="player"?D.fillRect(H.x,H.y,3,10):(D.fillStyle="#ff0000",D.fillRect(H.x,H.y,3,6),D.fillStyle="#00ff00")}),b(),o.gameOver||(o.player.invulnerable&&(D.globalAlpha=Math.sin(Date.now()*.01)>0?.3:1),D.fillStyle=(W=o.player.powerUps)!=null&&W.shield?"#00ffff":"#00ff00",D.font="12px monospace",qS.forEach((H,ce)=>{D.fillText(H,o.player.x,o.player.y+ce*10)}),D.globalAlpha=1,(R=o.player.powerUps)!=null&&R.shield&&(D.strokeStyle="#00ffff",D.globalAlpha=.3,D.beginPath(),D.arc(o.player.x+tr/2,o.player.y+js/2,30,0,Math.PI*2),D.stroke(),D.globalAlpha=1)),b(),D.fillStyle="#00ff00",D.font="16px monospace",D.fillText("HEALTH:",10,30);const _=85,P=18,E=200,j=15,K=o.player.health/o.player.maxHealth;if(D.fillStyle="#333333",D.fillRect(_,P,E,j),K>.5)D.fillStyle="#00ff00";else if(K>.25)D.fillStyle="#ffff00";else{D.fillStyle="#ff0000";const H=Math.sin(Date.now()*.005)*.3+.7;D.globalAlpha=H}D.fillRect(_,P,E*K,j),D.globalAlpha=1,D.fillStyle="#00ff00",D.font="12px monospace",D.fillText(`${Math.floor(K*100)}%`,_+E+10,30),D.font="16px monospace",D.fillText(`SCORE: ${o.score}`,10,60),D.fillText(`WAVE: ${o.wave}`,10,80),D.fillText(`COMBO: x${o.combo}`,10,100),o.highScore>0&&D.fillText(`HIGH: ${o.highScore}`,Bt-150,60),o.bulletTimeActive&&(D.fillStyle="#ff00ff",D.fillText("BULLET TIME ACTIVE",Bt/2-80,60)),o.player.health===100&&o.wave>1&&Date.now()-o.player.lastHitTime<2e3&&(D.fillStyle="#00ff00",D.font="24px monospace",D.fillText("WAVE COMPLETE - HEALTH RESTORED!",Bt/2-200,jn/2-100)),b()},[o,u,f,y,b]),oe=m.useCallback(()=>{let Z;const D=_=>{const P=_-(n.current||_);n.current=_,B(P*.06),q(),!o.gameOver&&!o.paused&&(Z=requestAnimationFrame(D))};return Z=requestAnimationFrame(D),()=>{Z&&cancelAnimationFrame(Z)}},[B,q,o.gameOver,o.paused]);m.useEffect(()=>{const Z=_=>{var P;if(r.current.add(_.key),_.key===" "&&!o.gameOver&&!o.paused){const E=Date.now(),j=(P=o.player.powerUps)!=null&&P.rapidFire?100:250;E-s.current>j&&(L(o.player.x+tr/2,o.player.y),s.current=E)}_.key==="b"&&!o.bulletTimeActive&&(l(E=>({...E,bulletTimeActive:!0,timeScale:.3})),setTimeout(()=>{l(E=>({...E,bulletTimeActive:!1,timeScale:1}))},GS)),_.key==="p"&&l(E=>({...E,paused:!E.paused}))},D=_=>{r.current.delete(_.key)};return window.addEventListener("keydown",Z),window.addEventListener("keyup",D),()=>{window.removeEventListener("keydown",Z),window.removeEventListener("keyup",D)}},[o,L]),m.useEffect(()=>{const D=setInterval(()=>{o.gameOver||o.paused||l(_=>{let P=_.player.x;return(r.current.has("ArrowLeft")||r.current.has("a"))&&(P=Math.max(0,P-Qh)),(r.current.has("ArrowRight")||r.current.has("d"))&&(P=Math.min(Bt-tr,P+Qh)),{..._,player:{..._.player,x:P}}})},16);return()=>clearInterval(D)},[o.gameOver,o.paused]),m.useEffect(()=>{let Z;return!o.gameOver&&!o.paused&&(f.activeObjects.length===0&&A(o.wave),Z=oe()),()=>{Z&&Z()}},[o.gameOver,o.paused,o.wave,f,A,oe]),m.useEffect(()=>{var Z,D,_,P,E,j,K,W,R,H,ce;if(o.gameOver){Math.floor((Date.now()-w.current)/1e3);const re=((Z=p.games.matrixInvaders)==null?void 0:Z.highScore)||0,C=Math.max(re,o.score),M=((_=(D=p.games.matrixInvaders)==null?void 0:D.stats)==null?void 0:_.gamesPlayed)||0,O=((E=(P=p.games.matrixInvaders)==null?void 0:P.stats)==null?void 0:E.totalScore)||0,z=((K=(j=p.games.matrixInvaders)==null?void 0:j.stats)==null?void 0:K.bestWave)||0,U=((R=(W=p.games.matrixInvaders)==null?void 0:W.stats)==null?void 0:R.totalKills)||0,$=((ce=(H=p.games.matrixInvaders)==null?void 0:H.stats)==null?void 0:ce.bestCombo)||0;setTimeout(()=>{g("matrixInvaders",{highScore:C,level:o.wave,stats:{gamesPlayed:M+1,totalScore:O+o.score,bestWave:Math.max(z,k.current),totalKills:U+N.current,bestCombo:Math.max($,T.current)}}),o.score>o.highScore&&localStorage.setItem("matrixInvaders_highScore",o.score.toString())},100),T.current>=10&&e&&(e.unlockAchievement("matrixInvaders","invaders_combo_10"),x("matrixInvaders","invaders_combo_10"))}},[o.gameOver,o.score,o.wave,o.highScore,p,g,e,x]);const he=m.useCallback(()=>{u.releaseAll(),f.releaseAll(),y.releaseAll(),l({player:{x:Bt/2-tr/2,y:jn-js-20,health:100,maxHealth:100,powerUps:{},invulnerable:!1,lastHitTime:0},score:0,wave:1,gameOver:!1,paused:!1,combo:0,highScore:parseInt(localStorage.getItem("matrixInvaders_highScore")||"0"),bulletTimeActive:!1,timeScale:1}),w.current=Date.now(),k.current=0,T.current=0,N.current=0,A(1)},[u,f,y,A,oe]);return a.jsxs("div",{className:"relative w-full h-full flex items-center justify-center bg-black",children:[a.jsxs("div",{className:"relative",children:[a.jsx("canvas",{ref:t,width:Bt,height:jn,className:"border-2 border-green-500 shadow-[0_0_20px_rgba(0,255,0,0.5)]"}),a.jsx(Ge,{children:o.gameOver&&a.jsx(X.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 flex items-center justify-center bg-black/80",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-4xl font-mono text-green-500 mb-4",children:"GAME OVER"}),a.jsxs("p",{className:"text-2xl font-mono text-green-400 mb-2",children:["Score: ",o.score]}),a.jsxs("p",{className:"text-xl font-mono text-green-400 mb-6",children:["Wave: ",o.wave]}),a.jsxs("button",{onClick:he,className:"px-6 py-3 bg-green-500 text-black font-mono rounded hover:bg-green-400 transition-colors flex items-center gap-2 mx-auto",children:[a.jsx(td,{className:"w-5 h-5"}),"RESTART"]})]})})}),a.jsx(Ge,{children:o.paused&&!o.gameOver&&a.jsx(X.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 flex items-center justify-center bg-black/60",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-4xl font-mono text-green-500 mb-4",children:"PAUSED"}),a.jsx("p",{className:"text-xl font-mono text-green-400",children:"Press P to Resume"})]})})}),a.jsx("div",{className:"mt-4 text-center",children:a.jsx("p",{className:"text-green-400 font-mono text-sm",children:"MOVE:   or A/D | FIRE: SPACE | BULLET TIME: B | PAUSE: P"})})]}),a.jsx(S,{})]})}const Zt=10,ln=20,ve=30,pl=500,YS=50,QS=100,XS=50,Zh=10,ro=8e3,ZS=.4,Jh=50,so="01",Cr={I:{shape:[[0,0,0,0],[1,1,1,1],[0,0,0,0],[0,0,0,0]],color:"#00FFFF",char:"01"},O:{shape:[[1,1],[1,1]],color:"#FFFF00",char:""},T:{shape:[[0,1,0],[1,1,1],[0,0,0]],color:"#FF00FF",char:""},S:{shape:[[0,1,1],[1,1,0],[0,0,0]],color:"#00FF00",char:""},Z:{shape:[[1,1,0],[0,1,1],[0,0,0]],color:"#FF0000",char:""},J:{shape:[[1,0,0],[1,1,1],[0,0,0]],color:"#0000FF",char:""},L:{shape:[[0,0,1],[1,1,1],[0,0,0]],color:"#FFA500",char:""}},JS=Object.keys(Cr);function e5({achievementManager:e,isMuted:t}){const n=m.useRef(null);m.useRef();const r=m.useRef(0),s=m.useRef(0),i=m.useRef(0),o=m.useRef(pl),l=m.useRef(new Set),c=m.useRef({left:0,right:0,down:0}),d=m.useRef(null),h=m.useRef([]),u=m.useRef(Date.now()),f=m.useRef(0),y=m.useRef(0),b=m.useRef(0),v=m.useRef(0),S=m.useRef(0),p=m.useRef(!1),{synthLaser:g,synthExplosion:x,synthPowerUp:w,synthDrum:k}=iy(),{saveData:T,updateGameSave:N,unlockAchievement:A}=Sn(),L=()=>Array(ln).fill(null).map(()=>Array(Zt).fill(null).map(()=>({filled:!1,color:"#000000",char:"",glow:0}))),I=m.useCallback(C=>{let M;if(C)M=C;else{if(h.current.length===0){h.current=[...JS];for(let z=h.current.length-1;z>0;z--){const U=Math.floor(Math.random()*(z+1));[h.current[z],h.current[U]]=[h.current[U],h.current[z]]}}M=h.current.pop()}const O=Cr[M];return{type:M,shape:O.shape.map(z=>[...z]),x:Math.floor(Zt/2)-Math.floor(O.shape[0].length/2),y:0,rotation:0}},[]),[V,B]=m.useState(()=>{const C=parseInt(localStorage.getItem("metris_highScore")||"0");return{grid:L(),currentPiece:I(),nextPiece:I(),holdPiece:null,canHold:!0,score:0,level:1,lines:0,combo:0,gameOver:!1,paused:!1,highScore:C,particles:[],bulletTimeMeter:0,bulletTimeActive:!1,bulletTimeTimer:0,tSpins:0,waiting:!0,softDropActive:!1}}),q=C=>{const M=C.length,O=Array(M).fill(null).map(()=>Array(M).fill(0));for(let z=0;z<M;z++)for(let U=0;U<M;U++)O[U][M-1-z]=C[z][U];return O},oe=m.useCallback((C,M,O=0,z=0)=>{for(let U=0;U<C.shape.length;U++)for(let $=0;$<C.shape[U].length;$++)if(C.shape[U][$]){const Y=C.x+$+O,ee=C.y+U+z;if(Y<0||Y>=Zt||ee>=ln||ee>=0&&M[ee][Y].filled)return!0}return!1},[]),he=(C,M)=>M>0?[[0,0],[-1,0],[-1,1],[0,-2],[-1,-2]]:[[0,0],[1,0],[1,1],[0,-2],[1,-2]],Z=m.useCallback((C,M,O)=>{const z={...C,shape:M>0?q(C.shape):q(q(q(C.shape))),rotation:(C.rotation+M+4)%4},U=he(C.rotation,M);for(const[$,Y]of U)if(!oe(z,O,$,Y))return{...z,x:z.x+$,y:z.y+Y};return null},[oe]),D=m.useCallback((C,M)=>{let O=C.y;for(;!oe({...C,y:O+1},M);)O++;return O},[oe]),_=m.useCallback((C,M)=>{const O=M.map(U=>[...U]),z=Cr[C.type];for(let U=0;U<C.shape.length;U++)for(let $=0;$<C.shape[U].length;$++)if(C.shape[U][$]){const Y=C.y+U,ee=C.x+$;Y>=0&&Y<ln&&ee>=0&&ee<Zt&&(O[Y][ee]={filled:!0,color:z.color,char:z.char,glow:1})}return O},[]),P=m.useCallback(C=>{const M=[],O=[];for(let U=0;U<ln;U++)C[U].every($=>$.filled)&&M.push(U);if(M.length===0)return{newGrid:C,linesCleared:0,particles:[]};M.forEach(U=>{for(let $=0;$<Zt;$++)for(let Y=0;Y<3;Y++)O.push({x:$*ve+ve/2,y:U*ve+ve/2,vx:(Math.random()-.5)*8,vy:(Math.random()-.5)*8,char:so[Math.floor(Math.random()*so.length)],opacity:1,life:1,color:C[U][$].color,size:12+Math.random()*8})});const z=C.filter((U,$)=>!M.includes($));for(;z.length<ln;)z.unshift(Array(Zt).fill(null).map(()=>({filled:!1,color:"#000000",char:"",glow:0})));return{newGrid:z,linesCleared:M.length,particles:O}},[]),E=(C,M,O)=>[0,100,300,500,800][C]*M*Math.max(1,O),j=m.useCallback((C,M)=>{B(O=>{if(O.gameOver||O.paused||!O.currentPiece)return O;const z={...O.currentPiece,x:O.currentPiece.x+C,y:O.currentPiece.y+M};return oe(z,O.grid)?O:(C!==0&&!t&&g(400,300,.05),{...O,currentPiece:z})})},[oe,g,t]),K=m.useCallback(C=>{B(M=>{if(M.gameOver||M.paused||!M.currentPiece)return M;const O=Z(M.currentPiece,C,M.grid);return O?(t||g(600,800,.08),{...M,currentPiece:O}):M})},[Z,g,t]),W=m.useCallback(()=>{B(C=>{if(C.gameOver||C.paused||!C.currentPiece||!C.canHold)return C;let M,O;return C.holdPiece?(M=I(C.holdPiece.type),O=I(C.currentPiece.type)):(M=C.nextPiece||I(),O=I(C.currentPiece.type)),t||g(800,1e3,.1),{...C,currentPiece:M,holdPiece:O,nextPiece:C.holdPiece?C.nextPiece:I(),canHold:!1}})},[I,g,t]);m.useCallback(()=>{B(C=>{var M;if(C.gameOver||C.paused||C.bulletTimeActive)return C;if(C.bulletTimeMeter>=100){if(t||(k({type:"kick",pitch:.5,decay:1}),w("activate")),i.current=Date.now()+ro,e){const z=(((M=T.games.metris.preferences)==null?void 0:M.bulletTimeCount)||0)+1;N("metris",{preferences:{...T.games.metris.preferences,bulletTimeCount:z}}),z>=10&&e.unlockAchievement("metris","neos_apprentice")}return{...C,bulletTimeMeter:0,bulletTimeActive:!0,bulletTimeTimer:ro}}return C})},[e,T,N,k,w,t]);const R=m.useCallback(()=>{B(C=>{if(C.gameOver||C.paused||C.waiting||!C.currentPiece)return C;let M=0,O={...C.currentPiece};for(;!oe({...O,y:O.y+1},C.grid);)O.y++,M++;if(M===0)return C;const z=M*2,U=_(O,C.grid),{newGrid:$,linesCleared:Y,particles:ee}=P(U),ge=Y>0?C.combo+1:0,we=E(Y,C.level,ge),je=C.score+we+z,mt=C.lines+Y,J=Math.floor(mt/Zh)+1;t||(x(1,.15),Y>0&&w("collect"));const Ne=C.nextPiece||I(),pt=oe(Ne,$);return{...C,grid:$,currentPiece:pt?null:Ne,nextPiece:I(),canHold:!0,score:je,level:J,lines:mt,combo:ge,gameOver:pt,particles:[...C.particles,...ee]}})},[oe,_,P,E,I,x,w,t]),H=m.useCallback(()=>{B(C=>{if(C.gameOver||C.paused||C.waiting||!C.currentPiece)return C;const M=performance.now(),O=Math.max(QS,pl-(C.level-1)*YS);let z=C.softDropActive?XS:O;if(z=C.bulletTimeActive?z/ZS:z,o.current=z,M-r.current,M-r.current<o.current){let Y={...C};if(Y.bulletTimeActive){const ee=i.current-Date.now();ee<=0?(t||w("expire"),Y={...Y,bulletTimeActive:!1,bulletTimeTimer:0}):Y={...Y,bulletTimeTimer:ee}}return Y={...Y,particles:Y.particles.map(ee=>({...ee,x:ee.x+ee.vx,y:ee.y+ee.vy,vy:ee.vy+.3,opacity:ee.opacity*.95,life:ee.life*.95})).filter(ee=>ee.life>.1)},Y}r.current=M;const U=C.currentPiece.y+1,$={...C.currentPiece,y:U};if(oe($,C.grid)){const Y=_(C.currentPiece,C.grid),{newGrid:ee,linesCleared:ge,particles:we}=P(Y),je=ge>0?C.combo+1:0,mt=E(ge,C.level,je),J=C.score+mt,Ne=C.lines+ge,pt=Math.floor(Ne/Zh)+1,me=Math.min(100,C.bulletTimeMeter+ge*20);let ue=C.bulletTimeActive,F=C.bulletTimeTimer;!C.bulletTimeActive&&me>=100&&ge>0&&(ue=!0,F=ro,i.current=Date.now()+ro,t||(k({type:"kick",pitch:.5,decay:1}),w("activate"))),e&&(ge===1&&C.lines===0&&e.unlockAchievement("metris","first_line"),ge===4&&e.unlockAchievement("metris","tetris"),pt>=10&&e.unlockAchievement("metris","level_10"),J>=1e4&&e.unlockAchievement("metris","high_roller"),Ne>=100&&e.unlockAchievement("metris","line_clearer"),je>=5&&e.unlockAchievement("metris","combo_king"),pt>=20&&e.unlockAchievement("metris","immortal")),t||(ge===4?x(1.5,.8):ge>0&&w("collect"),k({type:"kick",pitch:1.2}));const ke=C.nextPiece||I(),Ae=oe(ke,ee);Ae&&!t&&x(2,.3);const ne=Math.max(C.highScore,J);if(Ae){const Ce=Math.floor((Date.now()-u.current)/1e3),Se=T.games.metris.stats.gamesPlayed||0,Q=T.games.metris.stats.totalScore||0,se=T.games.metris.stats.bestCombo||0,xe=T.games.metris.stats.longestSurvival||0;setTimeout(()=>{N("metris",{highScore:ne,level:pt,stats:{gamesPlayed:Se+1,totalScore:Q+J,bestCombo:Math.max(se,je),longestSurvival:Math.max(xe,Ce)}})},100),e&&Ce>=600&&e.unlockAchievement("metris","marathon_runner")}return{...C,grid:ee,currentPiece:Ae?null:ke,nextPiece:I(),canHold:!0,score:J,level:pt,lines:Ne,combo:je,gameOver:Ae,highScore:ne,particles:[...C.particles,...we],bulletTimeMeter:ue?0:me,bulletTimeActive:ue,bulletTimeTimer:F}}else return{...C,currentPiece:$,particles:C.particles.map(Y=>({...Y,x:Y.x+Y.vx,y:Y.y+Y.vy,vy:Y.vy+.3,opacity:Y.opacity*.95,life:Y.life*.95})).filter(Y=>Y.life>.1)}})},[oe,_,P,I,e,x,w,k,t]);m.useEffect(()=>{d.current=H},[H]),m.useEffect(()=>{if(V.gameOver||V.paused||V.waiting)return;let C;const M=()=>{var O;(O=d.current)==null||O.call(d),C=requestAnimationFrame(M)};return C=requestAnimationFrame(M),()=>{C&&cancelAnimationFrame(C)}},[V.gameOver,V.paused,V.waiting]),m.useEffect(()=>{const C=O=>{if(V.gameOver)return;if(l.current.add(O.key),V.waiting&&O.key==="Enter"){O.preventDefault(),B(U=>({...U,waiting:!1})),r.current=performance.now(),u.current=Date.now(),t||w("activate");return}if(O.key==="Escape"||O.key==="p"||O.key==="P"){O.preventDefault(),V.paused&&(r.current=performance.now()),B(U=>({...U,paused:!U.paused}));return}if(V.paused||V.waiting)return;if(["ArrowLeft","ArrowRight","ArrowUp","ArrowDown"," ","c","C","x","X","z","Z","Shift"].includes(O.key)&&O.preventDefault(),O.key===" "&&!l.current.has("hardDropped")){l.current.add("hardDropped"),R();return}O.key==="ArrowDown"&&B(U=>({...U,softDropActive:!0}));const z=Date.now();O.key==="ArrowLeft"&&(l.current.has("leftHeld")?z-c.current.left>Jh&&(c.current.left=z,j(-1,0)):(l.current.add("leftHeld"),c.current.left=z,j(-1,0))),O.key==="ArrowRight"&&(l.current.has("rightHeld")?z-c.current.right>Jh&&(c.current.right=z,j(1,0)):(l.current.add("rightHeld"),c.current.right=z,j(1,0))),(O.key==="ArrowUp"||O.key==="x"||O.key==="X")&&!l.current.has("rotated")&&(l.current.add("rotated"),K(1)),(O.key==="z"||O.key==="Z"||O.key==="Shift")&&!l.current.has("rotatedCCW")&&(l.current.add("rotatedCCW"),K(-1)),(O.key==="c"||O.key==="C")&&!l.current.has("held")&&(l.current.add("held"),W())},M=O=>{l.current.delete(O.key),l.current.delete("rotated"),l.current.delete("rotatedCCW"),l.current.delete("held"),l.current.delete("hardDropped"),l.current.delete("leftHeld"),l.current.delete("rightHeld"),O.key==="ArrowDown"&&B(z=>({...z,softDropActive:!1}))};return window.addEventListener("keydown",C),window.addEventListener("keyup",M),()=>{window.removeEventListener("keydown",C),window.removeEventListener("keyup",M)}},[V.gameOver,V.paused,V.waiting,j,K,W,R,w,t]),m.useEffect(()=>{const C=n.current;if(!C)return;const M=C.getContext("2d");if(!M)return;let O;const z=U=>{if(U-s.current<16){O=requestAnimationFrame(z);return}s.current=U,M.fillStyle="#001100",M.fillRect(0,0,C.width,C.height),V.bulletTimeActive&&(M.fillStyle="rgba(0, 255, 0, 0.05)",M.fillRect(0,0,C.width,C.height)),M.strokeStyle="#003300",M.lineWidth=1;for(let $=0;$<=ln;$++)M.beginPath(),M.moveTo(0,$*ve),M.lineTo(Zt*ve,$*ve),M.stroke();for(let $=0;$<=Zt;$++)M.beginPath(),M.moveTo($*ve,0),M.lineTo($*ve,ln*ve),M.stroke();for(let $=0;$<ln;$++)for(let Y=0;Y<Zt;Y++){const ee=V.grid[$][Y];if(ee.filled){const ge=Y*ve,we=$*ve;M.fillStyle=ee.color,M.fillRect(ge+2,we+2,ve-4,ve-4),ee.glow&&ee.glow>0&&(M.shadowBlur=20,M.shadowColor=ee.color,M.fillStyle=ee.color,M.fillRect(ge+2,we+2,ve-4,ve-4),M.shadowBlur=0,V.grid[$][Y].glow=Math.max(0,ee.glow-.02)),M.fillStyle="#000000",M.font=`${ve*.6}px monospace`,M.textAlign="center",M.textBaseline="middle",M.fillText(ee.char,ge+ve/2,we+ve/2)}}if(V.currentPiece){const $=D(V.currentPiece,V.grid);Cr[V.currentPiece.type],M.fillStyle="rgba(0, 255, 0, 0.2)",M.strokeStyle="#00ff00",M.lineWidth=2;for(let Y=0;Y<V.currentPiece.shape.length;Y++)for(let ee=0;ee<V.currentPiece.shape[Y].length;ee++)if(V.currentPiece.shape[Y][ee]){const ge=(V.currentPiece.x+ee)*ve,we=($+Y)*ve;M.strokeRect(ge+2,we+2,ve-4,ve-4)}}if(V.currentPiece){const $=Cr[V.currentPiece.type];for(let Y=0;Y<V.currentPiece.shape.length;Y++)for(let ee=0;ee<V.currentPiece.shape[Y].length;ee++)if(V.currentPiece.shape[Y][ee]){const ge=(V.currentPiece.x+ee)*ve,we=(V.currentPiece.y+Y)*ve;M.fillStyle=$.color,M.fillRect(ge+2,we+2,ve-4,ve-4),M.shadowBlur=15,M.shadowColor=$.color,M.fillRect(ge+2,we+2,ve-4,ve-4),M.shadowBlur=0,M.fillStyle="#000000",M.font=`${ve*.6}px monospace`,M.textAlign="center",M.textBaseline="middle",M.fillText($.char,ge+ve/2,we+ve/2)}}V.particles.forEach($=>{M.fillStyle=$.color,M.globalAlpha=$.opacity,M.font=`${$.size}px monospace`,M.textAlign="center",M.textBaseline="middle",M.fillText($.char,$.x,$.y)}),M.globalAlpha=1,O=requestAnimationFrame(z)};return O=requestAnimationFrame(z),()=>{O&&cancelAnimationFrame(O)}},[V.grid,V.currentPiece,V.particles,V.bulletTimeActive,D]);const ce=()=>{const C=Math.max(V.highScore,V.score);localStorage.setItem("metris_highScore",C.toString()),r.current=0,o.current=pl,h.current=[],u.current=Date.now(),f.current=0,y.current=0,b.current=0,v.current=0,S.current=0,p.current=!1,B({grid:L(),currentPiece:I(),nextPiece:I(),holdPiece:null,canHold:!0,score:0,level:1,lines:0,combo:0,gameOver:!1,paused:!1,highScore:C,particles:[],bulletTimeMeter:0,bulletTimeActive:!1,bulletTimeTimer:0,tSpins:0,waiting:!0,softDropActive:!1}),t||w("activate")},re=(C,M=60)=>{if(!C)return null;const O=Cr[C.type],z=M/4;return a.jsx("div",{className:"relative",style:{width:M,height:M},children:C.shape.map((U,$)=>U.map((Y,ee)=>Y?a.jsx("div",{className:"absolute",style:{left:ee*z,top:$*z,width:z-2,height:z-2,backgroundColor:O.color,border:`1px solid ${O.color}`,boxShadow:`0 0 10px ${O.color}`,display:"flex",alignItems:"center",justifyContent:"center",fontSize:z*.6,fontWeight:"bold",color:"#000"},children:O.char},`${$}-${ee}`):null))})};return a.jsxs("div",{className:"w-full h-full flex items-center justify-center bg-black p-4",children:[a.jsx("div",{className:"absolute inset-0 opacity-10 pointer-events-none overflow-hidden",children:[...Array(30)].map((C,M)=>a.jsx("div",{className:"absolute text-green-500 animate-matrix-rain",style:{left:`${Math.random()*100}%`,animationDelay:`${Math.random()*2}s`,animationDuration:`${1+Math.random()*3}s`,fontSize:"14px"},children:so[Math.floor(Math.random()*so.length)]},M))}),a.jsxs("div",{className:"relative flex gap-6 items-start",children:[a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsxs("div",{className:"bg-gray-900 border-2 border-green-500 rounded-lg p-3",children:[a.jsxs("div",{className:"text-green-400 text-sm font-mono mb-2 flex items-center gap-2",children:[a.jsx(Ak,{className:"w-4 h-4"}),"HOLD (C)"]}),a.jsx("div",{className:"flex items-center justify-center h-16",children:re(V.holdPiece)})]}),a.jsx("div",{className:"bg-gray-900 border-2 border-green-500 rounded-lg p-3 space-y-2",children:a.jsxs("div",{className:"text-green-400 font-mono text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"SCORE:"}),a.jsx("span",{className:"text-green-300",children:V.score.toLocaleString()})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"LEVEL:"}),a.jsx("span",{className:"text-green-300",children:V.level})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"LINES:"}),a.jsx("span",{className:"text-green-300",children:V.lines})]}),V.combo>0&&a.jsxs("div",{className:"flex justify-between text-yellow-400 animate-pulse",children:[a.jsx("span",{children:"COMBO:"}),a.jsxs("span",{children:[V.combo,"x"]})]})]})}),a.jsxs("div",{className:"bg-gray-900 border-2 border-green-500 rounded-lg p-3",children:[a.jsxs("div",{className:"text-green-400 text-sm font-mono mb-2 flex items-center gap-2",children:[a.jsx(Gn,{className:"w-4 h-4"}),"BULLET TIME (B)"]}),a.jsxs("div",{className:"relative h-20 bg-gray-800 border border-green-700 rounded",children:[a.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-green-500 to-green-300 transition-all duration-300",style:{height:`${V.bulletTimeMeter}%`}}),V.bulletTimeActive&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsx(os,{className:"w-8 h-8 text-white animate-spin"})})]}),V.bulletTimeActive&&a.jsxs("div",{className:"text-center text-green-400 text-xs mt-1",children:[(V.bulletTimeTimer/1e3).toFixed(1),"s"]})]}),a.jsx("div",{className:"bg-gray-900 border-2 border-yellow-500 rounded-lg p-3",children:a.jsxs("div",{className:"text-yellow-400 font-mono text-sm flex items-center gap-2",children:[a.jsx(bn,{className:"w-4 h-4"}),a.jsxs("div",{children:[a.jsx("div",{children:"HIGH SCORE"}),a.jsx("div",{className:"text-lg",children:V.highScore.toLocaleString()})]})]})})]}),a.jsxs("div",{className:"relative",children:[a.jsx("canvas",{ref:n,width:Zt*ve,height:ln*ve,className:"border-4 border-green-500 rounded-lg shadow-[0_0_30px_rgba(0,255,0,0.5)]",style:{imageRendering:"crisp-edges",filter:V.bulletTimeActive?"hue-rotate(30deg) brightness(1.2)":"none"}}),V.waiting&&!V.gameOver&&a.jsx("div",{className:"absolute inset-0 bg-black/80 flex items-center justify-center backdrop-blur-sm",children:a.jsxs("div",{className:"text-center",children:[a.jsx($n,{className:"w-16 h-16 text-green-500 mx-auto mb-4 animate-pulse"}),a.jsx("div",{className:"text-2xl font-mono text-green-500 mb-4",children:"METRIS"}),a.jsx("div",{className:"text-lg text-green-400 animate-pulse",children:"Press ENTER to start"}),a.jsx("div",{className:"text-sm text-green-500/70 mt-4",children:"SPACE = Hard Drop |  = Soft Drop |   = Move |  = Rotate"})]})}),V.paused&&!V.gameOver&&!V.waiting&&a.jsx("div",{className:"absolute inset-0 bg-black/80 flex items-center justify-center backdrop-blur-sm",children:a.jsxs("div",{className:"text-center",children:[a.jsx(pi,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),a.jsx("div",{className:"text-2xl font-mono text-green-500",children:"PAUSED"}),a.jsx("div",{className:"text-sm text-green-400 mt-2",children:"Press P or ESC to resume"})]})}),V.gameOver&&a.jsx("div",{className:"absolute inset-0 bg-black/90 flex items-center justify-center backdrop-blur-sm border-4 border-red-500 rounded-lg",children:a.jsxs("div",{className:"text-center p-6",children:[a.jsx("div",{className:"text-3xl font-mono text-red-500 mb-4 animate-pulse",children:"GAME OVER"}),a.jsxs("div",{className:"text-xl text-green-400 mb-2",children:["Score: ",V.score.toLocaleString()]}),a.jsxs("div",{className:"text-sm text-green-500 mb-4",children:["Level: ",V.level," | Lines: ",V.lines]}),V.score===V.highScore&&V.score>0&&a.jsxs("div",{className:"text-yellow-400 mb-4 flex items-center gap-2 justify-center",children:[a.jsx(bn,{className:"w-5 h-5"}),"NEW HIGH SCORE!"]}),a.jsxs("button",{onClick:ce,className:"px-6 py-3 bg-green-600 hover:bg-green-500 text-black font-mono rounded-lg flex items-center gap-2 mx-auto transition-colors",children:[a.jsx(td,{className:"w-5 h-5"}),"RESTART"]})]})})]}),a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsxs("div",{className:"bg-gray-900 border-2 border-green-500 rounded-lg p-3",children:[a.jsx("div",{className:"text-green-400 text-sm font-mono mb-2",children:"NEXT"}),a.jsx("div",{className:"flex items-center justify-center h-16",children:re(V.nextPiece)})]}),a.jsx("div",{className:"bg-gray-900 border-2 border-green-500 rounded-lg p-3",children:a.jsxs("div",{className:"text-green-400 text-xs font-mono space-y-1",children:[a.jsx("div",{className:"font-bold mb-2",children:"CONTROLS"}),a.jsx("div",{children:"  Move"}),a.jsx("div",{children:" X Rotate"}),a.jsx("div",{children:"Z Rotate CCW"}),a.jsx("div",{children:"C Hold"}),a.jsx("div",{children:"P Pause"}),a.jsx("div",{className:"text-green-300 text-[10px] mt-2",children:"* Blocks fall automatically"}),a.jsx("div",{className:"text-yellow-300 text-[10px]",children:"* Bullet Time: Auto"})]})}),a.jsxs("button",{onClick:()=>{V.paused&&(r.current=performance.now()),B(C=>({...C,paused:!C.paused}))},className:"px-4 py-2 bg-green-600 hover:bg-green-500 text-black font-mono rounded-lg flex items-center gap-2 transition-colors",children:[V.paused?a.jsx($n,{className:"w-4 h-4"}):a.jsx(pi,{className:"w-4 h-4"}),V.paused?"RESUME":"PAUSE"]})]})]})]})}const t5=({achievement:e,onDismiss:t})=>{const[n,r]=m.useState(!1);return m.useEffect(()=>{if(e){r(!0);const s=setTimeout(()=>{r(!1),setTimeout(t,300)},5e3);return()=>clearTimeout(s)}},[e,t]),e?a.jsx(Ge,{children:n&&a.jsx(X.div,{className:"fixed top-8 right-8 z-50 pointer-events-none",initial:{x:400,opacity:0},animate:{x:0,opacity:1},exit:{x:400,opacity:0},transition:{type:"spring",damping:20,stiffness:300},children:a.jsxs("div",{className:`relative bg-black/90 border-2 border-green-500 rounded-lg p-6 
                       shadow-[0_0_30px_rgba(0,255,0,0.5)] backdrop-blur-md
                       min-w-[320px] max-w-[400px]`,children:[a.jsx("div",{className:"absolute inset-0 overflow-hidden rounded-lg opacity-20",children:a.jsx("div",{className:"matrix-rain"})}),a.jsxs("div",{className:"relative z-10 flex items-start gap-4",children:[a.jsx(X.div,{className:"flex-shrink-0",animate:{scale:[1,1.2,1],rotate:[0,360,0]},transition:{duration:.6},children:a.jsx("div",{className:`w-16 h-16 bg-green-500/20 rounded-full flex items-center justify-center
                              border-2 border-green-500 shadow-[0_0_20px_rgba(0,255,0,0.5)]`,children:e.icon?a.jsx("span",{className:"text-3xl",children:e.icon}):a.jsx(bn,{className:"w-8 h-8 text-green-500"})})}),a.jsx("div",{className:"flex-1",children:a.jsxs(X.div,{initial:{y:-10,opacity:0},animate:{y:0,opacity:1},transition:{delay:.1},children:[a.jsxs("h3",{className:"text-green-500 font-mono text-sm mb-1 flex items-center gap-2",children:[a.jsx(Rk,{className:"w-4 h-4"}),"ACHIEVEMENT UNLOCKED"]}),a.jsx("h2",{className:"text-white font-mono text-xl mb-2 tracking-wider",children:e.name}),a.jsx("p",{className:"text-green-300/80 font-mono text-sm leading-relaxed",children:e.description}),e.game&&a.jsx("p",{className:"text-green-500/60 font-mono text-xs mt-2",children:e.game})]})})]}),a.jsx(X.div,{className:"absolute bottom-0 left-0 h-1 bg-green-500",initial:{width:"100%"},animate:{width:"0%"},transition:{duration:5,ease:"linear"}}),a.jsx("div",{className:"absolute inset-0 pointer-events-none",children:a.jsx(X.div,{className:"w-full h-full",animate:{clipPath:["inset(0 0 100% 0)","inset(0 0 90% 0)","inset(0 0 100% 0)"],opacity:[0,.1,0]},transition:{duration:.5,repeat:1/0,repeatDelay:2},style:{background:"linear-gradient(180deg, transparent, rgba(0,255,0,0.1), transparent)",filter:"blur(1px)"}})})]})})}):null},n5=({achievements:e,onDismiss:t})=>a.jsx("div",{className:"fixed top-8 right-8 z-50 space-y-4",children:e.map((n,r)=>a.jsx(X.div,{initial:{x:400,opacity:0},animate:{x:0,opacity:1,y:r*10},exit:{x:400,opacity:0},transition:{type:"spring",damping:20,stiffness:300,delay:r*.1},children:a.jsx(t5,{achievement:n,onDismiss:()=>t(r)})},`${n.id}-${r}`))}),r5=({isOpen:e,onClose:t,achievements:n})=>{const[r,s]=m.useState(""),[i,o]=m.useState(null),l=m.useMemo(()=>n.reduce((u,f)=>{const y=f.game||"General";return u[y]||(u[y]=[]),u[y].push(f),u},{}),[n]),c=m.useMemo(()=>{let h=n;return r&&(h=h.filter(u=>u.name.toLowerCase().includes(r.toLowerCase())||u.description.toLowerCase().includes(r.toLowerCase()))),i&&(h=h.filter(u=>u.game===i)),h},[n,r,i]),d=m.useMemo(()=>{const h=n.length,u=n.filter(y=>y.unlocked).length,f=h>0?Math.round(u/h*100):0;return{total:h,unlocked:u,percentage:f}},[n]);return e?a.jsx(Ge,{children:a.jsx(X.div,{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,children:a.jsxs(X.div,{className:`relative w-full max-w-6xl h-[90vh] bg-black/95 border-2 border-green-500 
                     rounded-lg shadow-[0_0_50px_rgba(0,255,0,0.3)] overflow-hidden`,initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:h=>h.stopPropagation(),children:[a.jsx("div",{className:"absolute inset-0 opacity-10",children:a.jsx("div",{className:"matrix-rain"})}),a.jsxs("div",{className:"relative z-10 bg-black/80 border-b-2 border-green-500/50 p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(bn,{className:"w-8 h-8 text-green-500"}),a.jsx("h1",{className:"text-3xl font-mono text-green-500 tracking-wider",children:"ACHIEVEMENTS"})]}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-green-500/20 rounded transition-colors",children:a.jsx(Xn,{className:"w-6 h-6 text-green-500"})})]}),a.jsxs("div",{className:"flex items-center gap-8 text-green-300 font-mono",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(nd,{className:"w-5 h-5"}),a.jsxs("span",{children:[d.unlocked," / ",d.total," UNLOCKED"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Pk,{className:"w-5 h-5"}),a.jsxs("span",{children:[d.percentage,"% COMPLETE"]})]})]}),a.jsx("div",{className:"mt-4 h-2 bg-green-900/30 rounded-full overflow-hidden",children:a.jsx(X.div,{className:"h-full bg-gradient-to-r from-green-600 to-green-400",initial:{width:0},animate:{width:`${d.percentage}%`},transition:{duration:.5,ease:"easeOut"}})})]}),a.jsx("div",{className:"relative z-10 bg-black/60 border-b border-green-500/30 p-4",children:a.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[a.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[a.jsx(Nk,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-green-500/50"}),a.jsx("input",{type:"text",placeholder:"Search achievements...",value:r,onChange:h=>s(h.target.value),className:`w-full pl-10 pr-4 py-2 bg-black/50 border border-green-500/30 
                           rounded text-green-300 font-mono placeholder-green-500/30
                           focus:border-green-500 focus:outline-none transition-colors`})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>o(null),className:`px-3 py-2 rounded font-mono text-sm transition-colors ${i?"bg-black/50 text-green-500/50 border border-green-500/30 hover:border-green-500/50":"bg-green-500/20 text-green-300 border border-green-500"}`,children:"ALL GAMES"}),Object.keys(l).map(h=>a.jsx("button",{onClick:()=>o(h),className:`px-3 py-2 rounded font-mono text-sm transition-colors flex items-center gap-2 ${i===h?"bg-green-500/20 text-green-300 border border-green-500":"bg-black/50 text-green-500/50 border border-green-500/30 hover:border-green-500/50"}`,children:h},h))]})]})}),a.jsxs("div",{className:"relative z-10 overflow-y-auto h-[calc(100%-280px)] p-6",children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map((h,u)=>a.jsxs(X.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:u*.05},className:`relative p-4 rounded-lg border-2 transition-all duration-300 ${h.unlocked?"bg-green-900/20 border-green-500 shadow-[0_0_20px_rgba(0,255,0,0.3)]":"bg-black/50 border-green-500/20 opacity-60"}`,children:[a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center
                                  ${h.unlocked?"bg-green-500/30 border-2 border-green-500":"bg-black/50 border-2 border-green-500/30"}`,children:h.unlocked?h.icon||a.jsx(bn,{className:"w-6 h-6 text-green-500"}):a.jsx(Qg,{className:"w-6 h-6 text-green-500/50"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:`font-mono text-lg mb-1 ${h.unlocked?"text-green-300":"text-green-500/50"}`,children:h.name}),a.jsx("p",{className:`font-mono text-sm mb-2 ${h.unlocked?"text-green-400/80":"text-green-500/30"}`,children:h.unlocked?h.description:"???"}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"font-mono text-xs text-green-500/50",children:h.game||"General"}),h.unlocked&&h.unlockedAt&&a.jsx("span",{className:"font-mono text-xs text-green-500/50",children:new Date(h.unlockedAt).toLocaleDateString()})]})]})]}),h.unlocked&&a.jsx(X.div,{className:"absolute inset-0 pointer-events-none",initial:{opacity:0},animate:{opacity:[0,.2,0]},transition:{duration:2,repeat:1/0,repeatDelay:3},children:a.jsx("div",{className:"w-full h-full bg-gradient-to-r from-transparent via-green-500/20 to-transparent"})})]},h.id))}),c.length===0&&a.jsxs("div",{className:"text-center py-20",children:[a.jsx(Gn,{className:"w-16 h-16 mx-auto text-green-500/30 mb-4"}),a.jsx("p",{className:"text-green-500/50 font-mono",children:"NO ACHIEVEMENTS FOUND"})]})]})]})})}):null},s5=()=>{const[e,t]=m.useState(null),[n,r]=m.useState(!1),[s,i]=m.useState(!1);m.useEffect(()=>{if(window.matchMedia("(display-mode: standalone)").matches){i(!0);return}const c=h=>{h.preventDefault(),t(h),setTimeout(()=>r(!0),2e3)},d=()=>{i(!0),r(!1),t(null)};return window.addEventListener("beforeinstallprompt",c),window.addEventListener("appinstalled",d),()=>{window.removeEventListener("beforeinstallprompt",c),window.removeEventListener("appinstalled",d)}},[]);const o=async()=>{if(!e)return;await e.prompt();const{outcome:c}=await e.userChoice;console.log(c==="accepted"?"User accepted the install prompt":"User dismissed the install prompt"),t(null),r(!1)},l=()=>{r(!1),sessionStorage.setItem("pwa-prompt-dismissed","true")};return m.useEffect(()=>{sessionStorage.getItem("pwa-prompt-dismissed")==="true"&&r(!1)},[]),s||!n?null:a.jsx(Ge,{children:a.jsx(X.div,{className:"fixed bottom-8 left-8 z-50",initial:{x:-400,opacity:0},animate:{x:0,opacity:1},exit:{x:-400,opacity:0},transition:{type:"spring",damping:20,stiffness:300},children:a.jsxs("div",{className:`bg-black/90 border-2 border-green-500 rounded-lg p-6 
                       shadow-[0_0_30px_rgba(0,255,0,0.5)] backdrop-blur-md
                       max-w-[350px]`,children:[a.jsx("div",{className:"absolute inset-0 overflow-hidden rounded-lg opacity-10",children:a.jsx("div",{className:"matrix-rain"})}),a.jsxs("div",{className:"relative z-10",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Gg,{className:"w-8 h-8 text-green-500"}),a.jsx("h3",{className:"text-xl font-mono text-green-500",children:"INSTALL MATRIX ARCADE"})]}),a.jsx("button",{onClick:l,className:"p-1 hover:bg-green-500/20 rounded transition-colors",children:a.jsx(Xn,{className:"w-5 h-5 text-green-500"})})]}),a.jsx("p",{className:"text-green-300 font-mono text-sm mb-6 leading-relaxed",children:"Install The Matrix Arcade to your device for offline play and a better gaming experience."}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:o,className:`flex-1 px-4 py-2 bg-green-500 text-black font-mono rounded
                         hover:bg-green-400 transition-colors font-bold`,children:"INSTALL NOW"}),a.jsx("button",{onClick:l,className:`px-4 py-2 bg-transparent border border-green-500/50 text-green-500 
                         font-mono rounded hover:bg-green-500/10 transition-colors`,children:"LATER"})]})]}),a.jsx("div",{className:"absolute inset-0 pointer-events-none",children:a.jsx(X.div,{className:"w-full h-full",animate:{clipPath:["inset(0 0 100% 0)","inset(0 0 80% 0)","inset(0 0 100% 0)"],opacity:[0,.1,0]},transition:{duration:.5,repeat:1/0,repeatDelay:3},style:{background:"linear-gradient(180deg, transparent, rgba(0,255,0,0.1), transparent)",filter:"blur(1px)"}})})]})})})},i5="modulepreload",o5=function(e){return"/"+e},em={},a5=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=o5(c),c in em)return;em[c]=!0;const d=c.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const u=document.createElement("link");if(u.rel=d?"stylesheet":i5,d||(u.as="script"),u.crossOrigin="",u.href=c,l&&u.setAttribute("nonce",l),document.head.appendChild(u),d)return new Promise((f,y)=>{u.addEventListener("load",f),u.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})};function l5(e={}){const{immediate:t=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:s,onRegisteredSW:i,onRegisterError:o}=e;let l,c;const d=async(u=!0)=>{await c};async function h(){if("serviceWorker"in navigator){if(l=await a5(async()=>{const{Workbox:u}=await import("./workbox-window.prod.es5-B9K5rw8f.js");return{Workbox:u}},[]).then(({Workbox:u})=>new u("/sw.js",{scope:"/",type:"classic"})).catch(u=>{o==null||o(u)}),!l)return;l.addEventListener("activated",u=>{(u.isUpdate||u.isExternal)&&window.location.reload()}),l.addEventListener("installed",u=>{u.isUpdate||r==null||r()}),l.register({immediate:t}).then(u=>{i?i("/sw.js",u):s==null||s(u)}).catch(u=>{o==null||o(u)})}}return c=h(),d}function c5(e={}){const{immediate:t=!0,onNeedRefresh:n,onOfflineReady:r,onRegistered:s,onRegisteredSW:i,onRegisterError:o}=e,[l,c]=m.useState(!1),[d,h]=m.useState(!1),[u]=m.useState(()=>l5({immediate:t,onOfflineReady(){h(!0),r==null||r()},onNeedRefresh(){c(!0),n==null||n()},onRegistered:s,onRegisteredSW:i,onRegisterError:o}));return{needRefresh:[l,c],offlineReady:[d,h],updateServiceWorker:u}}const u5=()=>{const{needRefresh:[e,t],updateServiceWorker:n}=c5({onRegistered(i){console.log("SW Registered:",i)},onRegisterError(i){console.log("SW registration error",i)}}),r=()=>{t(!1)},s=()=>{n(!0)};return a.jsx(Ge,{children:e&&a.jsx(X.div,{className:"fixed top-8 left-1/2 transform -translate-x-1/2 z-50",initial:{y:-100,opacity:0},animate:{y:0,opacity:1},exit:{y:-100,opacity:0},transition:{type:"spring",damping:20,stiffness:300},children:a.jsxs("div",{className:`bg-black/90 border-2 border-green-500 rounded-lg p-4 
                         shadow-[0_0_30px_rgba(0,255,0,0.5)] backdrop-blur-md`,children:[a.jsx("div",{className:"absolute inset-0 overflow-hidden rounded-lg opacity-10",children:a.jsx("div",{className:"matrix-rain"})}),a.jsxs("div",{className:"relative z-10 flex items-center gap-4",children:[a.jsx(Ck,{className:"w-6 h-6 text-green-500 animate-spin"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-mono text-green-500 text-sm mb-1",children:"NEW VERSION AVAILABLE"}),a.jsx("p",{className:"font-mono text-green-300 text-xs",children:"Reload to get the latest features and improvements"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:s,className:`px-3 py-1 bg-green-500 text-black font-mono text-sm rounded
                           hover:bg-green-400 transition-colors font-bold`,children:"RELOAD"}),a.jsx("button",{onClick:r,className:"p-1 hover:bg-green-500/20 rounded transition-colors",children:a.jsx(Xn,{className:"w-4 h-4 text-green-500"})})]})]})]})})})},d5=({onDismiss:e})=>a.jsxs(X.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black z-50 flex items-center justify-center p-4",children:[a.jsx("div",{className:"absolute inset-0 opacity-10",children:[...Array(30)].map((t,n)=>a.jsx("div",{className:"absolute text-green-500 animate-matrix-rain",style:{left:`${Math.random()*100}%`,animationDelay:`${Math.random()*2}s`,animationDuration:`${2+Math.random()*3}s`},children:String.fromCharCode(12448+Math.random()*96)},n))}),a.jsx(X.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},transition:{type:"spring",damping:20},className:"relative bg-gray-900 border-2 border-green-500 rounded-lg p-8 max-w-md w-full shadow-[0_0_50px_rgba(0,255,0,0.3)]",children:a.jsxs("div",{className:"flex flex-col items-center text-center",children:[a.jsxs("div",{className:"mb-6 relative",children:[a.jsx(Ug,{className:"w-16 h-16 text-yellow-500 animate-pulse"}),a.jsx("div",{className:"absolute inset-0 blur-xl bg-yellow-500/20"})]}),a.jsx("h2",{className:"text-2xl font-mono text-green-400 mb-4",children:"DESKTOP REQUIRED"}),a.jsx("p",{className:"text-green-300 mb-6 leading-relaxed",children:"The Matrix Arcade games require a desktop computer with keyboard controls for the optimal gaming experience."}),a.jsx("div",{className:"mb-6",children:a.jsx(Xg,{className:"w-12 h-12 text-green-500"})}),a.jsx("p",{className:"text-sm text-gray-400 mb-6",children:"Please visit us on your desktop browser to enter the Matrix."}),e&&a.jsx("button",{onClick:e,className:"px-6 py-2 bg-green-500 text-black font-mono rounded hover:bg-green-400 transition-colors",children:"I UNDERSTAND"}),a.jsx("pre",{className:"text-xs text-green-500/50 mt-6",children:`    _____ 
   |     |
   |    |
   |_____|
   /     \\`})]})})]}),f5=()=>{const e=Sn(),[t,n]=m.useState([]),[r,s]=m.useState(!1),i=m.useRef(new Set);m.useEffect(()=>{const v=e.achievements.filter(S=>S.unlocked).map(S=>S.id);i.current=new Set(v)},[e.achievements]),m.useEffect(()=>{e.achievements.filter(S=>S.unlocked).forEach(S=>{if(!i.current.has(S.id)){i.current.add(S.id);const p={id:S.id,name:S.name,description:S.description,icon:S.icon,game:S.game,timestamp:Date.now()};n(g=>[...g,p])}})},[e.achievements]);const o=m.useCallback(v=>{n(S=>S.filter((p,g)=>g!==v))},[]),l=m.useCallback(()=>{n([])},[]),c=m.useCallback(()=>{s(v=>!v)},[]),d=m.useCallback(()=>{s(!0)},[]),h=m.useCallback(()=>{s(!1)},[]),u=m.useCallback(()=>{const v=e.achievements.length,S=e.achievements.filter(x=>x.unlocked).length,p=v>0?Math.round(S/v*100):0,g=e.achievements.reduce((x,w)=>{const k=w.game||"General";return x[k]||(x[k]={total:0,unlocked:0}),x[k].total++,w.unlocked&&x[k].unlocked++,x},{});return{total:v,unlocked:S,percentage:p,byGame:g}},[e.achievements]),f=m.useCallback((v,S,p)=>{const g=e.unlockAchievement(v,S);if(g&&p){const x=e.achievements.find(w=>w.id===S);if(x){const w={id:x.id,name:p.name||x.name,description:p.description||x.description,icon:p.icon||x.icon,game:p.game||x.game,timestamp:Date.now()};n(k=>[...k,w])}}return g},[e]),y=m.useCallback(v=>{const S=e.achievements.find(p=>p.id===v);return(S==null?void 0:S.unlocked)||!1},[e.achievements]);return{achievements:m.useCallback(()=>e.achievements.map(v=>({...v,unlocked:v.unlocked||!1,progress:v.progress||0,maxProgress:v.maxProgress||1,percentComplete:v.maxProgress?Math.round((v.progress||0)/v.maxProgress*100):v.unlocked?100:0})),[e.achievements])(),stats:u(),notificationQueue:t,dismissNotification:o,clearNotifications:l,isDisplayOpen:r,toggleDisplay:c,openDisplay:d,closeDisplay:h,unlockAchievement:f,isUnlocked:y,saveGame:e.saveGame,loadGame:e.loadGame,getSaveData:()=>e.saveData,clearSaveData:e.clearSaveData,exportSaveData:e.exportSaveData,importSaveData:e.importSaveData,updateGlobalStats:e.updateGlobalStats}},h5=()=>{const[e,t]=m.useState(!1),[n,r]=m.useState(!1);return m.useEffect(()=>{const s=()=>{var y;const i=((y=navigator.userAgent)==null?void 0:y.toLowerCase())||"",o=/android.*mobile|webos|iphone|ipod|blackberry|iemobile|opera mini|windows phone/i,l=/ipad|tablet|playbook|silk|(android(?!.*mobile))/i,c=o.test(i),d=l.test(i),h="ontouchstart"in window||navigator.maxTouchPoints>0,u=window.innerWidth<768,f=window.innerWidth>=768&&window.innerWidth<1024;t(c||h&&u),r(d||h&&f)};return s(),window.addEventListener("resize",s),window.addEventListener("orientationchange",s),()=>{window.removeEventListener("resize",s),window.removeEventListener("orientationchange",s)}},[]),{isMobile:e,isTablet:n,isDesktop:!e&&!n,isTouchDevice:"ontouchstart"in window||navigator.maxTouchPoints>0}},m5="/assets/matrixinvaders-CjtwUCDO.webp",p5="/assets/metris-CYZOPRYI.webp";function g5(){const[e,t]=m.useState(0),[n,r]=m.useState(!1),[s,i]=m.useState(!1),[o,l]=m.useState(!1),[c,d]=m.useState(!1),[h,u]=m.useState(!1),[f,y]=m.useState("right"),b=m.useRef(null),v=m.useRef(null),S=m.useRef(null),{playSFX:p,playMusic:g,stopMusic:x,playBackgroundMP3:w,stopBackgroundMP3:k,toggleMute:T,isMuted:N,config:A,updateConfig:L}=ka(),I=f5(),{saveData:V}=Sn(),{isMobile:B,isTablet:q}=h5(),oe=B||q,he=m.useRef(new Set),Z=m.useRef(null),D=m.useRef(0);m.useRef(Date.now()),m.useEffect(()=>{var H;const W=I.stats.unlocked,R=((H=I.getSaveData())==null?void 0:H.globalStats.globalAchievements)||[];W>=10&&!R.includes("global_10_achievements")&&I.updateGlobalStats({globalAchievements:[...R,"global_10_achievements"]}),W>=25&&!R.includes("global_25_achievements")&&I.updateGlobalStats({globalAchievements:[...R,"global_25_achievements"]}),W>=50&&!R.includes("global_50_achievements")&&I.updateGlobalStats({globalAchievements:[...R,"global_50_achievements"]})},[I.stats.unlocked,I]),m.useEffect(()=>{var W;if(e!==null){const H=["CTRL-S | The World","Snake Classic","Vortex Pong","Matrix Cloud","Matrix Invaders","Metris"][e]||"";if(!he.current.has(H)){he.current.add(H);const ce=((W=I.getSaveData())==null?void 0:W.globalStats.globalAchievements)||[];he.current.size===6&&!ce.includes("global_all_games")&&I.updateGlobalStats({globalAchievements:[...ce,"global_all_games"]})}}},[e,I]),m.useEffect(()=>{var ce;const W=((ce=I.getSaveData())==null?void 0:ce.globalStats.globalAchievements)||[],R=Object.values(V.games||{}).reduce((re,C)=>re+(C.highScore||0),0);R>=1e4&&!W.includes("global_score_10k")&&I.updateGlobalStats({globalAchievements:[...W,"global_score_10k"]}),R>=5e4&&!W.includes("global_score_50k")&&I.updateGlobalStats({globalAchievements:[...W,"global_score_50k"]}),R>=1e5&&!W.includes("global_score_100k")&&I.updateGlobalStats({globalAchievements:[...W,"global_score_100k"]}),Object.values(V.games||{}).reduce((re,C)=>{var M;return re+(((M=C.stats)==null?void 0:M.gamesPlayed)||0)},0)>=100&&!W.includes("global_100_plays")&&I.updateGlobalStats({globalAchievements:[...W,"global_100_plays"]})},[V,I]);const _=[{title:"CTRL-S | The World",icon:a.jsx(Sk,{className:"w-8 h-8"}),description:"A hilarious text adventure about saving the digital world",preview:"https://res.cloudinary.com/depqttzlt/image/upload/v1737071600/ctrlsthegame_m1tg5l.png",component:TS},{title:"Snake Classic",icon:a.jsx(_h,{className:"w-8 h-8"}),description:"Navigate through the matrix collecting data fragments",preview:"https://res.cloudinary.com/depqttzlt/image/upload/v1737071599/matrixsnake2_jw29w1.png",component:Uk},{title:"Vortex Pong",icon:a.jsx(yk,{className:"w-8 h-8"}),description:"Battle the AI in a hypnotic 3D arena",preview:"https://res.cloudinary.com/depqttzlt/image/upload/v1737071596/vortexpong2_hkjn4k.png",component:eS},{title:"Matrix Cloud",icon:a.jsx(_h,{className:"w-8 h-8"}),description:"Navigate through the digital storm",preview:"https://res.cloudinary.com/depqttzlt/image/upload/v1737071594/matrixcloud_rw8hsa.png",component:VS},{title:"Matrix Invaders",icon:a.jsx(gk,{className:"w-8 h-8"}),description:"Defend against the code invasion",preview:m5,component:KS},{title:"Metris",icon:a.jsx(uk,{className:"w-8 h-8"}),description:"Stack the code blocks and break the Matrix",preview:p5,component:e5}];m.useEffect(()=>{const W=ce=>{const re=ce.getContext("2d");if(!re)return null;const C=ce.parentElement;if(!C)return null;ce.width=C.offsetWidth,ce.height=C.offsetHeight;const M="",O=14,z=Math.floor(ce.width/O),U=Array(z).fill(1);let $,Y=0;const ee=ge=>{if(ge-Y<33){$=requestAnimationFrame(ee);return}Y=ge,re.fillStyle="rgba(0, 0, 0, 0.05)",re.fillRect(0,0,ce.width,ce.height),re.fillStyle="#0F0",re.font=`${O}px monospace`;for(let we=0;we<U.length;we++){const je=M[Math.floor(Math.random()*M.length)];re.fillText(je,we*O,U[we]*O),U[we]*O>ce.height&&Math.random()>.975&&(U[we]=0),U[we]++}$=requestAnimationFrame(ee)};return $=requestAnimationFrame(ee),()=>cancelAnimationFrame($)};let R=null,H=null;if(v.current){const ce=v.current.querySelector("canvas.matrix-rain");ce instanceof HTMLCanvasElement&&(R=W(ce))}if(S.current){const ce=S.current.querySelector("canvas.matrix-rain");ce instanceof HTMLCanvasElement&&(H=W(ce))}return()=>{R&&R(),H&&H()}},[]),m.useEffect(()=>{const W=R=>{const H=R.target;n&&H.tagName!=="INPUT"&&H.tagName!=="TEXTAREA"&&R.preventDefault()};return window.addEventListener("keydown",W,!1),window.addEventListener("wheel",W,{passive:!1}),window.addEventListener("touchmove",W,{passive:!1}),()=>{window.removeEventListener("keydown",W),window.removeEventListener("wheel",W),window.removeEventListener("touchmove",W)}},[n]);const P=m.useCallback(W=>{const R=W>e?"right":"left";y(R),u(!0),setTimeout(()=>u(!1),600),i(!1),t(W),r(!1),p("menu")},[e,p]),E=m.useCallback(()=>{P(e===0?_.length-1:e-1)},[e,P]),j=m.useCallback(()=>{P(e===_.length-1?0:e+1)},[e,P]);m.useEffect(()=>{const W=R=>{R.key.toLowerCase()==="a"&&!n&&R.target instanceof HTMLElement&&R.target.tagName!=="INPUT"&&R.target.tagName!=="TEXTAREA"&&(R.preventDefault(),I.toggleDisplay()),R.key==="Escape"&&n&&(R.preventDefault(),r(!1),x(),p("menu")),!n&&(R.key==="ArrowLeft"||R.key==="ArrowRight")&&(R.preventDefault(),R.key==="ArrowLeft"?E():j()),!n&&R.key==="Enter"&&!oe&&(R.preventDefault(),r(!0),p("score"),setTimeout(()=>w("/matrixarcaderetrobeat.mp3"),500)),R.key.toLowerCase()==="v"&&!n&&R.target instanceof HTMLElement&&R.target.tagName!=="INPUT"&&R.target.tagName!=="TEXTAREA"&&(R.preventDefault(),T())};return window.addEventListener("keydown",W),()=>window.removeEventListener("keydown",W)},[n,I,x,p,oe,w,E,j,T]);const K=_[e].component;return a.jsxs(mS,{children:[oe&&a.jsx(d5,{}),a.jsxs("div",{className:"h-screen flex flex-col bg-black text-green-500 overflow-hidden",children:[a.jsxs("header",{ref:v,className:"relative border-b border-green-500/50 p-2 lg:p-3 overflow-hidden backdrop-blur-sm",children:[a.jsx("canvas",{className:"matrix-rain absolute top-0 left-0 w-full h-full opacity-15 z-0",style:{pointerEvents:"none"}}),a.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between relative z-10",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"relative group",children:[a.jsx(Xg,{className:"w-8 h-8 relative z-10"}),a.jsx("div",{className:"absolute inset-0 bg-green-500/20 rounded-full filter blur-sm animate-pulse"})]}),a.jsx("div",{children:a.jsxs("a",{href:"https://www.tomatic.tech/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-sm hover:text-green-400 transition-colors group",children:[a.jsx("h1",{className:"text-xl lg:text-2xl font-mono font-bold tracking-wider group-hover:text-green-400 transition-colors",children:"THE MATRIX ARCADE"}),a.jsx("p",{className:"text-xs text-green-400 tracking-widest hidden sm:block",children:"SYSTEM v1.1"})]})})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>d(!c),className:"p-2 bg-green-900/50 rounded hover:bg-green-800 transition-colors border border-green-500/30 backdrop-blur-sm",title:"Save Data Manager",children:a.jsx(gi,{className:"w-5 h-5"})}),a.jsx("button",{onClick:()=>l(!o),className:`p-2 rounded transition-colors border backdrop-blur-sm ${N?"bg-red-900/50 hover:bg-red-800 border-red-500/30":"bg-green-900/50 hover:bg-green-800 border-green-500/30"}`,title:"Audio Settings (V to mute)",children:a.jsx(ba,{className:`w-5 h-5 ${N?"text-red-400":""}`})}),a.jsx("button",{onClick:()=>i(!s),className:"flex items-center gap-2 px-4 py-2 bg-green-900/50 rounded hover:bg-green-800 transition-colors border border-green-500/30 backdrop-blur-sm group",children:"Games"})]})]})]}),s&&a.jsx("div",{className:"absolute left-0 top-0 h-full w-64 bg-black/90 border-r border-green-500/50 z-50 backdrop-blur-sm",style:{paddingTop:"5rem"},children:a.jsx("div",{className:"flex flex-col gap-2 p-4",children:_.map((W,R)=>a.jsxs("button",{onClick:()=>P(R),className:"w-full flex items-center gap-2 p-3 hover:bg-green-900/50 transition-colors text-left",children:[W.icon,a.jsx("span",{children:W.title})]},R))})}),a.jsx("main",{className:"flex-1 overflow-hidden flex items-center justify-center p-2 lg:p-4",children:n&&K?a.jsxs("div",{className:"relative w-full h-full",children:[a.jsx(K,{achievementManager:I,isMuted:N}),N&&a.jsxs("div",{className:"absolute top-4 left-4 z-50 flex items-center gap-2 px-4 py-2 bg-red-600/90 border-2 border-red-400 rounded-lg animate-pulse-red pointer-events-none shadow-lg shadow-red-500/50",children:[a.jsx(jc,{className:"w-5 h-5 text-white"}),a.jsx("span",{className:"text-white font-mono text-sm font-bold",children:"MUTED"})]}),a.jsxs("button",{onClick:()=>{var W;if(r(!1),x(),p("menu"),Z.current&&(D.current+=(Date.now()-Z.current)/1e3/60,Z.current=null,D.current>=60)){const R=((W=I.getSaveData())==null?void 0:W.globalStats.globalAchievements)||[];R.includes("global_marathon_gamer")||I.updateGlobalStats({globalAchievements:[...R,"global_marathon_gamer"]})}},className:"absolute top-4 right-4 z-50 p-3 bg-red-900/90 hover:bg-red-700 rounded-lg border-2 border-red-500/80 backdrop-blur-sm transition-all group shadow-lg hover:shadow-red-500/50 hover:scale-110",title:"Exit Game (ESC)",children:[a.jsx(Xn,{className:"w-6 h-6 group-hover:rotate-90 transition-transform"}),a.jsx("span",{className:"absolute -bottom-6 right-0 text-xs text-red-400 opacity-0 group-hover:opacity-100 transition-opacity",children:"ESC"})]})]}):a.jsxs("div",{className:"relative w-full max-w-2xl mx-auto flex flex-col justify-center h-full game-portal-container px-4",children:[a.jsx("div",{className:"absolute inset-0 opacity-20 pointer-events-none overflow-hidden",children:[...Array(20)].map((W,R)=>a.jsx("div",{className:"absolute text-green-500 animate-matrix-rain",style:{left:`${Math.random()*100}%`,animationDelay:`${Math.random()*2}s`,animationDuration:`${1+Math.random()*3}s`},children:String.fromCharCode(12448+Math.random()*96)},R))}),a.jsx("div",{ref:b,className:`
              digital-container game-portal-wrapper
              ${h?`transition-${f}`:""}
            `,children:a.jsxs("div",{className:"relative bg-gray-900 rounded-xl p-3 lg:p-4 border border-green-500 shadow-[0_0_20px_rgba(0,255,0,0.3)] w-full mx-auto",children:[a.jsx("div",{className:"relative aspect-[16/9] mb-2 lg:mb-3 rounded-lg overflow-hidden border border-green-500",children:a.jsx(Ge,{mode:"wait",children:a.jsx(X.div,{className:"w-full h-full transition-enhanced",children:n&&K?a.jsx(K,{achievementManager:I}):a.jsx("img",{src:_[e].preview,alt:_[e].title,className:"w-full h-full object-cover"})},e)})}),a.jsxs("div",{className:"game-controls-enhanced",children:[a.jsx("button",{onClick:E,className:"p-1.5 lg:p-2 hover:bg-green-900 rounded-full transition-colors transform hover:scale-110",title:"Previous game",children:a.jsx(hk,{className:"w-6 h-6"})}),a.jsxs("div",{className:"flex-1 text-center",children:[a.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[a.jsx("div",{className:"lg:scale-110",children:_[e].icon}),a.jsx("h2",{className:"text-lg lg:text-xl xl:text-2xl font-mono",children:_[e].title})]}),a.jsx("p",{className:"text-green-400 font-mono text-xs lg:text-sm mb-3 lg:mb-4",children:_[e].description}),typeof K<"u"&&a.jsxs("button",{onClick:()=>{var W,R,H;if(!oe)if(r(!n),p(n?"menu":"score"),n){if(x(),Z.current&&(D.current+=(Date.now()-Z.current)/1e3/60,Z.current=null,D.current>=60)){const ce=((H=I.getSaveData())==null?void 0:H.globalStats.globalAchievements)||[];ce.includes("global_marathon_gamer")||I.updateGlobalStats({globalAchievements:[...ce,"global_marathon_gamer"]})}}else{setTimeout(()=>w("/matrixarcaderetrobeat.mp3"),500);const ce=_[e].title;if(he.current.add(ce),Z.current=Date.now(),he.current.size===1){const re=((W=I.getSaveData())==null?void 0:W.globalStats.globalAchievements)||[];re.includes("global_first_game")||I.updateGlobalStats({globalAchievements:[...re,"global_first_game"]})}if(he.current.size===_.length){const re=((R=I.getSaveData())==null?void 0:R.globalStats.globalAchievements)||[];re.includes("global_all_games")||I.updateGlobalStats({globalAchievements:[...re,"global_all_games"]})}}},className:"px-4 py-2 lg:px-6 lg:py-2.5 bg-green-500 text-black font-mono rounded-full hover:bg-green-400 transition-colors flex items-center gap-2 mx-auto transform hover:scale-105 text-sm lg:text-base font-bold",children:[a.jsx($n,{className:"w-4 h-4"}),n?"STOP":"PLAY"]})]}),a.jsx("button",{onClick:j,className:"p-1.5 lg:p-2 hover:bg-green-900 rounded-full transition-colors transform hover:scale-110",title:"Next game",children:a.jsx(mk,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"mt-4 text-xs lg:text-sm text-green-400/70 text-center space-y-1",children:[a.jsx("p",{children:"  Navigate Games  Enter to Play  ESC to Exit"}),a.jsx("p",{children:"A for Achievements  V to Toggle Mute"})]})]})})]})}),a.jsxs("footer",{ref:S,className:"relative border-t border-green-500/50 p-2 lg:p-3 overflow-hidden backdrop-blur-sm bottom-0 w-full",children:[a.jsx("canvas",{className:"matrix-rain absolute top-0 left-0 w-full h-full opacity-15 z-0",style:{pointerEvents:"none"}}),a.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between relative z-10",children:[a.jsxs("div",{className:"font-mono text-xs lg:text-sm flex items-center gap-2 lg:gap-4",children:[a.jsx("p",{className:"tracking-wider hidden lg:block",children:"THE MATRIX ARCADE v1.1"}),a.jsx("div",{className:"h-4 w-px bg-green-500/30 hidden lg:block"}),a.jsx("p",{className:"text-green-400",children:"TAKE THE RED PILL!"})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("a",{href:"https://thomasjbutler.me/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-sm hover:text-green-400 transition-colors group",children:[a.jsx("span",{children:"BY THOMAS J BUTLER"}),a.jsx(pk,{className:"w-4 h-4 group-hover:rotate-12 transition-transform"})]}),a.jsx("div",{className:"flex gap-1",children:[...Array(3)].map((W,R)=>a.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse",style:{animationDelay:`${R*200}ms`}},R))})]})]})]}),a.jsx(ny,{isOpen:o,onClose:()=>l(!1),isMuted:N,toggleMute:T}),a.jsx(ry,{isOpen:c,onClose:()=>d(!1)}),a.jsx(n5,{achievements:I.notificationQueue,onDismiss:I.dismissNotification}),a.jsx(r5,{isOpen:I.isDisplayOpen,onClose:I.closeDisplay,achievements:I.achievements}),a.jsx(s5,{}),a.jsx(u5,{}),a.jsx("style",{children:`

        
        .perspective {
          perspective: 2000px;
          perspective-origin: 50% 50%;
        }

        .digital-container {
          position: relative;
          transform-style: preserve-3d;
          transition: all 0.6s cubic-bezier(0.23, 1, 0.32, 1);
        }

        /* Removed conflicting game-container styles that were causing nesting issues */
      `})]})]})}hp(document.getElementById("root")).render(a.jsx(m.StrictMode,{children:a.jsx(g5,{})}));
